{"meta":{"title":"å³°äº«ä¼š","subtitle":"æ¼«é“æ±‚ç´¢","description":"é›†åˆäº†å¼€å‘æŠ€èƒ½ï¼Œç”Ÿæ´»è¶£äº‹ï¼Œæœªæ¥ç§‘æŠ€ï¼Œæƒ…æ„Ÿäº’åŠ¨äºä¸€ä½“ã€‚","author":"æ¼«é“æ±‚ç´¢","url":"https://yangyfeng.github.io"},"pages":[{"title":"404 Not Found","date":"2021-03-27T06:24:34.611Z","updated":"2021-03-27T06:24:34.611Z","comments":true,"path":"404.html","permalink":"https://yangyfeng.github.io/404.html","excerpt":"","text":"404 Not Found å¾ˆæŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨å¯èƒ½æ˜¯è¾“å…¥åœ°å€æœ‰è¯¯æˆ–è¯¥åœ°å€å·²è¢«åˆ é™¤"},{"title":"","date":"2021-03-27T06:24:34.649Z","updated":"2021-03-27T06:24:34.649Z","comments":true,"path":"about/index.html","permalink":"https://yangyfeng.github.io/about/index.html","excerpt":"","text":"A Bout Meå³°äº«ä¼šè¿™æ˜¯ä¸€ä¸ªä¸ªäººæŠ€æœ¯ï¼Œèº«è¾¹è¶£äº‹çš„åˆ†äº«åšå®¢ å…³äºæˆ‘â€‹ å¿«ä¹å°å‰ç«¯ï¼ŒåŒ—æ¼‚ç å†œã€‚å¤é£éŸ³ä¹çˆ±å¥½è€…ã€‚ä»ä¸šæ•°æ®å¯è§†åŒ–ï¼Œå„ç§èŠ±é‡Œèƒ¡å“¨ä¸­çœ‹é—¨é“ï¼ˆæœ€å¿«åˆ†æå‡ºæœ€æœ‰ä»·å€¼çš„æ•°æ®ï¼‰ã€‚ â€‹ æ¯å†™ä¸€è¡Œä»£ç ï¼Œéƒ½æ˜¯äººç±»çš„ä¸€æ¬¡è¿›æ­¥ï¼æ¬§åŠ›ç»™ï¼Œå˜»å˜»å˜»ã€‚ä¹Ÿå°±10å¹´é’æ˜¥é¥­ï¼Œè¯¥æ‰“çš„é¸¡è¡€è¿˜æ˜¯è¦çš„ï¼ˆæ‚è„¸ingï¼‰ã€‚ â€‹ æ–‡ç« ä¸å®šæ—¶æ›´æ–°ï¼Œä¼šå‘çš„æœ‰ç‚¹æ…¢ï¼ˆå†™çš„å¤ªLowï¼Œæˆ–è€…æ²¡æœ‰çœ‹åˆ°ä¼˜ç§€çš„åŸåˆ›ï¼Œä¹Ÿæœ‰æå°‘å¯èƒ½æ˜¯æœ€è¿‘å·¥ä½œå¤ªé¡ºäº†ï¼Œç®€å•ä¸œè¥¿ç•™ä¸å¾—å°é¢ï¼Œå“ˆå“ˆå“ˆå“ˆï¼‰ã€‚ â€‹ å†ç»†å¾®çš„è¿›æ­¥åœ¨æ—¥ç§¯æœˆç´¯ä¸­ä¹Ÿèƒ½å˜æˆä¸­æµç ¥æŸ±ï¼ŒåŠ æ²¹å§ï¼Œæ‰“å·¥äººï¼Œç¨‹åºçŒ¿ä»¬ï¼Œè¿˜æœ‰å°‘å¹´å¦‚æˆ‘çš„è‡ªå·± ğŸ˜ğŸ˜ğŸ˜ã€‚ â€‹ æ¬¢è¿ç•™è¨€ï½ å…³äºåšå®¢â€‹ åšå®¢åŸºäºHexoï¼Œä¸»é¢˜ç…§æŠ„hexo-theme-material-xï¼Œä½¿ç”¨çš„Live2dï¼ˆå¯çˆ±çš„å°å§å§è¦å¤šå°‘æœ‰å¤šå°‘ï¼Œå¾ˆå¼€å¿ƒï¼‰ï¼Œæ¨¡å‹æ–‡ä»¶å¯ç›´æ¥å¼•ç”¨ã€‚è¯„è®ºæ˜¯Gittalkï¼Œç›´æ¥å…³è”è‡ªå·±çš„Gihubï¼Œç¨‹åºçŒ¿å¿…å¤‡æŠ€èƒ½ã€‚ â€‹ Githubé™æ€æœåŠ¡æ‰˜ç®¡ï¼Œè‡ªåŠ¨åŒæ­¥åˆ°ä¸ªäººäº‘æœåŠ¡å™¨ï¼Œæ–¹ä¾¿å¿«æ·ï¼"},{"title":"å‹é“¾","date":"2021-04-21T06:20:14.690Z","updated":"2021-04-21T06:20:14.690Z","comments":true,"path":"friends/index.html","permalink":"https://yangyfeng.github.io/friends/index.html","excerpt":"","text":"æµ·å†…å­˜çŸ¥å·±ï¼Œå¤©æ¶¯è‹¥æ¯”é‚»ï¼ ç›¸è§å³æ˜¯ç¼˜åˆ†ï¼Œæ¬¢è¿å„ä½å¤§ä½¬ç•™è¨€äº’æ¢å‹é“¾ï¼ å¿…é¡»è¦æœ‰åç§°ã€å¤´åƒé“¾æ¥ã€è‡³å°‘ä¸€ä¸ªæ ‡ç­¾æˆ–è€…ä¸€ä¸ªç®€ä»‹å“¦ï½ å„ä½å¤§ä½¬æƒ³äº¤æ¢å‹é“¾çš„è¯å¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ï¼Œå¿…é¡»è¦æœ‰åç§°ã€å¤´åƒé“¾æ¥ã€å’Œè‡³å°‘ä¸€ä¸ªæ ‡ç­¾å“¦ï½ åç§°ï¼š æ¼«é“æ±‚ç´¢å¤´åƒï¼š https://s2.ax1x.com/2019/07/12/Zhm4jf.jpgç½‘å€ï¼š http://yangyfeng.com/æ ‡ç­¾ï¼š å‰ç«¯å¼€å‘ã€å¤§æ•°æ®å¯è§†åŒ–"},{"title":"æ‰€æœ‰å½’æ¡£","date":"2021-03-27T06:24:34.650Z","updated":"2021-03-27T06:24:34.650Z","comments":true,"path":"blogpost/archives/index.html","permalink":"https://yangyfeng.github.io/blogpost/archives/index.html","excerpt":"","text":""},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2021-03-27T06:24:34.651Z","updated":"2021-03-27T06:24:34.651Z","comments":true,"path":"blogpost/categories/index.html","permalink":"https://yangyfeng.github.io/blogpost/categories/index.html","excerpt":"","text":""},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2021-03-27T06:24:34.651Z","updated":"2021-03-27T06:24:34.651Z","comments":true,"path":"blogpost/tags/index.html","permalink":"https://yangyfeng.github.io/blogpost/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"keep-aliveå®ç°åŸç†","slug":"Vue/keep-aliveå®ç°åŸç†","date":"2021-08-24T16:00:00.000Z","updated":"2021-08-25T03:42:23.857Z","comments":true,"path":"/posts/e9fee5eb.html","link":"","permalink":"https://yangyfeng.github.io/posts/e9fee5eb.html","excerpt":"ä¸€ã€å‰è¨€æœ¬æ–‡ä»‹ç»çš„å†…å®¹åŒ…æ‹¬ï¼š keep-aliveç”¨æ³•ï¼šåŠ¨æ€ç»„ä»¶&amp;vue-router keep-aliveæºç è§£æ keep-aliveç»„ä»¶åŠå…¶åŒ…è£¹ç»„ä»¶çš„é’©å­ keep-aliveç»„ä»¶åŠå…¶åŒ…è£¹ç»„ä»¶çš„æ¸²æŸ“ äºŒã€keep-aliveä»‹ç»ä¸åº”ç”¨2.1 keep-aliveæ˜¯ä»€ä¹ˆ keep-aliveæ˜¯ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼šå®ƒè‡ªèº«ä¸ä¼šæ¸²æŸ“ä¸€ä¸ªDOMå…ƒç´ ï¼Œä¹Ÿä¸ä¼šå‡ºç°åœ¨çˆ¶ç»„ä»¶é“¾ä¸­ï¼›ä½¿ç”¨keep-aliveåŒ…è£¹åŠ¨æ€ç»„ä»¶æ—¶ï¼Œä¼šç¼“å­˜ä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹ï¼Œè€Œä¸æ˜¯é”€æ¯å®ƒä»¬ã€‚ ä¸€ä¸ªåœºæ™¯ç”¨æˆ·åœ¨æŸä¸ªåˆ—è¡¨é¡µé¢é€‰æ‹©ç­›é€‰æ¡ä»¶è¿‡æ»¤å‡ºä¸€ä»½æ•°æ®åˆ—è¡¨ï¼Œç”±åˆ—è¡¨é¡µé¢è¿›å…¥æ•°æ®è¯¦æƒ…é¡µé¢ï¼Œå†è¿”å›è¯¥åˆ—è¡¨é¡µé¢ï¼Œæˆ‘ä»¬å¸Œæœ›ï¼šåˆ—è¡¨é¡µé¢å¯ä»¥ä¿ç•™ç”¨æˆ·çš„ç­›é€‰ï¼ˆæˆ–é€‰ä¸­ï¼‰çŠ¶æ€ã€‚ keep-aliveå°±æ˜¯ç”¨æ¥è§£å†³è¿™ç§åœºæ™¯ã€‚å½“ç„¶keep-aliveä¸ä»…ä»…æ˜¯èƒ½å¤Ÿä¿å­˜é¡µé¢/ç»„ä»¶çš„çŠ¶æ€è¿™ä¹ˆç®€å•ï¼Œå®ƒè¿˜å¯ä»¥é¿å…ç»„ä»¶åå¤åˆ›å»ºå’Œæ¸²æŸ“ï¼Œæœ‰æ•ˆæå‡ç³»ç»Ÿæ€§èƒ½ã€‚æ€»çš„æ¥è¯´ï¼Œkeep-aliveç”¨äºä¿å­˜ç»„ä»¶çš„æ¸²æŸ“çŠ¶æ€ã€‚ keep-aliveç”¨æ³• åœ¨åŠ¨æ€ç»„ä»¶ä¸­çš„åº”ç”¨ 123&lt;keep-alive :include=\"whiteList\" :exclude=\"blackList\" :max=\"amount\"&gt; &lt;component :is=\"currentComponent\"&gt;&lt;/component&gt;&lt;/keep-alive&gt; åœ¨vue-routerä¸­çš„åº”ç”¨ 123&lt;keep-alive :include=\"whiteList\" :exclude=\"blackList\" :max=\"amount\"&gt; &lt;router-view&gt;&lt;/router-view&gt;&lt;/keep-alive&gt; includeå®šä¹‰ç¼“å­˜ç™½åå•ï¼Œkeep-aliveä¼šç¼“å­˜å‘½ä¸­çš„ç»„ä»¶ï¼›excludeå®šä¹‰ç¼“å­˜é»‘åå•ï¼Œè¢«å‘½ä¸­çš„ç»„ä»¶å°†ä¸ä¼šè¢«ç¼“å­˜ï¼›maxå®šä¹‰ç¼“å­˜ç»„ä»¶ä¸Šé™ï¼Œè¶…å‡ºä¸Šé™ä½¿ç”¨LRUçš„ç­–ç•¥ç½®æ¢ç¼“å­˜æ•°æ®ã€‚ å†…å­˜ç®¡ç†çš„ä¸€ç§é¡µé¢ç½®æ¢ç®—æ³•ï¼Œå¯¹äºåœ¨å†…å­˜ä¸­ä½†åˆä¸ç”¨çš„æ•°æ®å—ï¼ˆå†…å­˜å—ï¼‰å«åšLRUï¼Œæ“ä½œç³»ç»Ÿä¼šæ ¹æ®å“ªäº›æ•°æ®å±äºLRUè€Œå°†å…¶ç§»å‡ºå†…å­˜è€Œè…¾å‡ºç©ºé—´æ¥åŠ è½½å¦å¤–çš„æ•°æ®ã€‚ ä¸‰ã€æºç å‰–ækeep-alive.jså†…éƒ¨è¿˜å®šä¹‰äº†ä¸€äº›å·¥å…·å‡½æ•°ï¼Œæˆ‘ä»¬æŒ‰ä½ä¸åŠ¨ï¼Œå…ˆçœ‹å®ƒå¯¹å¤–æš´éœ²çš„å¯¹è±¡ 123456789101112131415161718192021222324252627282930313233// src/core/components/keep-alive.jsexport default &#123; name: 'keep-alive', abstract: true, // åˆ¤æ–­å½“å‰ç»„ä»¶è™šæ‹Ÿdomæ˜¯å¦æ¸²æŸ“æˆçœŸå®domçš„å…³é”® props: &#123; include: patternTypes, // ç¼“å­˜ç™½åå• exclude: patternTypes, // ç¼“å­˜é»‘åå• max: [String, Number] // ç¼“å­˜çš„ç»„ä»¶ &#125;, created() &#123; this.cache = Object.create(null) // ç¼“å­˜è™šæ‹Ÿdom this.keys = [] // ç¼“å­˜çš„è™šæ‹Ÿdomçš„é”®é›†åˆ &#125;, destroyed() &#123; for (const key in this.cache) &#123; // åˆ é™¤æ‰€æœ‰çš„ç¼“å­˜ pruneCacheEntry(this.cache, key, this.keys) &#125; &#125;, mounted() &#123; // å®æ—¶ç›‘å¬é»‘ç™½åå•çš„å˜åŠ¨ this.$watch('include', val =&gt; &#123; pruneCache(this, name =&gt; matched(val, name)) &#125;) this.$watch('exclude', val =&gt; &#123; pruneCache(this, name =&gt; !matches(val, name)) &#125;) &#125;, render() &#123; // å…ˆçœç•¥... &#125;&#125;","text":"ä¸€ã€å‰è¨€æœ¬æ–‡ä»‹ç»çš„å†…å®¹åŒ…æ‹¬ï¼š keep-aliveç”¨æ³•ï¼šåŠ¨æ€ç»„ä»¶&amp;vue-router keep-aliveæºç è§£æ keep-aliveç»„ä»¶åŠå…¶åŒ…è£¹ç»„ä»¶çš„é’©å­ keep-aliveç»„ä»¶åŠå…¶åŒ…è£¹ç»„ä»¶çš„æ¸²æŸ“ äºŒã€keep-aliveä»‹ç»ä¸åº”ç”¨2.1 keep-aliveæ˜¯ä»€ä¹ˆ keep-aliveæ˜¯ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼šå®ƒè‡ªèº«ä¸ä¼šæ¸²æŸ“ä¸€ä¸ªDOMå…ƒç´ ï¼Œä¹Ÿä¸ä¼šå‡ºç°åœ¨çˆ¶ç»„ä»¶é“¾ä¸­ï¼›ä½¿ç”¨keep-aliveåŒ…è£¹åŠ¨æ€ç»„ä»¶æ—¶ï¼Œä¼šç¼“å­˜ä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹ï¼Œè€Œä¸æ˜¯é”€æ¯å®ƒä»¬ã€‚ ä¸€ä¸ªåœºæ™¯ç”¨æˆ·åœ¨æŸä¸ªåˆ—è¡¨é¡µé¢é€‰æ‹©ç­›é€‰æ¡ä»¶è¿‡æ»¤å‡ºä¸€ä»½æ•°æ®åˆ—è¡¨ï¼Œç”±åˆ—è¡¨é¡µé¢è¿›å…¥æ•°æ®è¯¦æƒ…é¡µé¢ï¼Œå†è¿”å›è¯¥åˆ—è¡¨é¡µé¢ï¼Œæˆ‘ä»¬å¸Œæœ›ï¼šåˆ—è¡¨é¡µé¢å¯ä»¥ä¿ç•™ç”¨æˆ·çš„ç­›é€‰ï¼ˆæˆ–é€‰ä¸­ï¼‰çŠ¶æ€ã€‚ keep-aliveå°±æ˜¯ç”¨æ¥è§£å†³è¿™ç§åœºæ™¯ã€‚å½“ç„¶keep-aliveä¸ä»…ä»…æ˜¯èƒ½å¤Ÿä¿å­˜é¡µé¢/ç»„ä»¶çš„çŠ¶æ€è¿™ä¹ˆç®€å•ï¼Œå®ƒè¿˜å¯ä»¥é¿å…ç»„ä»¶åå¤åˆ›å»ºå’Œæ¸²æŸ“ï¼Œæœ‰æ•ˆæå‡ç³»ç»Ÿæ€§èƒ½ã€‚æ€»çš„æ¥è¯´ï¼Œkeep-aliveç”¨äºä¿å­˜ç»„ä»¶çš„æ¸²æŸ“çŠ¶æ€ã€‚ keep-aliveç”¨æ³• åœ¨åŠ¨æ€ç»„ä»¶ä¸­çš„åº”ç”¨ 123&lt;keep-alive :include=\"whiteList\" :exclude=\"blackList\" :max=\"amount\"&gt; &lt;component :is=\"currentComponent\"&gt;&lt;/component&gt;&lt;/keep-alive&gt; åœ¨vue-routerä¸­çš„åº”ç”¨ 123&lt;keep-alive :include=\"whiteList\" :exclude=\"blackList\" :max=\"amount\"&gt; &lt;router-view&gt;&lt;/router-view&gt;&lt;/keep-alive&gt; includeå®šä¹‰ç¼“å­˜ç™½åå•ï¼Œkeep-aliveä¼šç¼“å­˜å‘½ä¸­çš„ç»„ä»¶ï¼›excludeå®šä¹‰ç¼“å­˜é»‘åå•ï¼Œè¢«å‘½ä¸­çš„ç»„ä»¶å°†ä¸ä¼šè¢«ç¼“å­˜ï¼›maxå®šä¹‰ç¼“å­˜ç»„ä»¶ä¸Šé™ï¼Œè¶…å‡ºä¸Šé™ä½¿ç”¨LRUçš„ç­–ç•¥ç½®æ¢ç¼“å­˜æ•°æ®ã€‚ å†…å­˜ç®¡ç†çš„ä¸€ç§é¡µé¢ç½®æ¢ç®—æ³•ï¼Œå¯¹äºåœ¨å†…å­˜ä¸­ä½†åˆä¸ç”¨çš„æ•°æ®å—ï¼ˆå†…å­˜å—ï¼‰å«åšLRUï¼Œæ“ä½œç³»ç»Ÿä¼šæ ¹æ®å“ªäº›æ•°æ®å±äºLRUè€Œå°†å…¶ç§»å‡ºå†…å­˜è€Œè…¾å‡ºç©ºé—´æ¥åŠ è½½å¦å¤–çš„æ•°æ®ã€‚ ä¸‰ã€æºç å‰–ækeep-alive.jså†…éƒ¨è¿˜å®šä¹‰äº†ä¸€äº›å·¥å…·å‡½æ•°ï¼Œæˆ‘ä»¬æŒ‰ä½ä¸åŠ¨ï¼Œå…ˆçœ‹å®ƒå¯¹å¤–æš´éœ²çš„å¯¹è±¡ 123456789101112131415161718192021222324252627282930313233// src/core/components/keep-alive.jsexport default &#123; name: 'keep-alive', abstract: true, // åˆ¤æ–­å½“å‰ç»„ä»¶è™šæ‹Ÿdomæ˜¯å¦æ¸²æŸ“æˆçœŸå®domçš„å…³é”® props: &#123; include: patternTypes, // ç¼“å­˜ç™½åå• exclude: patternTypes, // ç¼“å­˜é»‘åå• max: [String, Number] // ç¼“å­˜çš„ç»„ä»¶ &#125;, created() &#123; this.cache = Object.create(null) // ç¼“å­˜è™šæ‹Ÿdom this.keys = [] // ç¼“å­˜çš„è™šæ‹Ÿdomçš„é”®é›†åˆ &#125;, destroyed() &#123; for (const key in this.cache) &#123; // åˆ é™¤æ‰€æœ‰çš„ç¼“å­˜ pruneCacheEntry(this.cache, key, this.keys) &#125; &#125;, mounted() &#123; // å®æ—¶ç›‘å¬é»‘ç™½åå•çš„å˜åŠ¨ this.$watch('include', val =&gt; &#123; pruneCache(this, name =&gt; matched(val, name)) &#125;) this.$watch('exclude', val =&gt; &#123; pruneCache(this, name =&gt; !matches(val, name)) &#125;) &#125;, render() &#123; // å…ˆçœç•¥... &#125;&#125; å¯ä»¥çœ‹å‡ºï¼Œä¸æˆ‘ä»¬å®šä¹‰ç»„ä»¶çš„è¿‡ç¨‹ä¸€æ ·ï¼Œå…ˆæ˜¯è®¾ç½®ç»„ä»¶åä¸ºkeep-aliveï¼Œå…¶æ¬¡å®šä¹‰äº†ä¸€ä¸ªabstractå±æ€§ï¼Œå€¼ä¸ºtrueã€‚è¿™ä¸ªå±æ€§åœ¨vueçš„å®˜æ–¹æ•™ç¨‹å¹¶æœªæåŠï¼Œå´è‡³å…³é‡è¦ï¼Œåé¢çš„æ¸²æŸ“è¿‡ç¨‹ä¼šç”¨åˆ°ã€‚propså±æ€§å®šä¹‰äº†keep-aliveç»„ä»¶æ”¯æŒçš„å…¨éƒ¨å‚æ•°ã€‚ keep-aliveåœ¨å®ƒç”Ÿå‘½å‘¨æœŸå†…å®šä¹‰äº†ä¸‰ä¸ªé’©å­å‡½æ•°ï¼š created åˆå§‹åŒ–ä¸¤ä¸ªå¯¹è±¡åˆ†åˆ«ç¼“å­˜VNode(è™šæ‹ŸDOM)å’ŒVNodeå¯¹åº”çš„é”®é›†åˆ destroyed åˆ é™¤this.cacheä¸­ç¼“å­˜çš„VNodeå®ä¾‹ã€‚æˆ‘ä»¬ç•™æ„åˆ°ï¼Œè¿™ä¸æ˜¯ç®€å•åœ°å°†this.cacheç½®ä¸ºnullï¼Œè€Œæ˜¯éå†è°ƒç”¨pruneCacheEntryå‡½æ•°åˆ é™¤ã€‚ 1234567891011121314// src/core/components/keep-alive.jsfunction pruneCacheEntry ( cache: VNodeCache, key: string, keys: Array&lt;string&gt;, current?: VNode) &#123; const cached = cache[key] if (cached &amp;&amp; (!current || cached.tag !== current.tag)) &#123; cached.componentInstance.$destroyed() // æ‰§è¡Œç»„ä»¶çš„destroyé’©å­å‡½æ•° &#125; cache[key] = null remove(keys, key)&#125; åˆ é™¤ç¼“å­˜çš„VNodeè¿˜è¦å¯¹åº”ç»„ä»¶å®ä¾‹çš„destoryé’©å­å‡½æ•° mounted åœ¨mountedè¿™ä¸ªé’©å­ä¸­å¯¹includeå’Œexcludeå‚æ•°è¿›è¡Œç›‘å¬ï¼Œç„¶åå®æ—¶åœ°æ›´æ–°ï¼ˆåˆ é™¤ï¼‰this.cacheå¯¹è±¡æ•°æ®ã€‚pruneCacheå‡½æ•°çš„æ ¸å¿ƒä¹Ÿæ˜¯å»è°ƒç”¨pruneCacheEntry 123456789101112function pruneCache (keepAliveInstance: any, filter: Function) &#123; const &#123; cache, keys, _vnode &#125; = keepAliveInstance for (const key in cache) &#123; const cachedNode: ?VNode = cache[key] if (cachedNode) &#123; const name: ?string = getComponentName(cachedNode.componentOptions) if (name &amp;&amp; !filter(name)) &#123; pruneCacheEntry(cache, key, keys, _vnode) &#125; &#125; &#125;&#125; render 1234567891011121314151617181920212223242526272829303132333435363738render () &#123; const slot = this.$slots.defalut const vnode: VNode = getFirstComponentChild(slot) // æ‰¾åˆ°ç¬¬ä¸€ä¸ªå­ç»„ä»¶å¯¹è±¡ const componentOptions : ?VNodeComponentOptions = vnode &amp;&amp; vnode.componentOptions if (componentOptions) &#123; // å­˜åœ¨ç»„ä»¶å‚æ•° // check pattern const name: ?string = getComponentName(componentOptions) // ç»„ä»¶å const &#123; include, exclude &#125; = this if (// æ¡ä»¶åŒ¹é… // not included ï¼ˆinclude &amp;&amp; (!name || !matches(include, name))ï¼‰|| // excluded (exclude &amp;&amp; name &amp;&amp; matches(exclude, name)) ) &#123; return vnode &#125; const &#123; cache, keys &#125; = this // å®šä¹‰ç»„ä»¶çš„ç¼“å­˜key const key: ?string = vnode.key === null ? componentOptions.Ctor.cid + (componentOptions.tag ? `::$&#123;componentOptions.tag&#125;` : '') : vnode.key if (cache[key]) &#123; // å·²ç»ç¼“å­˜è¿‡è¯¥ç»„ä»¶ vnode.componentInstance = cache[key].componentInstance remove(keys, key) keys.push(key) // è°ƒæ•´keyæ’åº &#125; else &#123; cache[key] = vnode //ç¼“å­˜ç»„ä»¶å¯¹è±¡ keys.push(key) if (this.max &amp;&amp; keys.length &gt; parseInt(this.max)) &#123; //è¶…è¿‡ç¼“å­˜æ•°é™åˆ¶ï¼Œå°†ç¬¬ä¸€ä¸ªåˆ é™¤ pruneCacheEntry(cahce, keys[0], keys, this._vnode) &#125; &#125; vnode.data.keepAlive = true //æ¸²æŸ“å’Œæ‰§è¡Œè¢«åŒ…è£¹ç»„ä»¶çš„é’©å­å‡½æ•°éœ€è¦ç”¨åˆ° &#125; return vnode || (slot &amp;&amp; slot[0])&#125; ç¬¬ä¸€æ­¥ï¼šè·å–keep-aliveåŒ…è£¹ç€çš„ç¬¬ä¸€ä¸ªå­ç»„ä»¶å¯¹è±¡åŠå…¶ç»„ä»¶åï¼› ç¬¬äºŒæ­¥ï¼šæ ¹æ®è®¾å®šçš„é»‘ç™½åå•ï¼ˆå¦‚æœæœ‰ï¼‰è¿›è¡Œæ¡ä»¶åŒ¹é…ï¼Œå†³å®šæ˜¯å¦ç¼“å­˜ã€‚ä¸åŒ¹é…ï¼Œç›´æ¥è¿”å›ç»„ä»¶å®ä¾‹ï¼ˆVNodeï¼‰ï¼Œå¦åˆ™æ‰§è¡Œç¬¬ä¸‰æ­¥ï¼› ç¬¬ä¸‰æ­¥ï¼šæ ¹æ®ç»„ä»¶IDå’Œtagç”Ÿæˆç¼“å­˜Keyï¼Œå¹¶åœ¨ç¼“å­˜å¯¹è±¡ä¸­æŸ¥æ‰¾æ˜¯å¦å·²ç¼“å­˜è¿‡è¯¥ç»„ä»¶å®ä¾‹ã€‚å¦‚æœå­˜åœ¨ï¼Œç›´æ¥å–å‡ºç¼“å­˜å€¼å¹¶æ›´æ–°è¯¥keyåœ¨this.keysä¸­çš„ä½ç½®ï¼ˆæ›´æ–°keyçš„ä½ç½®æ˜¯å®ç°LRUç½®æ¢ç­–ç•¥çš„å…³é”®ï¼‰ï¼Œå¦åˆ™æ‰§è¡Œç¬¬å››æ­¥ï¼› ç¬¬å››æ­¥ï¼šåœ¨this.cacheå¯¹è±¡ä¸­å­˜å‚¨è¯¥ç»„ä»¶å®ä¾‹å¹¶ä¿å­˜keyå€¼ï¼Œä¹‹åæ£€æŸ¥ç¼“å­˜çš„å®ä¾‹æ•°é‡æ˜¯å¦è¶…è¿‡maxè®¾ç½®å€¼ï¼Œè¶…è¿‡åˆ™æ ¹æ®LRUç½®æ¢ç­–ç•¥åˆ é™¤æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨çš„å®ä¾‹ï¼ˆå³æ˜¯ä¸‹æ ‡ä¸º0çš„é‚£ä¸ªkeyï¼‰; ç¬¬äº”æ­¥ï¼šæœ€åå¹¶ä¸”å¾ˆé‡è¦ï¼Œå°†è¯¥ç»„ä»¶å®ä¾‹çš„keepAliveå±æ€§å€¼è®¾ç½®ä¸ºtrueã€‚ å››ã€é‡å¤´æˆï¼šæ¸²æŸ“4.1 Vueçš„æ¸²æŸ“è¿‡ç¨‹å€ŸåŠ©ä¸€å¼ å›¾çœ‹ä¸‹Vueæ¸²æŸ“çš„æ•´ä¸ªè¿‡ç¨‹ï¼š Vueçš„æ¸²æŸ“æ˜¯ä»å›¾ä¸­renderé˜¶æ®µå¼€å§‹çš„ï¼Œä½†keep-aliveçš„æ¸²æŸ“æ˜¯åœ¨patché˜¶æ®µï¼Œè¿™æ˜¯æ„å»ºç»„ä»¶æ ‘ï¼ˆè™šæ‹ŸDOMæ ‘ï¼‰ï¼Œå¹¶å°†VNodeè½¬æ¢æˆçœŸæ­£DOMèŠ‚ç‚¹çš„è¿‡ç¨‹ã€‚ç®€å•æè¿°ä»renderåˆ°patchçš„è¿‡ç¨‹ æˆ‘ä»¬ä»æœ€ç®€å•çš„new Vueå¼€å§‹ï¼š 12345import App from './App.vue'new Vue(&#123; render: h =&gt; h(App)&#125;).$mount('#app') Vueåœ¨æ¸²æŸ“çš„æ—¶å€™å…ˆè°ƒç”¨åŸå‹ä¸Šçš„_renderå‡½æ•°å°†ç»„ä»¶å¯¹è±¡è½¬åŒ–æˆä¸€ä¸ªVNodeå®ä¾‹ï¼›è€Œ_renderæ˜¯é€šè¿‡è°ƒç”¨createElementå’ŒcreateEmptyVNodeä¸¤ä¸ªå‡½æ•°è¿›è¡Œè½¬åŒ–ï¼› createElementçš„è½¬åŒ–è¿‡ç¨‹ä¼šæ ¹æ®ä¸åŒçš„æƒ…å½¢é€‰æ‹©new VNodeæˆ–è€…è°ƒç”¨createComponentå‡½æ•°åšVNodeå®ä¾‹åŒ–ï¼› å®ŒæˆVNodeå®ä¾‹åŒ–åï¼Œè¿™æ—¶å€™Vueè°ƒç”¨åŸå‹ä¸Šçš„_updateå‡½æ•°æŠŠVNodeæ¸²æŸ“æˆçœŸå®DOMï¼Œè¿™ä¸ªè¿‡ç¨‹åˆæ˜¯é€šè¿‡è°ƒç”¨patchå‡½æ•°å®Œæˆçš„ï¼ˆè¿™å°±æ˜¯patché˜¶æ®µäº†ï¼‰ ç”¨ä¸€å¼ å›¾è¡¨è¾¾ï¼š 4.2 keep-aliveç»„ä»¶çš„æ¸²æŸ“æˆ‘ä»¬ç”¨è¿‡keep-aliveéƒ½çŸ¥é“ï¼Œå®ƒä¸ä¼šç”ŸæˆçœŸæ­£çš„DOMèŠ‚ç‚¹ï¼Œè¿™æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ 1234567891011121314// src/core/instance/lifecycle.jsexport function initLifecycle (vm: Component) &#123; const options= vm.$options // æ‰¾åˆ°ç¬¬ä¸€ä¸ªéabstractçˆ¶ç»„ä»¶å®ä¾‹ let parent = options.parent if (parent &amp;&amp; !options.abstract) &#123; while (parent.$options.abstract &amp;&amp; parent.$parent) &#123; parent = parent.$parent &#125; parent.$children.push(vm) &#125; vm.$parent = parent // ...&#125; Vueåœ¨åˆå§‹åŒ–ç”Ÿå‘½å‘¨æœŸçš„æ—¶å€™ï¼Œä¸ºç»„ä»¶å®ä¾‹å»ºç«‹çˆ¶å­å…³ç³»ä¼šæ ¹æ®abstractå±æ€§å†³å®šæ˜¯å¦å¿½ç•¥æŸä¸ªç»„ä»¶ã€‚åœ¨keep-aliveä¸­ï¼Œè®¾ç½®äº†abstract:trueï¼Œé‚£Vueå°±ä¼šè·³è¿‡è¯¥ç»„ä»¶å®ä¾‹ã€‚ æœ€åæ„å»ºçš„ç»„ä»¶æ ‘ä¸­å°±ä¸ä¼šåŒ…å«keep-aliveç»„ä»¶ï¼Œé‚£ä¹ˆç”±ç»„ä»¶æ ‘æ¸²æŸ“æˆçš„DOMæ ‘è‡ªç„¶ä¹Ÿä¸ä¼šæœ‰keep-aliveç›¸å…³çš„èŠ‚ç‚¹äº†ã€‚ keep-aliveåŒ…è£¹çš„ç»„ä»¶æ˜¯å¦‚ä½•ä½¿ç”¨ç¼“å­˜çš„ï¼Ÿ åœ¨patché˜¶æ®µï¼Œä¼šæ‰§è¡ŒcreateComponentå‡½æ•°ï¼š 123456789101112131415161718// src/core/vdom/patch.jsfunction createComponent (vnode, insertedVnodeQueue, parentElm, refElm) &#123; let i = vnode.data if (isDef(i)) &#123; const isReactivated = isDef(vnode.componentInstance) &amp;&amp; i.keepAlive if (isDef(i = i.hook) &amp;&amp; isDef(i = i.init)) &#123; i(vnode, false) &#125; if (isDef(vnode.componentInstance)) &#123; initComponent(vnode, insertedVnodeQueue) insert(parentElem, vnode.elem, refElem) // å°†ç¼“å­˜çš„DOM(vnode.elem) æ’å…¥çˆ¶å…ƒç´ ä¸­ if (isTrue(isReactivated)) &#123; reactivateComponent(vnode, insertedVnodeQueue, parentEle, refElm) &#125; return true &#125; &#125;&#125; åœ¨é¦–æ¬¡åŠ è½½è¢«åŒ…è£¹ç»„å»ºæ—¶ï¼Œç”±keep-alive.jsä¸­çš„renderå‡½æ•°å¯çŸ¥ï¼Œvnode.componentInstanceçš„å€¼æ˜¯undfinedï¼ŒkeepAliveçš„å€¼æ˜¯trueï¼Œå› ä¸ºkeep-aliveç»„ä»¶ä½œä¸ºçˆ¶ç»„ä»¶ï¼Œå®ƒçš„renderå‡½æ•°ä¼šå…ˆäºè¢«åŒ…è£¹ç»„ä»¶æ‰§è¡Œï¼›é‚£ä¹ˆåªæ‰§è¡Œåˆ°i(vnode,false)ï¼Œåé¢çš„é€»è¾‘ä¸æ‰§è¡Œï¼› å†æ¬¡è®¿é—®è¢«åŒ…è£¹ç»„ä»¶æ—¶ï¼Œvnode.componentInstanceçš„å€¼å°±æ˜¯å·²ç»ç¼“å­˜çš„ç»„ä»¶å®ä¾‹ï¼Œé‚£ä¹ˆä¼šæ‰§è¡Œinsert(parentElm, vnode.elm, refElm)é€»è¾‘ï¼Œè¿™æ ·å°±ç›´æ¥æŠŠä¸Šä¸€æ¬¡çš„DOMæ’å…¥åˆ°çˆ¶å…ƒç´ ä¸­ã€‚ äº”ã€ä¸å¯å¿½è§†ï¼šé’©å­å‡½æ•°5.1 åªæ‰§è¡Œä¸€æ¬¡çš„é’©å­ä¸€èˆ¬çš„ç»„ä»¶ï¼Œæ¯ä¸€æ¬¡åŠ è½½éƒ½ä¼šæœ‰å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼Œå³ç”Ÿå‘½å‘¨æœŸé‡Œé¢å¯¹äºçš„é’©å­å‡½æ•°éƒ½ä¼šè¢«è§¦å‘ï¼Œä¸ºä»€ä¹ˆè¢«keep-aliveåŒ…è£¹çš„ç»„ä»¶å´ä¸æ˜¯å‘¢ï¼Ÿ è¢«ç¼“å­˜çš„ç»„ä»¶å®ä¾‹ä¼šä¸ºå…¶è®¾ç½®keepAlive= trueï¼Œè€Œåœ¨åˆå§‹åŒ–ç»„ä»¶é’©å­å‡½æ•°ä¸­ï¼š 1234567891011121314151617// src/core/vdom/create-component.jsconst componentVNodeHooks = &#123; init (vnode: VNodeWithData, hydrating: boolean): ?boolean&#123; if ( vnode.componentInstance &amp;&amp; !vnode.componentInstance._isDestroyed &amp;&amp; vnode.data.keepAlive ) &#123; // keep-alive components, treat as a patch const mountedNode:any = vnode componentVNodeHooks.prepatch(mountedNode, mountedNode) &#125; else &#123; const child = vnode.componentInstance = createComponentInstanceForVnode (vnode, activeInstance) &#125; &#125;&#125; å¯ä»¥çœ‹å‡ºï¼Œå½“vnode.componentInstanceå’ŒkeepAliveåŒæ—¶ä¸ºtrueæ—¶ï¼Œä¸å†è¿›å…¥$mountè¿‡ç¨‹ï¼Œé‚£mountedä¹‹å‰çš„æ‰€æœ‰é’©å­å‡½æ•°ï¼ˆbeforeCreateã€createdã€mountedï¼‰éƒ½ä¸å†æ‰§è¡Œã€‚ 5.2 å¯é‡å¤çš„activatedåœ¨patchçš„é˜¶æ®µï¼Œæœ€åä¼šæ‰§è¡ŒinvokeInsertHookå‡½æ•°ï¼Œè€Œè¿™ä¸ªå‡½æ•°å°±æ˜¯å»è°ƒç”¨ç»„ä»¶å®ä¾‹ï¼ˆVNodeï¼‰è‡ªèº«çš„inserté’©å­ï¼š 12345678910// src/core/vdom/patch.jsfunction invokeInsertHook (vnode, queue, initial) &#123; if (isTrue(initial) &amp;&amp; isDef(vnode.parent)) &#123; vnode.parent.data,pendingInsert = queue &#125; else &#123; for(let i =0; i&lt;queue.length; ++i) &#123; queue[i].data.hook.insert(queue[i]) // è°ƒç”¨VNodeè‡ªèº«çš„inserté’©å­å‡½æ•° &#125; &#125;&#125; å†çœ‹inserté’©å­ï¼š 123456789101112131415161718const componentVNodeHooks = &#123; // init() insert (vnode: MountedComponentVNode) &#123; const &#123; context, componentInstance &#125; = vnode if (!componentInstance._isMounted) &#123; componentInstance._isMounted = true callHook(componentInstance, 'mounted') &#125; if (vnode.data.keepAlive) &#123; if (context._isMounted) &#123; queueActivatedComponent(componentInstance) &#125; else &#123; activateChildComponent(componentInstance, true/* direct */) &#125; &#125; // ... &#125;&#125; åœ¨è¿™ä¸ªé’©å­é‡Œé¢ï¼Œè°ƒç”¨äº†activateChildComponentå‡½æ•°é€’å½’åœ°å»æ‰§è¡Œæ‰€æœ‰å­ç»„ä»¶çš„activatedé’©å­å‡½æ•°ï¼š 123456789101112131415161718// src/core/instance/lifecycle.jsexport function activateChildComponent (vm: Component, direct?: boolean) &#123; if (direct) &#123; vm._directInactive = false if (isInInactiveTree(vm)) &#123; return &#125; &#125; else if (vm._directInactive) &#123; return &#125; if (vm._inactive || vm._inactive === null) &#123; vm._inactive = false for (let i = 0; i &lt; vm.$children.length; i++) &#123; activateChildComponent(vm.$children[i]) &#125; callHook(vm, 'activated') &#125;&#125; ç›¸ååœ°ï¼Œdeactivatedé’©å­å‡½æ•°ä¹Ÿæ˜¯ä¸€æ ·çš„åŸç†ï¼Œåœ¨ç»„ä»¶å®ä¾‹ï¼ˆVNodeï¼‰çš„destroyé’©å­å‡½æ•°ä¸­è°ƒç”¨deactivateChildComponentå‡½æ•°ã€‚ å‚è€ƒ VueæŠ€æœ¯æ­ç§˜|keep-alive Vueæºç  åŸæ–‡åœ°å€ï¼šhttps://www.jianshu.com/p/9523bb439950","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"},{"name":"Webpack","slug":"Webpack","permalink":"https://yangyfeng.github.io/blogpost/tags/Webpack/"}]},{"title":"Github API v3 ä»‹ç»æ–‡æ¡£","slug":"Git/Github API v3 ä»‹ç»æ–‡æ¡£","date":"2021-08-17T16:00:00.000Z","updated":"2021-08-18T09:02:49.561Z","comments":true,"path":"/posts/ef2e5c8.html","link":"","permalink":"https://yangyfeng.github.io/posts/ef2e5c8.html","excerpt":"å¯¹äºå¸¸ç”¨Githubçš„ç”¨æˆ·æ¥è¯´ï¼Œç»å¸¸æœ‰ä¸€äº›è‡ªåŠ¨åŒ–çš„éœ€æ±‚ã€‚æ¯”å¦‚æˆ‘çš„éœ€æ±‚æ˜¯å®šæ—¶å¤‡ä»½Githubçš„issueså’Œcommentsåˆ°æœ¬åœ°ã€‚ä»¥ä¸‹ä¸ºGithubçš„APIçš„ä½¿ç”¨å‚è€ƒã€‚ v3ç‰ˆAPIçš„æ–‡æ¡£é“¾æ¥v3ç‰ˆAPIçš„å®˜æ–¹æ•™ç¨‹ åŸºæœ¬è®¿é—®è·¯å¾„ (Root Endpoints)ä¸€å¼€å§‹è¯»æ–‡æ¡£çš„æ—¶å€™ï¼Œç…§ç€å®ƒçš„äº‹ä¾‹ç›´æ¥åœ¨å‘½ä»¤è¡Œé‡Œcurlï¼Œæˆ–è€…åœ¨InSomniaæˆ–Postmanè½¯ä»¶é‡Œè®¿é—®ï¼Œéƒ½å®Œç¾æ˜¾ç¤º200çŠ¶æ€ã€‚å¯æ˜¯ä¸€æ—¦æŠŠé“¾æ¥é‡Œæ”¹å†™æˆè‡ªå·±çš„ç”¨æˆ·åå°±å„ç§æ˜¾ç¤º404æ— é¡µé¢ã€‚è¿˜ä»¥ä¸ºæ˜¯æˆæƒé—®é¢˜ï¼Œç„¶ååœ¨é¡µå¤´HEADERä¸­æŒ‰ç…§å„ç§æ–¹å¼è¯•äº†usernameå’Œtokenå¯†é’¥ï¼Œéƒ½æ²¡ç”¨è¿˜æ˜¯404ã€‚ç»“æœå‘ç°ï¼ŒåŸæ¥ä¸æ˜¯æ–¹æ³•çš„é—®é¢˜ï¼Œçº¯ç²¹æ˜¯é“¾æ¥åœ°å€æ²¡å†™å¯¹ï¼å®é™…ä¸Šåªæ˜¯è¯»å–çš„è¯ï¼Œå®Œå…¨ä¸ç”¨ä»»ä½•æˆæƒï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œã€Insomniaã€ç½‘é¡µç­‰å„ç§æƒ…å†µä¸‹ç›´æ¥è¾“å…¥é“¾æ¥è®¿é—®ä»»ä½•äººçš„æ‰€æœ‰å…¬å¼€ä¿¡æ¯ã€‚ç„¶åå¯¹ç…§å®˜æ–¹è·¯å¾„åˆ—è¡¨Root Endpointså¾—åˆ°çš„é“¾æ¥ï¼Œå¥½åƒæ€ä¹ˆè®¿é—®éƒ½ä¸å¯¹ã€‚åè€Œåœ¨Stackoverflowä¸­çœ‹åˆ°çš„ä¸€ä¸ªé“¾æ¥ï¼Œé¡ºè—¤æ‘¸ç“œè‡ªå·±å‘ç°äº†å„ç§æ­£ç¡®çš„è®¿é—®è·¯å¾„ï¼Œæ€»ç»“å¦‚ä¸‹ï¼š é¦–å…ˆï¼è®¿é—®çš„é“¾æ¥æœ€åä¸èƒ½æœ‰/ã€‚å¦‚https://api.github.com/users/solomonxieæ˜¯å¯ä»¥è®¿é—®åˆ°æˆ‘ä¸ªäººä¿¡æ¯çš„ï¼Œä½†æ˜¯https://api.github.com/users/solomonxie/å°±ä¸è¡Œäº†ï¼Œå”¯ä¸€ä¸åŒæ˜¯å¤šäº†ä¸€ä¸ª/. å…¶æ¬¡ï¼ä¸åŒäºä¸€èˆ¬URLè®¿é—®ï¼ŒGIthubçš„APIè®¿é—®é“¾æ¥æ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼ ä¸ªäººä¸»è¦ä¿¡æ¯ã€‚ https://api.github.com/users/ç”¨æˆ·å,å¾—åˆ°æ•°æ®å¦‚ä¸‹å›¾ï¼š ä¸ªäººæ‰€æœ‰repoã€‚https://api.github.com/users/ç”¨æˆ·å/reposã€‚ä¼šå¾—åˆ°ä¸€ä¸ªrepoçš„JSONæ ¼å¼åˆ—è¡¨ã€‚ repoè¯¦ç»†ä¿¡æ¯ã€‚https://api.github.com/repos/ç”¨æˆ·å/ä»“åº“åã€‚repoçš„è·¯å¾„å°±å¼€å§‹å’Œä¸ªäººä¿¡æ¯ä¸åŒäº†ã€‚ è·å–æŸä¸ªrepoçš„å†…å®¹åˆ—è¡¨ã€‚https://api.github.com/repos/solomonxie/gists/contentsï¼Œæ³¨æ„è¿™åªä¼šè¿”å›æ ¹ç›®å½•çš„å†…å®¹ã€‚ è·å–repoä¸­å­ç›®å½•çš„å†…å®¹åˆ—è¡¨ã€‚https://api.github.com/repos/solomonxie/gists/contents/ç›®å½•åã€‚ä¸€å®šè¦æ³¨æ„è¿™é‡Œä¸€å®šè¦å®Œå…¨éµå¾ªåŸæ–‡ä»¶åçš„å¤§å°å†™ï¼Œå¦åˆ™æ— æ³•è·å¾—ä¿¡æ¯ã€‚å¦‚æœæ˜¯æ›´æ·±å±‚çš„å†…å®¹ï¼Œåˆ™åœ¨é“¾æ¥åˆ—æŒ‰ç…§é¡ºåºé€çº§å†™ä¸Šç›®å½•åç§°ã€‚ è·å–repoä¸­æŸæ–‡ä»¶ä¿¡æ¯ï¼ˆä¸åŒ…æ‹¬å†…å®¹ï¼‰ã€‚https://api.github.com/repos/solomonxie/gists/contents/æ–‡ä»¶è·¯å¾„ã€‚æ–‡ä»¶è·¯å¾„æ˜¯æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼ŒåŒºåˆ†å¤§å°å†™ã€‚åªä¼šè¿”å›æ–‡ä»¶åŸºæœ¬ä¿¡æ¯ã€‚ è·å–æŸæ–‡ä»¶çš„åŸå§‹å†…å®¹ï¼ˆRawï¼‰ã€‚1. é€šè¿‡ä¸Šé¢çš„æ–‡ä»¶ä¿¡æ¯ä¸­æå–download_urlè¿™æ¡é“¾æ¥ï¼Œå°±èƒ½è·å–å®ƒçš„åŸå§‹å†…å®¹äº†ã€‚2. æˆ–è€…ç›´æ¥è®¿é—®ï¼šhttps://raw.githubusercontent.com/ç”¨æˆ·å/ä»“åº“å/åˆ†æ”¯å/æ–‡ä»¶è·¯å¾„ repoä¸­æ‰€æœ‰çš„commitsåˆ—è¡¨ã€‚https://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/commitsã€‚ æŸä¸€æ¡commitè¯¦æƒ…ã€‚https://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/commits/æŸä¸€æ¡commitçš„SHA issuesåˆ—è¡¨ã€‚https://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/issuesã€‚ æŸæ¡issueè¯¦æƒ…ã€‚https://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/issues/åºå·ã€‚issueséƒ½æ˜¯ä»¥1,2,3è¿™æ ·çš„åºåˆ—æ’å·çš„ã€‚ æŸissueä¸­çš„commentsåˆ—è¡¨ã€‚https://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/issues/åºå·/commentsã€‚ æŸcommentè¯¦æƒ…ã€‚https://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/issues/comments/è¯„è®ºè¯¦æƒ…çš„IDã€‚å…¶ä¸­è¯„è®ºIDæ˜¯ä»issuesåˆ—è¡¨ä¸­è·å¾—çš„ã€‚ æŸ¥è¯¢å‚æ•° (Parameters)å¦‚æœåœ¨ä¸Šé¢åŸºæœ¬é“¾æ¥ä¸­åŠ å…¥æŸ¥è¯¢æ¡ä»¶ï¼Œé‚£ä¹ˆè¿”å›çš„æ•°æ®å°±æ˜¯filteredï¼Œè¿‡æ»¤äº†çš„ã€‚æ¯”å¦‚è¦æ±‚åªè¿”å›æ­£åœ¨å¼€æ”¾çš„issuesï¼Œæˆ–è€…è®©åˆ—è¡¨æ•°æ®åˆ†é¡µæ˜¾ç¤ºã€‚å¸¸ç”¨å¦‚ä¸‹ï¼š åˆ†é¡µåŠŸèƒ½ã€‚æ ¼å¼æ˜¯?page=é¡µæ•°&amp;per_page=æ¯é¡µåŒ…å«æ•°é‡ã€‚ å¦‚https://api.github.com/users/solomonxie/repos?page=2&amp;per_page=3 issuesçŠ¶æ€ã€‚æ ¼å¼æ˜¯?state=çŠ¶æ€ã€‚ å¦‚https://api.github.com/repos/solomonxie/solomonxie.github.io/issues?state=closed æƒé™è®¤è¯ Authentication é¦–å…ˆéœ€è¦çŸ¥é“éƒ½æ˜¯ï¼Œåˆ°æ­¤ä¸ºæ­¢ä¹‹å‰æ‰€æœ‰éƒ½æŸ¥è¯¢éƒ½æ˜¯ä¸éœ€è¦ä»»ä½•æƒé™çš„ï¼Œç»™ä¸ªåœ°å€å°±è¿”å›æ•°æ®ï¼Œå…¨å…¬å¼€ã€‚ä½†æ˜¯åˆ›å»ºæ–‡ä»¶ã€æ›´æ–°ã€åˆ é™¤ç­‰å°±æ˜¯å¿…é¡»ç”¨è‡ªå·±çš„è´¦å·â€ç™»å½•â€æ‰èƒ½å®ç°çš„ã€‚æ‰€ä»¥ä¸ºäº†ä¸‹é¢çš„å¢åˆ æ”¹åšå‡†å¤‡ï¼Œéœ€è¦å…ˆçœ‹ä¸€ä¸‹æƒé™é—®é¢˜ã€‚å®˜ç½‘è™½ç„¶å†™çš„å¾ˆç®€ç­”ï¼Œä¸è¿‡å¦‚æœä¸ç†Ÿæ‚‰APIçš„è¯è¿˜æ˜¯ä¸èƒ½é©¬ä¸Šå°±ç†è§£ã€‚ å¸¸ç”¨çš„è®¤è¯æ–¹æ³•æœ‰ä¸‰ç§ï¼ŒBasic authentication, OAuth2 token, OAuth2 key/secretä¸‰ç§æ–¹æ³•æ•ˆæœä¸€æ ·ï¼Œä½†æ˜¯å„æœ‰å…¶ç‰¹ç‚¹å’Œæ–¹ä¾¿ä¹‹å¤„ã€‚é€‰å“ªç§å°±è¦çœ‹è‡ªå·±å“ªç§æ–¹ä¾¿äº†ã€‚","text":"å¯¹äºå¸¸ç”¨Githubçš„ç”¨æˆ·æ¥è¯´ï¼Œç»å¸¸æœ‰ä¸€äº›è‡ªåŠ¨åŒ–çš„éœ€æ±‚ã€‚æ¯”å¦‚æˆ‘çš„éœ€æ±‚æ˜¯å®šæ—¶å¤‡ä»½Githubçš„issueså’Œcommentsåˆ°æœ¬åœ°ã€‚ä»¥ä¸‹ä¸ºGithubçš„APIçš„ä½¿ç”¨å‚è€ƒã€‚ v3ç‰ˆAPIçš„æ–‡æ¡£é“¾æ¥v3ç‰ˆAPIçš„å®˜æ–¹æ•™ç¨‹ åŸºæœ¬è®¿é—®è·¯å¾„ (Root Endpoints)ä¸€å¼€å§‹è¯»æ–‡æ¡£çš„æ—¶å€™ï¼Œç…§ç€å®ƒçš„äº‹ä¾‹ç›´æ¥åœ¨å‘½ä»¤è¡Œé‡Œcurlï¼Œæˆ–è€…åœ¨InSomniaæˆ–Postmanè½¯ä»¶é‡Œè®¿é—®ï¼Œéƒ½å®Œç¾æ˜¾ç¤º200çŠ¶æ€ã€‚å¯æ˜¯ä¸€æ—¦æŠŠé“¾æ¥é‡Œæ”¹å†™æˆè‡ªå·±çš„ç”¨æˆ·åå°±å„ç§æ˜¾ç¤º404æ— é¡µé¢ã€‚è¿˜ä»¥ä¸ºæ˜¯æˆæƒé—®é¢˜ï¼Œç„¶ååœ¨é¡µå¤´HEADERä¸­æŒ‰ç…§å„ç§æ–¹å¼è¯•äº†usernameå’Œtokenå¯†é’¥ï¼Œéƒ½æ²¡ç”¨è¿˜æ˜¯404ã€‚ç»“æœå‘ç°ï¼ŒåŸæ¥ä¸æ˜¯æ–¹æ³•çš„é—®é¢˜ï¼Œçº¯ç²¹æ˜¯é“¾æ¥åœ°å€æ²¡å†™å¯¹ï¼å®é™…ä¸Šåªæ˜¯è¯»å–çš„è¯ï¼Œå®Œå…¨ä¸ç”¨ä»»ä½•æˆæƒï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œã€Insomniaã€ç½‘é¡µç­‰å„ç§æƒ…å†µä¸‹ç›´æ¥è¾“å…¥é“¾æ¥è®¿é—®ä»»ä½•äººçš„æ‰€æœ‰å…¬å¼€ä¿¡æ¯ã€‚ç„¶åå¯¹ç…§å®˜æ–¹è·¯å¾„åˆ—è¡¨Root Endpointså¾—åˆ°çš„é“¾æ¥ï¼Œå¥½åƒæ€ä¹ˆè®¿é—®éƒ½ä¸å¯¹ã€‚åè€Œåœ¨Stackoverflowä¸­çœ‹åˆ°çš„ä¸€ä¸ªé“¾æ¥ï¼Œé¡ºè—¤æ‘¸ç“œè‡ªå·±å‘ç°äº†å„ç§æ­£ç¡®çš„è®¿é—®è·¯å¾„ï¼Œæ€»ç»“å¦‚ä¸‹ï¼š é¦–å…ˆï¼è®¿é—®çš„é“¾æ¥æœ€åä¸èƒ½æœ‰/ã€‚å¦‚https://api.github.com/users/solomonxieæ˜¯å¯ä»¥è®¿é—®åˆ°æˆ‘ä¸ªäººä¿¡æ¯çš„ï¼Œä½†æ˜¯https://api.github.com/users/solomonxie/å°±ä¸è¡Œäº†ï¼Œå”¯ä¸€ä¸åŒæ˜¯å¤šäº†ä¸€ä¸ª/. å…¶æ¬¡ï¼ä¸åŒäºä¸€èˆ¬URLè®¿é—®ï¼ŒGIthubçš„APIè®¿é—®é“¾æ¥æ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼ ä¸ªäººä¸»è¦ä¿¡æ¯ã€‚ https://api.github.com/users/ç”¨æˆ·å,å¾—åˆ°æ•°æ®å¦‚ä¸‹å›¾ï¼š ä¸ªäººæ‰€æœ‰repoã€‚https://api.github.com/users/ç”¨æˆ·å/reposã€‚ä¼šå¾—åˆ°ä¸€ä¸ªrepoçš„JSONæ ¼å¼åˆ—è¡¨ã€‚ repoè¯¦ç»†ä¿¡æ¯ã€‚https://api.github.com/repos/ç”¨æˆ·å/ä»“åº“åã€‚repoçš„è·¯å¾„å°±å¼€å§‹å’Œä¸ªäººä¿¡æ¯ä¸åŒäº†ã€‚ è·å–æŸä¸ªrepoçš„å†…å®¹åˆ—è¡¨ã€‚https://api.github.com/repos/solomonxie/gists/contentsï¼Œæ³¨æ„è¿™åªä¼šè¿”å›æ ¹ç›®å½•çš„å†…å®¹ã€‚ è·å–repoä¸­å­ç›®å½•çš„å†…å®¹åˆ—è¡¨ã€‚https://api.github.com/repos/solomonxie/gists/contents/ç›®å½•åã€‚ä¸€å®šè¦æ³¨æ„è¿™é‡Œä¸€å®šè¦å®Œå…¨éµå¾ªåŸæ–‡ä»¶åçš„å¤§å°å†™ï¼Œå¦åˆ™æ— æ³•è·å¾—ä¿¡æ¯ã€‚å¦‚æœæ˜¯æ›´æ·±å±‚çš„å†…å®¹ï¼Œåˆ™åœ¨é“¾æ¥åˆ—æŒ‰ç…§é¡ºåºé€çº§å†™ä¸Šç›®å½•åç§°ã€‚ è·å–repoä¸­æŸæ–‡ä»¶ä¿¡æ¯ï¼ˆä¸åŒ…æ‹¬å†…å®¹ï¼‰ã€‚https://api.github.com/repos/solomonxie/gists/contents/æ–‡ä»¶è·¯å¾„ã€‚æ–‡ä»¶è·¯å¾„æ˜¯æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼ŒåŒºåˆ†å¤§å°å†™ã€‚åªä¼šè¿”å›æ–‡ä»¶åŸºæœ¬ä¿¡æ¯ã€‚ è·å–æŸæ–‡ä»¶çš„åŸå§‹å†…å®¹ï¼ˆRawï¼‰ã€‚1. é€šè¿‡ä¸Šé¢çš„æ–‡ä»¶ä¿¡æ¯ä¸­æå–download_urlè¿™æ¡é“¾æ¥ï¼Œå°±èƒ½è·å–å®ƒçš„åŸå§‹å†…å®¹äº†ã€‚2. æˆ–è€…ç›´æ¥è®¿é—®ï¼šhttps://raw.githubusercontent.com/ç”¨æˆ·å/ä»“åº“å/åˆ†æ”¯å/æ–‡ä»¶è·¯å¾„ repoä¸­æ‰€æœ‰çš„commitsåˆ—è¡¨ã€‚https://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/commitsã€‚ æŸä¸€æ¡commitè¯¦æƒ…ã€‚https://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/commits/æŸä¸€æ¡commitçš„SHA issuesåˆ—è¡¨ã€‚https://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/issuesã€‚ æŸæ¡issueè¯¦æƒ…ã€‚https://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/issues/åºå·ã€‚issueséƒ½æ˜¯ä»¥1,2,3è¿™æ ·çš„åºåˆ—æ’å·çš„ã€‚ æŸissueä¸­çš„commentsåˆ—è¡¨ã€‚https://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/issues/åºå·/commentsã€‚ æŸcommentè¯¦æƒ…ã€‚https://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/issues/comments/è¯„è®ºè¯¦æƒ…çš„IDã€‚å…¶ä¸­è¯„è®ºIDæ˜¯ä»issuesåˆ—è¡¨ä¸­è·å¾—çš„ã€‚ æŸ¥è¯¢å‚æ•° (Parameters)å¦‚æœåœ¨ä¸Šé¢åŸºæœ¬é“¾æ¥ä¸­åŠ å…¥æŸ¥è¯¢æ¡ä»¶ï¼Œé‚£ä¹ˆè¿”å›çš„æ•°æ®å°±æ˜¯filteredï¼Œè¿‡æ»¤äº†çš„ã€‚æ¯”å¦‚è¦æ±‚åªè¿”å›æ­£åœ¨å¼€æ”¾çš„issuesï¼Œæˆ–è€…è®©åˆ—è¡¨æ•°æ®åˆ†é¡µæ˜¾ç¤ºã€‚å¸¸ç”¨å¦‚ä¸‹ï¼š åˆ†é¡µåŠŸèƒ½ã€‚æ ¼å¼æ˜¯?page=é¡µæ•°&amp;per_page=æ¯é¡µåŒ…å«æ•°é‡ã€‚ å¦‚https://api.github.com/users/solomonxie/repos?page=2&amp;per_page=3 issuesçŠ¶æ€ã€‚æ ¼å¼æ˜¯?state=çŠ¶æ€ã€‚ å¦‚https://api.github.com/repos/solomonxie/solomonxie.github.io/issues?state=closed æƒé™è®¤è¯ Authentication é¦–å…ˆéœ€è¦çŸ¥é“éƒ½æ˜¯ï¼Œåˆ°æ­¤ä¸ºæ­¢ä¹‹å‰æ‰€æœ‰éƒ½æŸ¥è¯¢éƒ½æ˜¯ä¸éœ€è¦ä»»ä½•æƒé™çš„ï¼Œç»™ä¸ªåœ°å€å°±è¿”å›æ•°æ®ï¼Œå…¨å…¬å¼€ã€‚ä½†æ˜¯åˆ›å»ºæ–‡ä»¶ã€æ›´æ–°ã€åˆ é™¤ç­‰å°±æ˜¯å¿…é¡»ç”¨è‡ªå·±çš„è´¦å·â€ç™»å½•â€æ‰èƒ½å®ç°çš„ã€‚æ‰€ä»¥ä¸ºäº†ä¸‹é¢çš„å¢åˆ æ”¹åšå‡†å¤‡ï¼Œéœ€è¦å…ˆçœ‹ä¸€ä¸‹æƒé™é—®é¢˜ã€‚å®˜ç½‘è™½ç„¶å†™çš„å¾ˆç®€ç­”ï¼Œä¸è¿‡å¦‚æœä¸ç†Ÿæ‚‰APIçš„è¯è¿˜æ˜¯ä¸èƒ½é©¬ä¸Šå°±ç†è§£ã€‚ å¸¸ç”¨çš„è®¤è¯æ–¹æ³•æœ‰ä¸‰ç§ï¼ŒBasic authentication, OAuth2 token, OAuth2 key/secretä¸‰ç§æ–¹æ³•æ•ˆæœä¸€æ ·ï¼Œä½†æ˜¯å„æœ‰å…¶ç‰¹ç‚¹å’Œæ–¹ä¾¿ä¹‹å¤„ã€‚é€‰å“ªç§å°±è¦çœ‹è‡ªå·±å“ªç§æ–¹ä¾¿äº†ã€‚ è®¤è¯æ–¹æ³•ä¸€ï¼šBasic authenticationè¿™ç§æœ€ç®€å•ï¼Œå¦‚æœæ˜¯ç”¨curlçš„è¯ï¼Œå°±ï¼š 1curl -u \"ç”¨æˆ·å:å¯†ç \" https://api.github.com å¦‚æœæ˜¯ç”¨Insomniaç­‰apiè°ƒè¯•å·¥å…·çš„è¯ï¼Œç›´æ¥åœ¨Authé€‰é¡¹æ é‡Œé€‰Basic Authï¼Œç„¶åå¡«ä¸Šç”¨æˆ·åå¯†ç å³å¯ã€‚ è®¤è¯æ–¹æ³•äºŒï¼šOAuth2 tokenå…³äºtoken è¿™ç§tokenæ–¹å¼ï¼Œè¯´å®è¯å¦‚æœä¸æ˜¯æ“ä½œè¿‡APIæˆ–æ·±åº¦äº†è§£RESTçš„è¯ï¼Œæ˜¯å¾ˆéš¾ç†è§£çš„ä¸œè¥¿ã€‚è¯´ç™½äº†å°±æ˜¯ç¬¬äºŒä¸ªå¯†ç ï¼Œä½ æ—¢ä¸ç”¨åˆ°å¤„æ³„éœ²è‡ªå·±çš„ç”¨æˆ·åå¯†ç ï¼Œåˆå¯ä»¥ä¸“é—¨ç»™è¿™ä¸ªâ€ç¬¬äºŒå¯†ç â€è®¾ç½®ä¸åŒéœ€è¦çš„æƒé™ï¼Œå¦‚æœ‰çš„åªå¯è¯»æœ‰çš„è¿˜å¯ä»¥å†™ç­‰ã€‚è€Œä¸”è¿™ä¸ªâ€œç¬¬äºŒå¯†ç â€æ˜¯æ—¢åŒ…æ‹¬ç”¨æˆ·ååˆåŒ…æ‹¬å¯†ç åŠŸèƒ½çš„ï¼Œå…¨ç«™åªæ­¤ä¸€ä¸ªç»å¯¹ä¸ä¼šå’Œåˆ«äººé‡å¤ã€‚åˆæ¬¡ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥è®¾ç½®å¾ˆå¤šä¸ªtokenï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸‰ã€ç¬¬å››ã€ç¬¬äº”â€¦å¯†ç ã€‚å¾ˆæ–¹ä¾¿ã€‚ è®¾ç½®tokenæ–¹æ³•å°±ä½äºgithubä¸ªäººè´¦å·è®¾ç½®-&gt;å¼€å‘è€…è®¾ç½®-&gt;ä¸ªäººtokené‡Œã€‚åˆ›å»ºä¸€ä¸ªæ–°tokenæ—¶ï¼Œå¯ä»¥é€‰æ‹©å…·ä½“çš„æƒé™ï¼Œåˆ›å»ºæˆåŠŸæ—¶ä¸€å®šè¦å¤åˆ¶åˆ°æœ¬åœ°å“ªé‡Œä¿å­˜ï¼Œåªä¼šè®©ä½ çœ‹è§ä¸€æ¬¡ï¼Œå¦‚æœå¿˜è®°çš„è¯å°±éœ€è¦é‡æ–°ç”Ÿæˆï¼ˆå…¶å®ä¸¢äº†ä¹Ÿä¸ç®—éº»çƒ¦ï¼‰ã€‚ å¦å¤–ï¼æ³¨æ„ï¼š tokenå­—ç¬¦ä¸²ä¸èƒ½å­˜å‚¨åœ¨githubçš„repoä¸­ï¼Œç»è¿‡æµ‹è¯•ï¼Œä¸€æ—¦æäº¤çš„æ–‡ä»¶ä¸­åŒ…å«è¿™ä¸ªtokenå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆgithubå°±ä¼šè‡ªåŠ¨åˆ é™¤è¿™ä¸ªtoken -_-! æˆ‘ç”¨äº†å¾ˆä¹…æ‰æ˜ç™½è¿‡æ¥ï¼Œåˆ›å»ºçš„Personal Access Tokenæ€»æ˜¯è‡ªåŠ¨æ¶ˆå¤±ï¼Œè¿˜ä»¥ä¸ºæ˜¯æœ‰æ—¶é™çš„ã€‚ ç”¨tokené€šè¿‡æƒé™è®¤è¯æœ‰ä¸¤ç§ä¼ é€æ–¹æ³•ï¼Œå“ªç§éƒ½å¯ä»¥ï¼š ä½œä¸ºurlä¸­çš„å‚æ•°æ˜æ–‡ä¼ è¾“ï¼š 1curl https://api.github.com/?access_token=OAUTH-TOKEN ä½œä¸ºheaderä¸­çš„å‚æ•°ä¼ è¾“ï¼š 1curl -H \"Authorization: token OAUTH-TOKEN\" https://api.github.com å¦‚æœä¸æ˜¯ç”¨curlè€Œæ˜¯Insomniaæµ‹è¯•çš„è¯ï¼Œå’Œä¸Šé¢basic authæ˜¯å¤§åŒå°å¼‚çš„ï¼Œå¾ˆå®¹æ˜“æ“ä½œå°±ä¸å¤è¿°äº†ã€‚åˆ°æ­¤ä¸ºæ­¢ï¼Œæƒé™è®¤è¯å°±ç®—ææ¸…äº†ï¼Œè€Œä¸”ä¹Ÿå®é™…éªŒè¯è¿‡æœ‰æ•ˆäº†ã€‚å¼ºçƒˆå»ºè®®ç”¨insomniaå·¥å…·æ“ä½œï¼Œæœ‰GUIç•Œé¢æ–¹ä¾¿ç†è§£ï¼ŒæˆåŠŸåå†è½¬ä¸ºcurlæˆ–pythonç­‰ç¨‹åºè¯­è¨€ã€‚ è®¤è¯æ–¹æ³•ä¸‰ï¼šOAuth2 key/secretè¿™ä¸ªæ˜¯é™¤äº†Personal Access Tokenä¹‹å¤–çš„å¦ä¸€ç§å¥½ç”¨çš„æ–¹æ³•ï¼Œå³åˆ›å»ºè‡ªå·±çš„OAuth appï¼Œç„¶åå¾—åˆ°ä¸€å¯¹client_idå’Œclient_secretã€‚å¦‚ä¸‹ï¼š å¾—åˆ°è¿™ä¸¤ä¸ªå€¼ä¹‹åï¼Œç›´æ¥åœ¨è®¿é—®ä»»ä½•apiçš„urlè¿æ¥åé¢æ˜¾æ€§åŠ ä¸Šè¿™ä¸¤ä¸ªå‚æ•°å³å¯å®Œæˆè®¤è¯ï¼Œå¦‚ï¼šhttps://api.github.com/users/yourusername?client_id=YOUR-CLIENT-ID&amp;client_secret=YOUR-CLIENT-SECRETä½†æ˜¯ï¼š ç›®å‰è¿™ç§è®¤è¯æ–¹å¼ä¸æ”¯æŒæŸ¥è¯¢ä»¥å¤–çš„æ“ä½œï¼Œä¹Ÿå°±æ˜¯åªèƒ½GETè·å–æŸäº›apiä¿¡æ¯ï¼Œä¸èƒ½æ‰§è¡Œrequesté‡Œçš„ä»»ä½•PUT/PATCH/DELETEæ“ä½œã€‚ åˆ›å»ºæ–°æ–‡ä»¶ Create content Contentsæ“ä½œ å®˜æ–¹æ–‡æ¡£ ä¼ è¾“æ–¹æ³•ï¼šPUT è®¿é—®è·¯å¾„ï¼šhttps://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/contents/æ–‡ä»¶è·¯å¾„ JSONæ ¼å¼ï¼š 1234&#123; \"message\": \"commit from INSOMNIA\", \"content\": \"bXkgbmV3IGZpbGUgY29udGVudHM=\"&#125; JSONå¡«å†™å¦‚ä¸‹å›¾ï¼š æ³¨æ„ï¼š1.å¿…é¡»æ·»åŠ æƒé™éªŒè¯ï¼ˆä¸Šé¢æœ‰å†™ï¼‰ 2. æ•°æ®ä¼ é€æ ¼å¼é€‰æ‹©JSON 3. æ–‡ä»¶å†…å®¹å¿…é¡»æ˜¯æŠŠæ–‡ä»¶æ•´ä½“è½¬ä¸ºBase64å­—ç¬¦ä¸²å†å­˜åˆ°JSONå˜é‡ä¸­ 4. æ–‡ä»¶è·¯å¾„ä¸­å¦‚æœæœ‰ä¸å­˜åœ¨çš„æ–‡ä»¶å¤¹ï¼Œåˆ™ä¼šè‡ªåŠ¨åˆ›å»º èµ·åˆä¸ç®¡æ€ä¹ˆå°è¯•éƒ½ä¸€ç›´æŠ¥åŒæ ·éƒ½é”™è¯¯ï¼Œ400 Invalid JSONï¼Œå¦‚ä¸‹å›¾ï¼š æœ€åå‘ç°åŸæ¥æ˜¯çŠ¯äº†å¾ˆå°å¾ˆå°éƒ½é”™è¯¯æ‰å¯¼è‡´å¦‚æ­¤ï¼š æ­£ç¡®çš„tokençš„å¤„ç†æ¨¡å¼æ˜¯ï¼štokenä¸­é—´æœ‰ç©ºæ ¼ 1Authorization:token c092xxxxxx å¢åŠ æ–‡ä»¶æˆåŠŸåè¿”å›çš„æ¶ˆæ¯ï¼š æ›´æ–°æ–‡ä»¶ Update content ä¸»è¦è¿™å‡ ç‚¹ï¼š 1. ä¼ é€æ–¹å¼ç”¨PUT å’Œåˆ›å»ºæ–‡ä»¶ä¸€æ · 2. éœ€è¦æƒé™éªŒè¯ï¼Œ3. ä¼ è¾“å†…å®¹æ•°æ®ç”¨JSON 4. éœ€è¦æŒ‡å®šè¯¥æ–‡ä»¶çš„SHAç  4. è·¯å¾„å’Œè®¿é—®contentæ—¶ä¸€æ · 5. æ–‡ä»¶å†…å®¹å¿…é¡»æ˜¯æŠŠæ–‡ä»¶æ•´ä½“è½¬ä¸ºBase64å­—ç¬¦ä¸²å†å­˜åˆ°JSONå˜é‡ä¸­ ä¼ è¾“æ–¹æ³•ï¼šPUT è®¿é—®è·¯å¾„ï¼šhttps://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/contents/æ–‡ä»¶è·¯å¾„ JSONæ ¼å¼ï¼š 12345&#123; \"message\": \"update from INSOMNIA\", \"content\": \"Y3JlYXRlIGZpbGUgZnJvbSBJTlNPTU5JQQoKSXQncyB1cGRhdGVkISEhCgpJdCdzIHVwZGF0ZWQgYWdhaW4hIQ==\", \"sha\": \"57642f5283c98f6ffa75d65e2bf49d05042b4a6d\"&#125; æ³¨æ„ï¼šå¿…é¡»æŒ‡å®šè¯¥æ–‡ä»¶çš„SHAç ï¼Œç›¸å½“äºæ–‡ä»¶çš„IDã€‚ SHAè™½ç„¶æ˜¯å¯¹æ–‡ä»¶çš„å”¯ä¸€è¯†åˆ«ç ï¼Œç›¸å½“äºIDï¼Œä½†æ˜¯å®ƒæ˜¯ä¼šéšç€æ–‡ä»¶å†…å®¹å˜åŒ–è€Œå˜åŒ–çš„ï¼æ‰€ä»¥å¿…é¡»æ¯æ¬¡éƒ½é‡æ–°è·å–æ‰è¡Œã€‚è‡³äºè·å–æ–¹å¼ï¼ŒéªŒè¯åå‘ç°ï¼Œç›®å‰æœ€é è°±çš„æ˜¯ç”¨å‰é¢çš„get contentè·å–åˆ°è¯¥æ–‡ä»¶çš„ä¿¡æ¯ï¼Œç„¶åé‡Œé¢æ‰¾åˆ°shaã€‚ å¯¹ä¸Šä¼ æ—¶çš„JSONæ ¼å¼å¦æœ‰è¦æ±‚ï¼Œå¦‚æœæ²¡æœ‰æŒ‰ç…§è¦æ±‚æŠŠå¿…å¡«é¡¹è¾“å…¥ï¼Œåˆ™ä¼šå‡ºç°422é”™è¯¯ä¿¡æ¯ï¼š æˆ–è€…å¦‚æœç”¨é”™äº†SHAï¼Œä¼šå‡ºç°409é”™è¯¯æ¶ˆæ¯ï¼š å¦‚æœæ­£ç¡®ä¼ é€ï¼Œå°±ä¼šæ˜¾ç¤º200å®Œæˆæ›´æ–°ï¼š åˆ é™¤æ–‡ä»¶ Delete content ä¼ è¾“æ–¹æ³•ï¼šDELETE è®¿é—®è·¯å¾„ï¼šhttps://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/contents/æ–‡ä»¶è·¯å¾„ JSONæ ¼å¼ï¼š 1234&#123; \"message\": \"delete a file\", \"sha\": \"46d2b1f2ef54669a974165d0b37979e9adba1ab2\"&#125; åˆ é™¤æˆåŠŸåï¼Œä¼šè¿”å›200æ¶ˆæ¯ï¼š å¢åˆ æ”¹issues å¦‚æœåšè¿‡äº†ä¸Šé¢æ–‡ä»¶çš„å¢åˆ æ”¹ï¼Œè¿™é‡Œå¤§åŒå°å¼‚ï¼Œä¸åŒçš„è®¿é—®è·¯å¾„å’ŒJSONçš„æ ¼å¼è€Œå·²ã€‚å”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œissuesæ˜¯ä¸ç”¨æŠŠå†…å®¹è½¬ä¸ºBase64ç çš„ã€‚ å‚è€ƒé“¾æ¥ï¼šgithubå®˜æ–¹æ–‡æ¡£ å¢åŠ ä¸€æ¡issue ä¼ è¾“æ–¹æ³•ï¼šPOST è®¿é—®è·¯å¾„ï¼šhttps://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/issues JSONæ ¼å¼ï¼š 1234&#123; \"title\": \"Creating issue from API\", \"body\": \"Posting a issue from Insomnia\"&#125; æ³¨æ„ï¼šissueçš„æ•°æ®é‡Œé¢æ˜¯å¯ä»¥åŠ labelï¼Œmilestoneå’Œassigneesçš„ã€‚ä½†æ˜¯å¿…é¡»æ³¨æ„milestoneå’Œassigneeså¿…é¡»æ˜¯å·²æœ‰çš„åæ¬¡å®Œå…¨å¯¹åº”æ‰è¡Œï¼Œå¦åˆ™æ— æ³•å®Œæˆåˆ›å»ºã€‚ æ›´æ”¹æŸæ¡issue ä¼ è¾“æ–¹æ³•ï¼šPATCH è®¿é—®è·¯å¾„ï¼šhttps://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/issues/åºå· JSONæ ¼å¼ï¼š 12345&#123; \"title\": \"Creating issue from API ---updated\", \"body\": \"Posting a issue from Insomnia \\n\\n Updated from insomnia.\", \"state\": \"open\"&#125; æ³¨æ„ï¼šå¦‚æœJSONä¸­åŠ å…¥ç©ºç™½çš„labelsæˆ–assigneesï¼Œå¦‚&quot;labels&quot;: []ï¼Œä½œç”¨å°±æ˜¯æ¸…ç©ºæ‰€æœ‰çš„æ ‡ç­¾å’Œç›¸å…³äººã€‚ é”ä½æŸæ¡issueä¸å…è®¸åˆ«äººè¯„è®ºï¼ˆè‡ªå·±å¯ä»¥ï¼‰ ä¼ è¾“æ–¹æ³•ï¼šPUT è®¿é—®è·¯å¾„ï¼šhttps://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/issues/åºå·/lock JSONæ ¼å¼ï¼š 1234&#123; \"locked\": true, \"active_lock_reason\": \"too heated\"&#125; æ³¨æ„ï¼šactive_lock_reasonåªèƒ½æœ‰4ç§å€¼å¯é€‰ï¼šoff-topic, too heated, resolved, spamï¼Œå¦åˆ™æŠ¥é”™ã€‚ å¦å¤–ï¼ŒæˆåŠŸé”ä½ï¼Œä¼šè¿”å›204 No Contentä¿¡æ¯ã€‚ è§£é”æŸæ¡issue ä¼ è¾“æ–¹æ³•ï¼šDELETE è®¿é—®è·¯å¾„ï¼šhttps://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/issues/åºå·/lock æ— JSONä¼ è¾“ å¢åˆ æ”¹comments å‚è€ƒå®˜æ–¹æ–‡æ¡£ å¢åŠ comment ä¼ è¾“æ–¹æ³•ï¼šPOST è®¿é—®è·¯å¾„ï¼šhttps://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/issues/åºå·/comments JSONæ ¼å¼ï¼š 123&#123; \"body\": \"Create a comment from API\"&#125; æ›´æ”¹comment ä¼ è¾“æ–¹æ³•ï¼šPATCH è®¿é—®è·¯å¾„ï¼šhttps://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/issues/comments/è¯„è®ºID JSONæ ¼å¼ï¼š 123&#123; \"body\": \"Create a comment from API \\n\\n----Updated\"&#125; æ³¨æ„ï¼šåœ°å€ä¸­ï¼Œissuesåä¸ç”¨åºå·äº†ï¼Œå› ä¸ºå¯ä»¥é€šè¿‡å”¯ä¸€çš„è¯„è®ºIDè¿½æŸ¥åˆ°ã€‚æŸ¥çœ‹è¯„è®ºIDçš„æ–¹æ³•ï¼Œç›´æ¥åœ¨ä¸Šé¢æŸ¥è¯¢é“¾æ¥ä¸­æ‰¾ã€‚ åˆ é™¤comment ä¼ è¾“æ–¹æ³•ï¼šDELETE è®¿é—®è·¯å¾„ï¼šhttps://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/issues/comments/è¯„è®ºID æ— ä¼ è¾“æ•°æ® åŸæ–‡åœ°å€ï¼šhttps://www.cnblogs.com/chen-xing/p/github_api_v3.html","categories":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://yangyfeng.github.io/blogpost/categories/å¼€å‘å·¥å…·/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://yangyfeng.github.io/blogpost/tags/Git/"}]},{"title":"git cherry-pick æ•™ç¨‹","slug":"Git/git cherry-pick æ•™ç¨‹","date":"2021-08-13T08:18:01.000Z","updated":"2021-08-13T08:24:12.719Z","comments":true,"path":"/posts/69a7e668.html","link":"","permalink":"https://yangyfeng.github.io/posts/69a7e668.html","excerpt":"","text":"å¯¹äºå¤šåˆ†æ”¯çš„ä»£ç åº“ï¼Œå°†ä»£ç ä»ä¸€ä¸ªåˆ†æ”¯è½¬ç§»åˆ°å¦ä¸€ä¸ªåˆ†æ”¯æ˜¯å¸¸è§éœ€æ±‚ã€‚ è¿™æ—¶åˆ†ä¸¤ç§æƒ…å†µã€‚ä¸€ç§æƒ…å†µæ˜¯ï¼Œä½ éœ€è¦å¦ä¸€ä¸ªåˆ†æ”¯çš„æ‰€æœ‰ä»£ç å˜åŠ¨ï¼Œé‚£ä¹ˆå°±é‡‡ç”¨åˆå¹¶ï¼ˆgit mergeï¼‰ã€‚å¦ä¸€ç§æƒ…å†µæ˜¯ï¼Œä½ åªéœ€è¦éƒ¨åˆ†ä»£ç å˜åŠ¨ï¼ˆæŸå‡ ä¸ªæäº¤ï¼‰ï¼Œè¿™æ—¶å¯ä»¥é‡‡ç”¨ Cherry pickã€‚ ä¸€ã€åŸºæœ¬ç”¨æ³•git cherry-pickå‘½ä»¤çš„ä½œç”¨ï¼Œå°±æ˜¯å°†æŒ‡å®šçš„æäº¤ï¼ˆcommitï¼‰åº”ç”¨äºå…¶ä»–åˆ†æ”¯ã€‚ 12&gt; $ git cherry-pick &lt;commitHash&gt;&gt; ä¸Šé¢å‘½ä»¤å°±ä¼šå°†æŒ‡å®šçš„æäº¤commitHashï¼Œåº”ç”¨äºå½“å‰åˆ†æ”¯ã€‚è¿™ä¼šåœ¨å½“å‰åˆ†æ”¯äº§ç”Ÿä¸€ä¸ªæ–°çš„æäº¤ï¼Œå½“ç„¶å®ƒä»¬çš„å“ˆå¸Œå€¼ä¼šä¸ä¸€æ ·ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œä»£ç ä»“åº“æœ‰masterå’Œfeatureä¸¤ä¸ªåˆ†æ”¯ã€‚ 1234&gt; a - b - c - d Master&gt; \\&gt; e - f - g Feature&gt; ç°åœ¨å°†æäº¤fåº”ç”¨åˆ°masteråˆ†æ”¯ã€‚ 12345# åˆ‡æ¢åˆ° master åˆ†æ”¯$ git checkout master# Cherry pick æ“ä½œ$ git cherry-pick f ä¸Šé¢çš„æ“ä½œå®Œæˆä»¥åï¼Œä»£ç åº“å°±å˜æˆäº†ä¸‹é¢çš„æ ·å­ã€‚ 1234&gt; a - b - c - d - f Master&gt; \\&gt; e - f - g Feature&gt; ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œmasteråˆ†æ”¯çš„æœ«å°¾å¢åŠ äº†ä¸€ä¸ªæäº¤fã€‚ git cherry-pickå‘½ä»¤çš„å‚æ•°ï¼Œä¸ä¸€å®šæ˜¯æäº¤çš„å“ˆå¸Œå€¼ï¼Œåˆ†æ”¯åä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œè¡¨ç¤ºè½¬ç§»è¯¥åˆ†æ”¯çš„æœ€æ–°æäº¤ã€‚ 12&gt; $ git cherry-pick feature&gt; ä¸Šé¢ä»£ç è¡¨ç¤ºå°†featureåˆ†æ”¯çš„æœ€è¿‘ä¸€æ¬¡æäº¤ï¼Œè½¬ç§»åˆ°å½“å‰åˆ†æ”¯ã€‚ äºŒã€è½¬ç§»å¤šä¸ªæäº¤Cherry pick æ”¯æŒä¸€æ¬¡è½¬ç§»å¤šä¸ªæäº¤ã€‚ 12&gt; $ git cherry-pick &lt;HashA&gt; &lt;HashB&gt;&gt; ä¸Šé¢çš„å‘½ä»¤å°† A å’Œ B ä¸¤ä¸ªæäº¤åº”ç”¨åˆ°å½“å‰åˆ†æ”¯ã€‚è¿™ä¼šåœ¨å½“å‰åˆ†æ”¯ç”Ÿæˆä¸¤ä¸ªå¯¹åº”çš„æ–°æäº¤ã€‚ å¦‚æœæƒ³è¦è½¬ç§»ä¸€ç³»åˆ—çš„è¿ç»­æäº¤ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ç®€ä¾¿è¯­æ³•ã€‚ 12&gt; $ git cherry-pick A..B &gt; ä¸Šé¢çš„å‘½ä»¤å¯ä»¥è½¬ç§»ä» A åˆ° B çš„æ‰€æœ‰æäº¤ã€‚å®ƒä»¬å¿…é¡»æŒ‰ç…§æ­£ç¡®çš„é¡ºåºæ”¾ç½®ï¼šæäº¤ A å¿…é¡»æ—©äºæäº¤ Bï¼Œå¦åˆ™å‘½ä»¤å°†å¤±è´¥ï¼Œä½†ä¸ä¼šæŠ¥é”™ã€‚ æ³¨æ„ï¼Œä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤ï¼Œæäº¤ A å°†ä¸ä¼šåŒ…å«åœ¨ Cherry pick ä¸­ã€‚å¦‚æœè¦åŒ…å«æäº¤ Aï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¯­æ³•ã€‚ 12&gt; $ git cherry-pick A^..B &gt; ä¸‰ã€é…ç½®é¡¹git cherry-pickå‘½ä»¤çš„å¸¸ç”¨é…ç½®é¡¹å¦‚ä¸‹ã€‚ ï¼ˆ1ï¼‰-eï¼Œ--edit æ‰“å¼€å¤–éƒ¨ç¼–è¾‘å™¨ï¼Œç¼–è¾‘æäº¤ä¿¡æ¯ã€‚ ï¼ˆ2ï¼‰-nï¼Œ--no-commit åªæ›´æ–°å·¥ä½œåŒºå’Œæš‚å­˜åŒºï¼Œä¸äº§ç”Ÿæ–°çš„æäº¤ã€‚ ï¼ˆ3ï¼‰-x åœ¨æäº¤ä¿¡æ¯çš„æœ«å°¾è¿½åŠ ä¸€è¡Œ(cherry picked from commit ...)ï¼Œæ–¹ä¾¿ä»¥åæŸ¥åˆ°è¿™ä¸ªæäº¤æ˜¯å¦‚ä½•äº§ç”Ÿçš„ã€‚ ï¼ˆ4ï¼‰-sï¼Œ--signoff åœ¨æäº¤ä¿¡æ¯çš„æœ«å°¾è¿½åŠ ä¸€è¡Œæ“ä½œè€…çš„ç­¾åï¼Œè¡¨ç¤ºæ˜¯è°è¿›è¡Œäº†è¿™ä¸ªæ“ä½œã€‚ ï¼ˆ5ï¼‰-m parent-numberï¼Œ--mainline parent-number å¦‚æœåŸå§‹æäº¤æ˜¯ä¸€ä¸ªåˆå¹¶èŠ‚ç‚¹ï¼Œæ¥è‡ªäºä¸¤ä¸ªåˆ†æ”¯çš„åˆå¹¶ï¼Œé‚£ä¹ˆ Cherry pick é»˜è®¤å°†å¤±è´¥ï¼Œå› ä¸ºå®ƒä¸çŸ¥é“åº”è¯¥é‡‡ç”¨å“ªä¸ªåˆ†æ”¯çš„ä»£ç å˜åŠ¨ã€‚ -mé…ç½®é¡¹å‘Šè¯‰ Gitï¼Œåº”è¯¥é‡‡ç”¨å“ªä¸ªåˆ†æ”¯çš„å˜åŠ¨ã€‚å®ƒçš„å‚æ•°parent-numberæ˜¯ä¸€ä¸ªä»1å¼€å§‹çš„æ•´æ•°ï¼Œä»£è¡¨åŸå§‹æäº¤çš„çˆ¶åˆ†æ”¯ç¼–å·ã€‚ 12&gt; $ git cherry-pick -m 1 &lt;commitHash&gt;&gt; ä¸Šé¢å‘½ä»¤è¡¨ç¤ºï¼ŒCherry pick é‡‡ç”¨æäº¤commitHashæ¥è‡ªç¼–å·1çš„çˆ¶åˆ†æ”¯çš„å˜åŠ¨ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œ1å·çˆ¶åˆ†æ”¯æ˜¯æ¥å—å˜åŠ¨çš„åˆ†æ”¯ï¼ˆthe branch being merged intoï¼‰ï¼Œ2å·çˆ¶åˆ†æ”¯æ˜¯ä½œä¸ºå˜åŠ¨æ¥æºçš„åˆ†æ”¯ï¼ˆthe branch being merged fromï¼‰ã€‚ å››ã€ä»£ç å†²çªå¦‚æœæ“ä½œè¿‡ç¨‹ä¸­å‘ç”Ÿä»£ç å†²çªï¼ŒCherry pick ä¼šåœä¸‹æ¥ï¼Œè®©ç”¨æˆ·å†³å®šå¦‚ä½•ç»§ç»­æ“ä½œã€‚ ï¼ˆ1ï¼‰--continue ç”¨æˆ·è§£å†³ä»£ç å†²çªåï¼Œç¬¬ä¸€æ­¥å°†ä¿®æ”¹çš„æ–‡ä»¶é‡æ–°åŠ å…¥æš‚å­˜åŒºï¼ˆgit add .ï¼‰ï¼Œç¬¬äºŒæ­¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œè®© Cherry pick è¿‡ç¨‹ç»§ç»­æ‰§è¡Œã€‚ 12&gt; $ git cherry-pick --continue&gt; ï¼ˆ2ï¼‰--abort å‘ç”Ÿä»£ç å†²çªåï¼Œæ”¾å¼ƒåˆå¹¶ï¼Œå›åˆ°æ“ä½œå‰çš„æ ·å­ã€‚ ï¼ˆ3ï¼‰--quit å‘ç”Ÿä»£ç å†²çªåï¼Œé€€å‡º Cherry pickï¼Œä½†æ˜¯ä¸å›åˆ°æ“ä½œå‰çš„æ ·å­ã€‚ äº”ã€è½¬ç§»åˆ°å¦ä¸€ä¸ªä»£ç åº“Cherry pick ä¹Ÿæ”¯æŒè½¬ç§»å¦ä¸€ä¸ªä»£ç åº“çš„æäº¤ï¼Œæ–¹æ³•æ˜¯å…ˆå°†è¯¥åº“åŠ ä¸ºè¿œç¨‹ä»“åº“ã€‚ 12&gt; $ git remote add target git://gitUrl&gt; ä¸Šé¢å‘½ä»¤æ·»åŠ äº†ä¸€ä¸ªè¿œç¨‹ä»“åº“targetã€‚ ç„¶åï¼Œå°†è¿œç¨‹ä»£ç æŠ“å–åˆ°æœ¬åœ°ã€‚ 12&gt; $ git fetch target&gt; ä¸Šé¢å‘½ä»¤å°†è¿œç¨‹ä»£ç ä»“åº“æŠ“å–åˆ°æœ¬åœ°ã€‚ æ¥ç€ï¼Œæ£€æŸ¥ä¸€ä¸‹è¦ä»è¿œç¨‹ä»“åº“è½¬ç§»çš„æäº¤ï¼Œè·å–å®ƒçš„å“ˆå¸Œå€¼ã€‚ 12&gt; $ git log target/master&gt; æœ€åï¼Œä½¿ç”¨git cherry-pickå‘½ä»¤è½¬ç§»æäº¤ã€‚ 12&gt; $ git cherry-pick &lt;commitHash&gt;&gt; ï¼ˆå®Œï¼‰ åŸæ–‡åœ°å€ï¼šhttps://www.ruanyifeng.com/blog/2020/04/git-cherry-pick.html","categories":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://yangyfeng.github.io/blogpost/categories/å¼€å‘å·¥å…·/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://yangyfeng.github.io/blogpost/tags/Git/"}]},{"title":"nodejsç‰ˆæœ¬æ§åˆ¶å’Œåˆ‡æ¢","slug":"Node/NODEJSç‰ˆæœ¬æ§åˆ¶å’Œåˆ‡æ¢","date":"2021-08-12T16:00:00.000Z","updated":"2021-08-13T10:20:57.975Z","comments":true,"path":"/posts/873788fc.html","link":"","permalink":"https://yangyfeng.github.io/posts/873788fc.html","excerpt":"","text":"nvmæ˜¯node.jsçš„ç‰ˆæœ¬ç®¡ç†å™¨ï¼Œå¯ä»¥å®‰è£…å’Œåˆ‡æ¢ä¸åŒç‰ˆæœ¬node.js ç¬¬ä¸€æ­¥ï¼šä¸‹è½½ä¸‹è½½åœ°å€ï¼šhttps://github.com/coreybutler/nvm-windows/releases ç¬¬äºŒæ­¥ï¼šå®‰è£…æŒ‰ç…§æç¤ºå®Œæˆå®‰è£…å³å¯ï¼Œå®‰è£…å®Œæˆåå¯ä»¥æ£€æµ‹ä¸€ä¸‹æ˜¯å¦å®‰è£…æˆåŠŸ åœ¨cmdå‘½ä»¤è¡Œè¾“å…¥nvm,å¦‚æœå‡ºç°nvmç‰ˆæœ¬å·å’Œä¸€ç³»åˆ—å¸®åŠ©æŒ‡ä»¤ï¼Œåˆ™è¯´æ˜nvmå®‰è£…æˆåŠŸã€‚ ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹settings.txtåœ¨ä½ å®‰è£…çš„ç›®å½•ä¸‹æ‰¾åˆ°settings.txtæ–‡ä»¶ï¼Œæ‰“å¼€ååŠ ä¸Š 12node_mirror: https://npm.taobao.org/mirrors/node/ npm_mirror: https://npm.taobao.org/mirrors/npm/ è¿™ä¸€æ­¥ä¸»è¦æ˜¯å°†npmé•œåƒæ”¹ä¸ºæ·˜å®çš„é•œåƒï¼Œå¯ä»¥æé«˜ä¸‹è½½é€Ÿåº¦ã€‚ ç¬¬å››æ­¥ï¼šnode.js å®‰è£…å¯ä»¥å…ˆä½¿ç”¨ num list æŸ¥çœ‹æœ¬åœ°å·²å®‰è£…çš„ç‰ˆæœ¬ ç„¶åä½¿ç”¨ nvm list available æŸ¥çœ‹æ‰€æœ‰ç‰ˆæœ¬ nvmå¸¸ç”¨å‘½ä»¤ 12345678910111213141516171819nvm list æŸ¥çœ‹å·²ç»å®‰è£…çš„ç‰ˆæœ¬nvm list installed æŸ¥çœ‹å·²ç»å®‰è£…çš„ç‰ˆæœ¬nvm list available æŸ¥çœ‹ç½‘ç»œå¯ä»¥å®‰è£…çš„ç‰ˆæœ¬nvm version æŸ¥çœ‹å½“å‰çš„ç‰ˆæœ¬nvm install å®‰è£…æœ€æ–°ç‰ˆæœ¬nvmnvm use &lt;version&gt; ## åˆ‡æ¢ä½¿ç”¨æŒ‡å®šçš„ç‰ˆæœ¬nodenvm ls åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬nvm currentæ˜¾ç¤ºå½“å‰ç‰ˆæœ¬nvm alias &lt;name&gt; &lt;version&gt; ## ç»™ä¸åŒçš„ç‰ˆæœ¬å·æ·»åŠ åˆ«ånvm unalias &lt;name&gt; ## åˆ é™¤å·²å®šä¹‰çš„åˆ«ånvm reinstall-packages &lt;version&gt; ## åœ¨å½“å‰ç‰ˆæœ¬nodeç¯å¢ƒä¸‹ï¼Œé‡æ–°å…¨å±€å®‰è£…æŒ‡å®šç‰ˆæœ¬å·çš„npmåŒ…nvm on æ‰“å¼€nodejsæ§åˆ¶nvm off å…³é—­nodejsæ§åˆ¶nvm proxy æŸ¥çœ‹è®¾ç½®ä¸ä»£ç†nvm node_mirror [url] è®¾ç½®æˆ–è€…æŸ¥çœ‹setting.txtä¸­çš„node_mirrorï¼Œå¦‚æœä¸è®¾ç½®çš„é»˜è®¤æ˜¯ https://nodejs.org/dist/nvm npm_mirror [url] è®¾ç½®æˆ–è€…æŸ¥çœ‹setting.txtä¸­çš„npm_mirror,å¦‚æœä¸è®¾ç½®çš„è¯é»˜è®¤çš„æ˜¯ï¼š https://github.com/npm/npm/archive/.nvm uninstall &lt;version&gt; å¸è½½åˆ¶å®šçš„ç‰ˆæœ¬nvm use [version] [arch] åˆ‡æ¢åˆ¶å®šçš„nodeç‰ˆæœ¬å’Œä½æ•°nvm root [path] è®¾ç½®å’ŒæŸ¥çœ‹rootè·¯å¾„","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/åç«¯/"}],"tags":[{"name":"Node","slug":"Node","permalink":"https://yangyfeng.github.io/blogpost/tags/Node/"}]},{"title":"vue3å­¦ä¹ èµ·å§‹","slug":"Vue/vue3å­¦ä¹ èµ·å§‹","date":"2021-04-28T16:00:00.000Z","updated":"2021-04-29T09:36:42.161Z","comments":true,"path":"/posts/d69ba86b.html","link":"","permalink":"https://yangyfeng.github.io/posts/d69ba86b.html","excerpt":"å¿«é€Ÿèµ·å§‹cdn1&lt;script src=\"https://cdn.bootcdn.net/ajax/libs/vue/3.0.0-rc.7/vue.global.js\"&gt;&lt;/script&gt; vue-cliå‡çº§vue-cli v4.5 1npm i -g @vue/cli@next viteä½¿ç”¨viteä½“éªŒæ›´å¿«é€Ÿ 1234$ npm init vite-app &lt;project-name&gt;$ cd &lt;project-name&gt;$ npm install$ npm run dev ä»vue2è¿ç§»æ–°ç‰¹æ€§ Composition API Teleport Fragments Emits Component Option createRenderer APIç”¨äºåˆ›å»ºè‡ªå®šä¹‰æ¸²æŸ“å™¨ ç ´åæ€§å˜åŒ– Global API æ”¹ä¸ºåº”ç”¨ç¨‹åºå®ä¾‹è°ƒç”¨ Global and internal APIsé‡æ„ä¸ºå¯åšæ‘‡æ ‘ä¼˜åŒ– modelé€‰é¡¹å’Œv-bindçš„sync ä¿®é¥°ç¬¦è¢«ç§»é™¤ï¼Œç»Ÿä¸€ä¸ºv-modelå‚æ•°å½¢å¼ æ¸²æŸ“å‡½æ•°APIä¿®æ”¹ å‡½æ•°å¼ç»„ä»¶ä»…èƒ½é€šè¿‡ç®€å•å‡½æ•°æ–¹å¼åˆ›å»º åºŸå¼ƒåœ¨SFCçš„templateä¸Šä½¿ç”¨functionalæˆ–è€…æ·»åŠ functionalé€‰é¡¹çš„æ–¹å¼å£°æ˜å‡½æ•°å¼ç»„ä»¶ å¼‚æ­¥ç»„ä»¶è¦æ±‚ä½¿ç”¨defineAsyncComponent æ–¹æ³•åˆ›å»º ç»„ä»¶dataé€‰é¡¹åº”è¯¥æ€»æ˜¯å£°æ˜ä¸ºå‡½æ•° è‡ªå®šä¹‰ç»„ä»¶ç™½åå•æ‰§è¡Œäºç¼–è¯‘æ—¶ iså±æ€§ä»…é™äºç”¨åœ¨componentæ ‡ç­¾ä¸Š $scopedSlots å±æ€§è¢«ç§»é™¤ï¼Œéƒ½ç”¨$slotsä»£æ›¿ ç‰¹æ€§å¼ºåˆ¶ç­–ç•¥å˜æ›´ è‡ªå®šä¹‰æŒ‡ä»¤APIå’Œç»„ä»¶ä¸€è‡´ ä¸€äº›transitionç±»åä¿®æ”¹: v-enter -&gt; v-enter-from v-leave -&gt; v-leave-from watch é€‰é¡¹ å’Œ$watch ä¸å†æ”¯æŒç‚¹åˆ†éš”ç¬¦å­—ç¬¦ä¸²è·¯å¾„, ä½¿ç”¨è®¡ç®—å‡½æ•°ä½œä¸ºå…¶å‚æ•° Vue 2.xä¸­åº”ç”¨ç¨‹åºæ ¹å®¹å™¨çš„ outerHTML ä¼šè¢«æ ¹ç»„ä»¶çš„æ¨¡æ¿æ›¿æ¢ (æˆ–è¢«ç¼–è¯‘ä¸ºtemplate)ã€‚Vue 3.xç°åœ¨ä½¿ç”¨åº”ç”¨æ ¹å®¹å™¨çš„innerHTMLå–ä»£. ç§»é™¤ ç§»é™¤keyCode ä½œä¸º v-on ä¿®é¥°ç¬¦ on,on, on,off and $once ç§»é™¤ Filtersç§»é™¤ Inline templates attributesç§»é™¤","text":"å¿«é€Ÿèµ·å§‹cdn1&lt;script src=\"https://cdn.bootcdn.net/ajax/libs/vue/3.0.0-rc.7/vue.global.js\"&gt;&lt;/script&gt; vue-cliå‡çº§vue-cli v4.5 1npm i -g @vue/cli@next viteä½¿ç”¨viteä½“éªŒæ›´å¿«é€Ÿ 1234$ npm init vite-app &lt;project-name&gt;$ cd &lt;project-name&gt;$ npm install$ npm run dev ä»vue2è¿ç§»æ–°ç‰¹æ€§ Composition API Teleport Fragments Emits Component Option createRenderer APIç”¨äºåˆ›å»ºè‡ªå®šä¹‰æ¸²æŸ“å™¨ ç ´åæ€§å˜åŒ– Global API æ”¹ä¸ºåº”ç”¨ç¨‹åºå®ä¾‹è°ƒç”¨ Global and internal APIsé‡æ„ä¸ºå¯åšæ‘‡æ ‘ä¼˜åŒ– modelé€‰é¡¹å’Œv-bindçš„sync ä¿®é¥°ç¬¦è¢«ç§»é™¤ï¼Œç»Ÿä¸€ä¸ºv-modelå‚æ•°å½¢å¼ æ¸²æŸ“å‡½æ•°APIä¿®æ”¹ å‡½æ•°å¼ç»„ä»¶ä»…èƒ½é€šè¿‡ç®€å•å‡½æ•°æ–¹å¼åˆ›å»º åºŸå¼ƒåœ¨SFCçš„templateä¸Šä½¿ç”¨functionalæˆ–è€…æ·»åŠ functionalé€‰é¡¹çš„æ–¹å¼å£°æ˜å‡½æ•°å¼ç»„ä»¶ å¼‚æ­¥ç»„ä»¶è¦æ±‚ä½¿ç”¨defineAsyncComponent æ–¹æ³•åˆ›å»º ç»„ä»¶dataé€‰é¡¹åº”è¯¥æ€»æ˜¯å£°æ˜ä¸ºå‡½æ•° è‡ªå®šä¹‰ç»„ä»¶ç™½åå•æ‰§è¡Œäºç¼–è¯‘æ—¶ iså±æ€§ä»…é™äºç”¨åœ¨componentæ ‡ç­¾ä¸Š $scopedSlots å±æ€§è¢«ç§»é™¤ï¼Œéƒ½ç”¨$slotsä»£æ›¿ ç‰¹æ€§å¼ºåˆ¶ç­–ç•¥å˜æ›´ è‡ªå®šä¹‰æŒ‡ä»¤APIå’Œç»„ä»¶ä¸€è‡´ ä¸€äº›transitionç±»åä¿®æ”¹: v-enter -&gt; v-enter-from v-leave -&gt; v-leave-from watch é€‰é¡¹ å’Œ$watch ä¸å†æ”¯æŒç‚¹åˆ†éš”ç¬¦å­—ç¬¦ä¸²è·¯å¾„, ä½¿ç”¨è®¡ç®—å‡½æ•°ä½œä¸ºå…¶å‚æ•° Vue 2.xä¸­åº”ç”¨ç¨‹åºæ ¹å®¹å™¨çš„ outerHTML ä¼šè¢«æ ¹ç»„ä»¶çš„æ¨¡æ¿æ›¿æ¢ (æˆ–è¢«ç¼–è¯‘ä¸ºtemplate)ã€‚Vue 3.xç°åœ¨ä½¿ç”¨åº”ç”¨æ ¹å®¹å™¨çš„innerHTMLå–ä»£. ç§»é™¤ ç§»é™¤keyCode ä½œä¸º v-on ä¿®é¥°ç¬¦ on,on, on,off and $once ç§»é™¤ Filtersç§»é™¤ Inline templates attributesç§»é™¤ composition apicomposition apiä¸ºvueåº”ç”¨æä¾›æ›´å¥½çš„é€»è¾‘å¤ç”¨å’Œä»£ç ç»„ç»‡ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;template&gt; &lt;div&gt; &lt;p&gt;counter: &#123;&#123;counter&#125;&#125;&lt;/p&gt; &lt;p&gt;doubleCounter: &#123;&#123;doubleCounter&#125;&#125;&lt;/p&gt; &lt;p ref=&quot;desc&quot;&gt;&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import &#123; reactive, computed, watch, ref, toRefs, onMounted, onUnmounted,&#125; from &quot;vue&quot;;export default &#123; setup() &#123; const data = reactive(&#123; counter: 1, doubleCounter: computed(() =&gt; data.counter * 2), &#125;); let timer onMounted(() =&gt; &#123; timer = setInterval(() =&gt; &#123; data.counter++ &#125;, 1000); &#125;) onUnmounted(() =&gt; &#123; clearInterval(timer) &#125;) const desc = ref(null) watch(()=&gt;data.counter, (val,oldVal)=&gt;&#123; // console.log(`counter change from $&#123;oldVal&#125; to $&#123;val&#125;`); desc.value.textContent = `counter change from $&#123;oldVal&#125; to $&#123;val&#125;` &#125;) return &#123;...toRefs(data), desc&#125;; &#125;,&#125;;&lt;/script&gt; Teleportä¼ é€é—¨ç»„ä»¶æä¾›ä¸€ç§ç®€æ´çš„æ–¹å¼å¯ä»¥æŒ‡å®šå®ƒé‡Œé¢å†…å®¹çš„çˆ¶å…ƒç´ ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;template&gt; &lt;button @click=&quot;modalOpen = true&quot;&gt; å¼¹å‡ºä¸€ä¸ªå…¨å±æ¨¡æ€çª—å£&lt;/button&gt; &lt;teleport to=&quot;body&quot;&gt; &lt;div v-if=&quot;modalOpen&quot; class=&quot;modal&quot;&gt; &lt;div&gt; è¿™æ˜¯ä¸€ä¸ªæ¨¡æ€çª—å£! æˆ‘çš„çˆ¶å…ƒç´ æ˜¯&quot;body&quot;ï¼ &lt;button @click=&quot;modalOpen = false&quot;&gt;Close&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/teleport&gt;&lt;/template&gt;&lt;script&gt;export default &#123; data() &#123; return &#123; modalOpen: true &#125; &#125;,&#125;;&lt;/script&gt;&lt;style scoped&gt;.modal &#123; position: absolute; top: 0; right: 0; bottom: 0; left: 0; background-color: rgba(0,0,0,.5); display: flex; flex-direction: column; align-items: center; justify-content: center;&#125;.modal div &#123; display: flex; flex-direction: column; align-items: center; justify-content: center; background-color: white; width: 300px; height: 300px; padding: 5px;&#125;&lt;/style&gt; Fragmentsvue3ä¸­ç»„ä»¶å¯ä»¥æ‹¥æœ‰å¤šä¸ªæ ¹ã€‚ 12345&lt;template&gt; &lt;header&gt;...&lt;/header&gt; &lt;main v-bind=&quot;$attrs&quot;&gt;...&lt;/main&gt; &lt;footer&gt;...&lt;/footer&gt;&lt;/template&gt; Emits Component Optionvue3ä¸­ç»„ä»¶å‘é€çš„è‡ªå®šä¹‰äº‹ä»¶éœ€è¦å®šä¹‰åœ¨emitsé€‰é¡¹ä¸­ï¼š åŸç”Ÿäº‹ä»¶ä¼šè§¦å‘ä¸¤æ¬¡ï¼Œæ¯”å¦‚click æ›´å¥½çš„æŒ‡ç¤ºç»„ä»¶å·¥ä½œæ–¹å¼ å¯¹è±¡å½¢å¼äº‹ä»¶æ ¡éªŒ 1234567891011&lt;template&gt; &lt;div @click=&quot;$emit(&apos;click&apos;)&quot;&gt; &lt;h3&gt;è‡ªå®šä¹‰äº‹ä»¶&lt;/h3&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; emits: [&apos;click&apos;]&#125;&lt;/script&gt; è‡ªå®šä¹‰æ¸²æŸ“å™¨ custom rendererVue3.0ä¸­æ”¯æŒ è‡ªå®šä¹‰æ¸²æŸ“å™¨ (Renderer)ï¼šè¿™ä¸ª API å¯ä»¥ç”¨æ¥è‡ªå®šä¹‰æ¸²æŸ“é€»è¾‘ã€‚æ¯”å¦‚ä¸‹é¢çš„æ¡ˆä¾‹æˆ‘ä»¬å¯ä»¥æŠŠæ•°æ®æ¸²æŸ“åˆ°canvasä¸Šã€‚ é¦–å…ˆåˆ›å»ºä¸€ä¸ªç»„ä»¶æè¿°è¦æ¸²æŸ“çš„æ•°æ®ï¼Œæˆ‘ä»¬æƒ³è¦æ¸²æŸ“ä¸€ä¸ªå«åšpiechartçš„ç»„ä»¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦å•ç‹¬å£°æ˜è¯¥ç»„ä»¶ï¼Œå› ä¸ºæˆ‘ä»¬åªæ˜¯æƒ³æŠŠå®ƒæºå¸¦çš„æ•°æ®ç»˜åˆ¶åˆ°canvasä¸Šã€‚åˆ›å»ºCanvasApp.vue 12345678910111213141516171819202122232425&lt;template&gt; &lt;piechart @click=&quot;handleClick&quot; :data=&quot;state.data&quot; :x=&quot;200&quot; :y=&quot;200&quot; :r=&quot;200&quot;&gt;&lt;/piechart&gt;&lt;/template&gt;&lt;script&gt;import &#123; reactive, ref &#125; from &quot;vue&quot;;export default &#123; setup() &#123; const state = reactive(&#123; data: [ &#123; name: &quot;å¤§ä¸“&quot;, count: 200, color: &quot;brown&quot; &#125;, &#123; name: &quot;æœ¬ç§‘&quot;, count: 300, color: &quot;yellow&quot; &#125;, &#123; name: &quot;ç¡•å£«&quot;, count: 100, color: &quot;pink&quot; &#125;, &#123; name: &quot;åšå£«&quot;, count: 50, color: &quot;skyblue&quot; &#125; ] &#125;); function handleClick() &#123; state.data.push(&#123; name: &quot;å…¶ä»–&quot;, count: 30, color: &quot;orange&quot; &#125;); &#125; return &#123; state, handleClick &#125;; &#125;&#125;;&lt;/script&gt; ä¸‹é¢æˆ‘ä»¬åˆ›å»ºè‡ªå®šä¹‰æ¸²æŸ“å™¨ï¼Œmain.js 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172import &#123; createApp, createRenderer &#125; from 'vue'import CanvasApp from './CanvasApp.vue'const nodeOps = &#123; insert: (child, parent, anchor) =&gt; &#123; // æˆ‘ä»¬é‡å†™äº†inserté€»è¾‘ï¼Œå› ä¸ºåœ¨æˆ‘ä»¬canvasAppä¸­ä¸å­˜åœ¨å®é™…domæ’å…¥æ“ä½œ // è¿™é‡Œé¢åªéœ€è¦å°†å…ƒç´ ä¹‹é—´çš„çˆ¶å­å…³ç³»ä¿å­˜ä¸€ä¸‹å³å¯ child.parent = parent; if (!parent.childs) &#123; parent.childs = [child] &#125; else &#123; parent.childs.push(child); &#125; // åªæœ‰canvasæœ‰nodeTypeï¼Œè¿™é‡Œå°±æ˜¯å¼€å§‹ç»˜åˆ¶å†…å®¹åˆ°canvas if (parent.nodeType == 1) &#123; draw(child); // å¦‚æœå­å…ƒç´ ä¸Šé™„åŠ äº†äº‹ä»¶ï¼Œæˆ‘ä»¬ç»™canvasæ·»åŠ ç›‘å¬å™¨ if (child.onClick) &#123; ctx.canvas.addEventListener('click', () =&gt; &#123; child.onClick(); setTimeout(() =&gt; &#123; draw(child) &#125;, 0); &#125;) &#125; &#125; &#125;, remove: child =&gt; &#123;&#125;, createElement: (tag, isSVG, is) =&gt; &#123; // åˆ›å»ºå…ƒç´ æ—¶ç”±äºæ²¡æœ‰éœ€è¦åˆ›å»ºçš„domå…ƒç´ ï¼Œåªéœ€è¿”å›å½“å‰å…ƒç´ æ•°æ®å¯¹è±¡ return &#123;tag&#125; &#125;, createText: text =&gt; &#123;&#125;, createComment: text =&gt; &#123;&#125;, setText: (node, text) =&gt; &#123;&#125;, setElementText: (el, text) =&gt; &#123;&#125;, parentNode: node =&gt; &#123;&#125;, nextSibling: node =&gt; &#123;&#125;, querySelector: selector =&gt; &#123;&#125;, setScopeId(el, id) &#123;&#125;, cloneNode(el) &#123;&#125;, insertStaticContent(content, parent, anchor, isSVG) &#123;&#125;, patchProp(el, key, prevValue, nextValue) &#123; el[key] = nextValue; &#125;,&#125;;// åˆ›å»ºä¸€ä¸ªæ¸²æŸ“å™¨let renderer = createRenderer(nodeOps);// ä¿å­˜ç”»å¸ƒå’Œå…¶ä¸Šä¸‹æ–‡let ctx;let canvas;// æ‰©å±•mountï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªç”»å¸ƒå…ƒç´ function createCanvasApp(App) &#123; const app = renderer.createApp(App); const mount = app.mount app.mount = function (selector) &#123; canvas = document.createElement('canvas'); canvas.width = window.innerWidth; canvas.height = window.innerHeight; document.querySelector(selector).appendChild(canvas); ctx = canvas.getContext('2d'); mount(canvas); &#125; return app&#125;createCanvasApp(CanvasApp).mount('#demo') index.htmlé‡Œé¢æ·»åŠ ä¸€ä¸ªdiv#demo ç¼–å†™ç»˜åˆ¶é€»è¾‘ 12345678910111213141516171819202122232425262728293031323334353637383940414243const draw = (el,noClear) =&gt; &#123; if (!noClear) &#123; ctx.clearRect(0, 0, canvas.width, canvas.height) &#125; if (el.tag == 'piechart') &#123; let &#123; data, r, x, y &#125; = el; let total = data.reduce((memo, current) =&gt; memo + current.count, 0); let start = 0, end = 0; data.forEach(item =&gt; &#123; end += item.count / total * 360; drawPieChart(start, end, item.color, x, y, r); drawPieChartText(item.name, (start + end) / 2, x, y, r); start = end; &#125;); &#125; el.childs &amp;&amp; el.childs.forEach(child =&gt; draw(child,true));&#125;const d2a = (n) =&gt; &#123; return n * Math.PI / 180;&#125;const drawPieChart = (start, end, color, cx, cy, r) =&gt; &#123; let x = cx + Math.cos(d2a(start)) * r; let y = cy + Math.sin(d2a(start)) * r; ctx.beginPath(); ctx.moveTo(cx, cy); ctx.lineTo(x, y); ctx.arc(cx, cy, r, d2a(start), d2a(end), false); ctx.fillStyle = color; ctx.fill(); ctx.stroke(); ctx.closePath();&#125;const drawPieChartText = (val, position, cx, cy, r) =&gt; &#123; ctx.beginPath(); let x = cx + Math.cos(d2a(position)) * r/1.25 - 20; let y = cy + Math.sin(d2a(position)) * r/1.25; ctx.fillStyle = '#000'; ctx.font = '20px å¾®è½¯é›…é»‘'; ctx.fillText(val,x,y); ctx.closePath();&#125; Global API æ”¹ä¸ºåº”ç”¨ç¨‹åºå®ä¾‹è°ƒç”¨vue2ä¸­æœ‰å¾ˆå¤šå…¨å±€apiå¯ä»¥æ”¹å˜vueçš„è¡Œä¸ºï¼Œæ¯”å¦‚Vue.componentç­‰ã€‚è¿™å¯¼è‡´ä¸€äº›é—®é¢˜ï¼š vue2æ²¡æœ‰appæ¦‚å¿µï¼Œnew Vue()å¾—åˆ°çš„æ ¹å®ä¾‹è¢«ä½œä¸ºappï¼Œè¿™æ ·çš„è¯æ‰€æœ‰åˆ›å»ºçš„æ ¹å®ä¾‹æ˜¯å…±äº«ç›¸åŒçš„å…¨å±€é…ç½®ï¼Œè¿™åœ¨æµ‹è¯•æ—¶ä¼šæ±¡æŸ“å…¶ä»–æµ‹è¯•ç”¨ä¾‹ï¼Œå¯¼è‡´æµ‹è¯•å˜å¾—å›°éš¾ã€‚ å…¨å±€é…ç½®ä¹Ÿå¯¼è‡´æ²¡æœ‰åŠæ³•åœ¨å•é¡µé¢åˆ›å»ºä¸åŒå…¨å±€é…ç½®çš„å¤šä¸ªappå®ä¾‹ã€‚ vue3ä¸­ä½¿ç”¨createAppè¿”å›appå®ä¾‹ï¼Œç”±å®ƒæš´éœ²ä¸€ç³»åˆ—å…¨å±€api 1234import &#123; createApp &#125; from 'vue'const app = createApp(&#123;&#125;) .component('comp', &#123; render: () =&gt; h('div', 'i am comp') &#125;) .mount('#app') åˆ—ä¸¾å¦‚ä¸‹ï¼š 2.x Global API 3.x Instance API (app) Vue.config app.config Vue.config.productionTip removed (see below) Vue.config.ignoredElements app.config.isCustomElement (see below) Vue.component app.component Vue.directive app.directive Vue.mixin app.mixin Vue.use app.use (see below) Vue.filter removed Global and internal APIsé‡æ„ä¸ºå¯åšæ‘‡æ ‘ä¼˜åŒ–vue2ä¸­ä¸å°‘global-apiæ˜¯ä½œä¸ºé™æ€å‡½æ•°ç›´æ¥æŒ‚åœ¨æ„é€ å‡½æ•°ä¸Šçš„ï¼Œä¾‹å¦‚Vue.nextTick()ï¼Œå¦‚æœæˆ‘ä»¬ä»æœªåœ¨ä»£ç ä¸­ç”¨è¿‡å®ƒä»¬ï¼Œå°±ä¼šå½¢æˆæ‰€è°“çš„dead codeï¼Œè¿™ç±»global-apié€ æˆçš„dead codeæ— æ³•ä½¿ç”¨webpackçš„tree-shakingæ’é™¤æ‰ã€‚ 12345import Vue from 'vue'Vue.nextTick(() =&gt; &#123; // something something DOM-related&#125;) å—å½±å“apiï¼š Vue.nextTick Vue.observable (replaced by Vue.reactive) Vue.version Vue.compile (only in full builds) Vue.set (only in compat builds) Vue.delete (only in compat builds) modelé€‰é¡¹å’Œv-bindçš„sync ä¿®é¥°ç¬¦è¢«ç§»é™¤ï¼Œç»Ÿä¸€ä¸ºv-modelå‚æ•°å½¢å¼vue2ä¸­.syncå’Œv-modelåŠŸèƒ½æœ‰é‡å ï¼Œå®¹æ˜“æ··æ·†ï¼Œvue3åšäº†ç»Ÿä¸€ã€‚ 1234&lt;div id=\"app\"&gt; &lt;h3&gt;&#123;&#123;data&#125;&#125;&lt;/h3&gt; &lt;comp v-model=\"data\"&gt;&lt;/comp&gt;&lt;/div&gt; 12345678app.component('comp', &#123; template: ` &lt;div @click=\"$emit('update:modelValue', 'new value')\"&gt; i am comp, &#123;&#123;modelValue&#125;&#125; &lt;/div&gt; `, props: ['modelValue'],&#125;) æ¸²æŸ“å‡½æ•°APIä¿®æ”¹æ¸²æŸ“å‡½æ•°å˜å¾—æ›´ç®€å•å¥½ç”¨äº†ï¼Œä¿®æ”¹ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š ä¸å†ä¼ å…¥hå‡½æ•°ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å¯¼å…¥ï¼›æ‹å¹³çš„propsç»“æ„ã€‚scopedSlotsåˆ æ‰äº†ï¼Œç»Ÿä¸€åˆ°slots 1234567891011121314151617181920import &#123;h&#125; from 'vue'render() &#123; const emit = this.$emit const onclick = this.onclick return h('div', [ h('div', &#123; onClick() &#123; emit('update:modelValue', 'new value') &#125;&#125;, `i am comp, $&#123;this.modelValue&#125;` ), h('button', &#123; onClick()&#123; onclick() &#125;&#125;, 'buty it!' ) ])&#125; å‡½æ•°å¼ç»„ä»¶ä»…èƒ½é€šè¿‡ç®€å•å‡½æ•°æ–¹å¼åˆ›å»ºï¼Œfunctionalé€‰é¡¹åºŸå¼ƒå‡½æ•°å¼ç»„ä»¶å˜åŒ–è¾ƒå¤§ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š æ€§èƒ½æå‡åœ¨vue3ä¸­å¯å¿½ç•¥ä¸è®¡ï¼Œæ‰€ä»¥vue3ä¸­æ¨èä½¿ç”¨çŠ¶æ€ç»„ä»¶ å‡½æ•°æ—¶ç»„ä»¶ä»…èƒ½é€šè¿‡çº¯å‡½æ•°å½¢å¼å£°æ˜ï¼Œæ¥æ”¶propså’Œcontextä¸¤ä¸ªå‚æ•° SFCä¸­&lt;template&gt;ä¸èƒ½æ·»åŠ functionalç‰¹æ€§å£°æ˜å‡½æ•°æ˜¯ç»„ä»¶ { functional: true }ç»„ä»¶é€‰é¡¹ç§»é™¤ å£°æ˜ä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶ï¼ŒFunctional.js 123456789import &#123; h &#125; from 'vue'const Heading = (props, context) =&gt; &#123; return h(`h$&#123;props.level&#125;`, context.attrs, context.slots)&#125;Heading.props = ['level']export default Heading 1&lt;Functional level=\"3\"&gt;è¿™æ˜¯ä¸€ä¸ªh3&lt;/Functional&gt; ç§»é™¤functionalé€‰é¡¹ï¼Œè¿™é‡Œä»¥elementä¸­dividerä¸ºä¾‹è¯´æ˜ å¼‚æ­¥ç»„ä»¶è¦æ±‚ä½¿ç”¨defineAsyncComponent æ–¹æ³•åˆ›å»ºç”±äºvue3ä¸­å‡½æ•°å¼ç»„ä»¶å¿…é¡»å®šä¹‰ä¸ºçº¯å‡½æ•°ï¼Œå¼‚æ­¥ç»„ä»¶å®šä¹‰æ—¶æœ‰å¦‚ä¸‹å˜åŒ–ï¼š å¿…é¡»æ˜ç¡®ä½¿ç”¨defineAsyncComponentåŒ…è£¹ component é€‰é¡¹é‡å‘½åä¸º loader Loader å‡½æ•°ä¸åœ¨æ¥æ”¶ resolve and reject ä¸”å¿…é¡»è¿”å›ä¸€ä¸ªPromise å®šä¹‰ä¸€ä¸ªå¼‚æ­¥ç»„ä»¶ 1234import &#123; defineAsyncComponent &#125; from 'vue'// ä¸å¸¦é…ç½®çš„å¼‚æ­¥ç»„ä»¶const asyncPage = defineAsyncComponent(() =&gt; import('./NextPage.vue')) å¸¦é…ç½®çš„å¼‚æ­¥ç»„ä»¶ï¼Œloaderé€‰é¡¹æ˜¯ä»¥å‰çš„component 1234567891011import ErrorComponent from './components/ErrorComponent.vue'import LoadingComponent from './components/LoadingComponent.vue'// å¾…é…ç½®çš„å¼‚æ­¥ç»„ä»¶const asyncPageWithOptions = defineAsyncComponent(&#123; loader: () =&gt; import('./NextPage.vue'), delay: 200, timeout: 3000, errorComponent: ErrorComponent, loadingComponent: LoadingComponent&#125;) ç»„ä»¶dataé€‰é¡¹åº”è¯¥æ€»æ˜¯å£°æ˜ä¸ºå‡½æ•°vue3ä¸­dataé€‰é¡¹ç»Ÿä¸€ä¸ºå‡½æ•°å½¢å¼ï¼Œè¿”å›å“åº”å¼æ•°æ®ã€‚ 1234567createApp(&#123; data() &#123; return &#123; apiKey: 'a1b2c3' &#125; &#125;&#125;).mount('#app') è‡ªå®šä¹‰ç»„ä»¶ç™½åå•vue3ä¸­è‡ªå®šä¹‰å…ƒç´ æ£€æµ‹å‘ç”Ÿåœ¨æ¨¡æ¿ç¼–è¯‘æ—¶ï¼Œå¦‚æœè¦æ·»åŠ ä¸€äº›vueä¹‹å¤–çš„è‡ªå®šä¹‰å…ƒç´ ï¼Œéœ€è¦åœ¨ç¼–è¯‘å™¨é€‰é¡¹ä¸­è®¾ç½®isCustomElementé€‰é¡¹ã€‚ ä½¿ç”¨æ„å»ºå·¥å…·æ—¶ï¼Œæ¨¡æ¿éƒ½ä¼šç”¨vue-loaderé¢„ç¼–è¯‘ï¼Œè®¾ç½®å®ƒæä¾›çš„compilerOptionså³å¯ï¼š 123456789101112rules: [ &#123; test: /\\.vue$/, use: 'vue-loader', options: &#123; compilerOptions: &#123; isCustomElement: tag =&gt; tag === 'plastic-button' &#125; &#125; &#125; // ...] æˆ‘ä»¬æ¼”ç¤ºé¡¹ç›®ä½¿ç”¨viteï¼Œåœ¨vite.config.jsä¸­é…ç½®vueCompilerOptionså³å¯ï¼š 12345module.exports = &#123; vueCompilerOptions: &#123; isCustomElement: tag =&gt; tag === 'piechart' &#125;&#125; å¦‚æœæ˜¯é‡‡ç”¨çš„è¿è¡Œæ—¶ç¼–è¯‘ç‰ˆæœ¬çš„vueï¼Œå¯é€šè¿‡å…¨å±€é…ç½®isCustomElement 12const app = Vue.createApp(&#123;&#125;)app.config.isCustomElement = tag =&gt; tag === 'plastic-button' iså±æ€§ä»…é™äºç”¨åœ¨componentæ ‡ç­¾ä¸Švue3ä¸­è®¾ç½®åŠ¨æ€ç»„ä»¶æ—¶ï¼Œiså±æ€§ä»…èƒ½ç”¨äºcomponentæ ‡ç­¾ä¸Š 1&lt;component is=&quot;comp&quot;&gt;&lt;/component&gt; domå†…æ¨¡æ¿è§£æä½¿ç”¨v-isä»£æ›¿ 123&lt;table&gt; &lt;tr v-is=&quot;&apos;blog-post-row&apos;&quot;&gt;&lt;/tr&gt;&lt;/table&gt; ä»…é™in-domæ¨¡æ¿ï¼Œå› æ­¤æˆ‘ä»¬æµ‹è¯•æ”¾åˆ°ç‹¬ç«‹é¡µé¢æµ‹è¯•ï¼Œindex2.html 12345678910111213141516171819202122&gt; &lt;div id=\"app\"&gt;&gt; &lt;table&gt;&gt; &lt;tr v-is=\"'row'\" v-for=\"item in items\" :data=\"item\"&gt;&lt;/tr&gt;&gt; &lt;/table&gt;&gt; &lt;/div&gt;&gt; &gt; &lt;script src=\"https://cdn.bootcdn.net/ajax/libs/vue/3.0.0-rc.9/vue.global.js\"&gt;&lt;/script&gt;&gt; &lt;script&gt;&gt; Vue.createApp(&#123;&gt; data() &#123;&gt; return &#123;&gt; items: [\"aaa\", \"bbb\"],&gt; &#125;;&gt; &#125;,&gt; &#125;)&gt; .component(\"row\", &#123;&gt; props: [\"data\"],&gt; template: \"&lt;tr&gt;&lt;td&gt;&#123;&#123;this.data&#125;&#125;&lt;/td&gt;&lt;/tr&gt;\",&gt; &#125;)&gt; .mount(\"#app\");&gt; &lt;/script&gt;&gt; $scopedSlots å±æ€§è¢«ç§»é™¤ï¼Œéƒ½ç”¨$slotsä»£æ›¿vue3ä¸­ç»Ÿä¸€æ™®é€šæ’æ§½å’Œä½œç”¨åŸŸæ’æ§½åˆ°$slotsï¼Œå…·ä½“å˜åŒ–å¦‚ä¸‹ï¼š æ’æ§½å‡ä»¥å‡½æ•°å½¢å¼æš´éœ² $scopedSlotsç§»é™¤ å‡½æ•°å½¢å¼è®¿é—®æ’æ§½å†…å®¹ï¼ŒMyLink.vue 1234567891011121314&lt;script&gt;import &#123;h&#125; from 'vue'export default &#123; props: &#123; to: &#123; type: String, required: true, &#125;, &#125;, render() &#123; return h(\"a\", &#123; href: this.to &#125;, this.$slots.default()); &#125;,&#125;;&lt;/script&gt; è¿ç§»æ—¶ï¼Œæ³¨æ„ä¿®æ”¹$slots.xxä¸º$slots.xx()ï¼Œè¿™é‡Œä»¥elementä¸­uploaderä¸ºä¾‹è¯´æ˜ ç‰¹æ€§å¼ºåˆ¶ç­–ç•¥å˜æ›´åº•å±‚apiå˜åŒ–ï¼Œä¸å½±å“å¤šæ•°å¼€å‘è€… v3.vuejs.org/guide/migraâ€¦ è‡ªå®šä¹‰æŒ‡ä»¤APIå’Œç»„ä»¶ä¿æŒä¸€è‡´vue3ä¸­æŒ‡ä»¤apiå’Œç»„ä»¶ä¿æŒä¸€è‡´ï¼Œå…·ä½“è¡¨ç°åœ¨ï¼š bind â†’ beforeMount inserted â†’ mounted beforeUpdate: new! å…ƒç´ è‡ªèº«æ›´æ–°å‰è°ƒç”¨, å’Œç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å¾ˆåƒ update â†’ removed! å’ŒupdatedåŸºæœ¬ç›¸åŒï¼Œå› æ­¤è¢«ç§»é™¤ä¹‹ï¼Œä½¿ç”¨updatedä»£æ›¿ã€‚ componentUpdated â†’ updated beforeUnmount new! å’Œç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­ç›¸ä¼¼, å…ƒç´ å°†è¦è¢«ç§»é™¤ä¹‹å‰è°ƒç”¨ã€‚ unbind â†’ unmounted å†™ä¸€ä¸ªæŒ‡ä»¤å®éªŒä¸€ä¸‹ 1234567const app = Vue.createApp(&#123;&#125;)app.directive('highlight', &#123; beforeMount(el, binding, vnode) &#123; el.style.background = binding.value &#125;&#125;) 1&lt;p v-highlight=&quot;yellow&quot;&gt;Highlight this text bright yellow&lt;/p&gt; transitionç±»åå˜æ›´ v-enter â†’ v-enter-from v-leave â†’ v-leave-from Vue2ä¸­è¿‡åº¦æµç¨‹å›¾ï¼šå›¾ä¸­ä¸¤ä¸ªèµ·å§‹ç±»åå‘ç”Ÿå˜åŒ– è¯•éªŒä¸€ä¸‹ï¼ŒTransitionTest.vue 12345678910111213141516171819202122232425262728293031&lt;template&gt; &lt;div id=&quot;demo&quot;&gt; &lt;button @click=&quot;show = !show&quot;&gt;Toggle&lt;/button&gt; &lt;transition name=&quot;fade&quot;&gt; &lt;p v-if=&quot;show&quot;&gt;hello&lt;/p&gt; &lt;/transition&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; data() &#123; return &#123; show: true, &#125;; &#125;,&#125;;&lt;/script&gt;&lt;style scoped&gt;.fade-enter-active,.fade-leave-active &#123; transition: opacity 0.5s ease;&#125;.fade-enter-from,.fade-leave-to &#123; opacity: 0;&#125;&lt;/style&gt; ç»„ä»¶watché€‰é¡¹å’Œå®ä¾‹æ–¹æ³•$watchä¸å†æ”¯æŒç‚¹åˆ†éš”ç¬¦å­—ç¬¦ä¸²è·¯å¾„ä»¥.åˆ†å‰²çš„è¡¨è¾¾å¼ä¸å†è¢«watchå’Œwatchæ”¯æŒï¼Œå¯ä»¥ä½¿ç”¨è®¡ç®—å‡½æ•°ä½œä¸ºwatchæ”¯æŒï¼Œå¯ä»¥ä½¿ç”¨è®¡ç®—å‡½æ•°ä½œä¸ºwatchå‚æ•°å®ç°ã€‚ 123this.$watch(() =&gt; this.foo.bar, (v1, v2) =&gt; &#123; console.log(this.foo.bar)&#125;) Vue 2.xä¸­åº”ç”¨ç¨‹åºæ ¹å®¹å™¨çš„ outerHTML ä¼šè¢«æ ¹ç»„ä»¶çš„æ¨¡æ¿æ›¿æ¢ (æˆ–è¢«ç¼–è¯‘ä¸ºtemplate)ï¼ŒVue 3.xç°åœ¨ä½¿ç”¨æ ¹å®¹å™¨çš„innerHTMLå–ä»£keyCode ä½œä¸º v-on ä¿®é¥°ç¬¦è¢«ç§»é™¤vue2ä¸­å¯ä»¥ä½¿ç”¨keyCodeæŒ‡ä»£æŸä¸ªæŒ‰é”®ï¼Œvue3ä¸å†æ”¯æŒã€‚ 12345&lt;!-- keyCodeæ–¹å¼ä¸å†è¢«æ”¯æŒ --&gt;&lt;input v-on:keyup.13=&quot;submit&quot; /&gt;&lt;!-- åªèƒ½ä½¿ç”¨aliasæ–¹å¼ --&gt;&lt;input v-on:keyup.enter=&quot;submit&quot; /&gt; on,off and $once ç§»é™¤ä¸Šè¿°3ä¸ªæ–¹æ³•è¢«è®¤ä¸ºä¸åº”è¯¥ç”±vueæä¾›ï¼Œå› æ­¤è¢«ç§»é™¤äº†ï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–ä¸‰æ–¹åº“å®ç° 1&lt;script src=\"https://unpkg.com/mitt/dist/mitt.umd.js\"&gt;&lt;/script&gt; 12345678// åˆ›å»ºemitterconst emitter = mitt()// å‘é€äº‹ä»¶emitter.emit('foo', 'foooooooo')// ç›‘å¬äº‹ä»¶emitter.on('foo', msg =&gt; console.log(msg)) Filtersç§»é™¤vue3ä¸­ç§»é™¤äº†è¿‡æ»¤å™¨ï¼Œè¯·è°ƒç”¨æ–¹æ³•æˆ–è€…è®¡ç®—å±æ€§ä»£æ›¿ã€‚ Inline templates attributesç§»é™¤vue2ä¸­æä¾›inline-templateç‰¹æ€§å¯æä¾›è‡ªå®šä¹‰ç»„ä»¶å†…éƒ¨å†…å®¹ä½œä¸ºå…¶æ¨¡æ¿ 123456&lt;my-component inline-template&gt; &lt;div&gt; &lt;p&gt;These are compiled as the component&apos;s own template.&lt;/p&gt; &lt;p&gt;Not parent&apos;s transclusion content.&lt;/p&gt; &lt;/div&gt;&lt;/my-component&gt; vue3ä¸å†æ”¯æŒï¼Œå¯ä»¥ä½¿ç”¨scriptæ›¿ä»£ 123&lt;script type=&quot;text/html&quot; id=&quot;my-comp-template&quot;&gt; &lt;div&gt;&#123;&#123; hello &#125;&#125;&lt;/div&gt;&lt;/script&gt; 1234const MyComp = &#123; template: '#my-comp-template' // ...&#125;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"},{"name":"Vue3","slug":"Vue3","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue3/"}]},{"title":"nvmå·¥å…·åˆ‡æ¢nodeç‰ˆæœ¬","slug":"Node/nvmå·¥å…·åˆ‡æ¢nodeç‰ˆæœ¬","date":"2021-04-26T16:00:00.000Z","updated":"2021-04-27T10:36:19.707Z","comments":true,"path":"/posts/43f370af.html","link":"","permalink":"https://yangyfeng.github.io/posts/43f370af.html","excerpt":"","text":"nodeä»¥å¾€çš„ç‰ˆæœ¬ https://nodejs.org/zh-cn/download/releases/nvmå·¥å…·Windowsç‰ˆä¸‹è½½ https://github.com/coreybutler/nvm-windows/releasesnvmå®‰è£…æ•™ç¨‹ https://www.html.cn/qa/node-js/11997.htmlä½¿ç”¨è¿‡ç¨‹é‡åˆ°çš„é—®é¢˜ https://segmentfault.com/q/1010000009258340è§£å†³nvm useæ— æƒé™é—®é¢˜ https://github.com/coreybutler/nvm-windows/issues/221 æ³¨æ„äº‹é¡¹ï¼š1ã€å®‰è£…è·¯å¾„ä¸èƒ½å«æœ‰ä¸­æ–‡å’Œç©ºæ ¼2ã€å‘½ä»¤è¡Œè¿è¡Œä½¿ç”¨ç®¡ç†å‘˜æ–¹å¼","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/åç«¯/"}],"tags":[{"name":"Node","slug":"Node","permalink":"https://yangyfeng.github.io/blogpost/tags/Node/"}]},{"title":"githubè¿æ¥è¶…æ—¶é—®é¢˜","slug":"Git/githubè¿æ¥è¶…æ—¶é—®é¢˜","date":"2021-04-20T16:00:00.000Z","updated":"2021-08-18T08:48:56.108Z","comments":true,"path":"/posts/d8976663.html","link":"","permalink":"https://yangyfeng.github.io/posts/d8976663.html","excerpt":"","text":"Githubå‡ºç°è¿æ¥è¶…æ—¶è§£å†³åŠæ³• 1ã€æ‰“å¼€æœ¬æœºdnsé…ç½®æ–‡ä»¶ æ–‡ä»¶è·¯å¾„åœ¨C:\\Windows\\System32\\drivers\\etc 2ã€è·å–è¦è®¿é—®çš„ç›¸å…³ç½‘ç«™çš„IP è®¿é—®æŸ¥è¯¢IP æœç´¢æ¡†å†…åˆ†åˆ«è¾“å…¥github.comå’Œgithub.global.ssl.fastly.netæŸ¥è¯¢å¯¹åº”çš„IPåœ°å€ï¼Œç„¶åå¦‚ä¸Šå›¾æ‰€ç¤ºæ ¼å¼æ·»åŠ ä¸Šé…ç½®å°±å¯ä»¥äº† 3ã€æµ‹è¯• powershellé‡Œpingä¸€ä¸‹ ping github.com 4ã€windowsä¸‹hostæ–‡ä»¶ä¿®æ”¹ä¸åˆ·æ–° windowç¯å¢ƒï¼š hostsæ–‡ä»¶ä½ç½®ï¼šC:\\windows\\system32\\drivers\\etc åˆ·æ–°æ–¹å¼ï¼š win+rï¼Œè¾“å…¥CMDï¼Œå›è½¦ åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ: 12ipconfig /flushdns #æ¸…é™¤DNSç¼“å­˜å†…å®¹ã€‚ps:ipconfig /displaydns #æ˜¾ç¤ºDNSç¼“å­˜å†…å®¹ linuxç¯å¢ƒ æ–‡ä»¶ä½ç½®ï¼š/etc/hosts åˆ·æ–°å‘½ä»¤ï¼šsystemctl restart nscd","categories":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://yangyfeng.github.io/blogpost/categories/å¼€å‘å·¥å…·/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://yangyfeng.github.io/blogpost/tags/Git/"}]},{"title":"è°ˆè°ˆVue å’Œ React çš„diffæœ‰ä»€ä¹ˆä¸åŒ","slug":"å‰ç«¯æ¯æ—¥ä¸€é¢˜/è°ˆè°ˆVue å’Œ React çš„diffæœ‰ä»€ä¹ˆä¸åŒ","date":"2021-04-15T16:00:00.000Z","updated":"2021-04-29T09:39:58.954Z","comments":true,"path":"/posts/35755b8d.html","link":"","permalink":"https://yangyfeng.github.io/posts/35755b8d.html","excerpt":"","text":"è¯´å‡ ä¸ªé—®é¢˜ Computed å±æ€§ä¸ºä»€ä¹ˆèƒ½å¤Ÿåœ¨ä¾èµ–æ”¹å˜çš„æ—¶å€™ï¼Œè‡ªå·±å‘ç”Ÿå˜åŒ–ï¼Ÿ Vuex çš„ Mutation å’Œ Action çš„åŒºåˆ«ï¼Ÿ React Fiberçš„ç†è§£å’ŒåŸç† Vueå’ŒReactçš„diffæœ‰ä»€ä¹ˆä¸åŒ","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"æ·±å…¥å‰ç«¯","slug":"æ·±å…¥å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/tags/æ·±å…¥å‰ç«¯/"}]},{"title":"gitæäº¤è§„èŒƒ","slug":"å¼€å‘å·¥å…·/gitæäº¤è§„èŒƒ","date":"2021-03-22T16:00:00.000Z","updated":"2021-03-27T06:24:34.641Z","comments":true,"path":"/posts/596552e8.html","link":"","permalink":"https://yangyfeng.github.io/posts/596552e8.html","excerpt":"","text":"è§„èŒƒåŒ– git commit å¯¹äºæé«˜ git log å¯è¯»æ€§ã€å¯æ§çš„ç‰ˆæœ¬æ§åˆ¶å’Œ changelog ç”Ÿæˆéƒ½æœ‰ç€é‡è¦çš„ä½œç”¨ã€‚ç„¶è€Œé˜»ç¢æˆ‘ä»¬è„šæ­¥çš„ä¸åªæ˜¯å›¢é˜Ÿçš„æ¨å¹¿ï¼Œå•å•å¯¹äºä¸€ç³»åˆ—å·¥å…·çš„é…ç½®éƒ½è®©äººå¤´å¤§ã€‚è¿™å…¶ä¸­ä¸»è¦å°±æ˜¯ commitlint å’Œ commitizen çš„é…åˆä½¿ç”¨ä»¥åŠè‡ªå®šä¹‰æäº¤è§„èŒƒã€‚ Conventional Commits çº¦å®šå¼æäº¤è§„èŒƒConventional Commits æ˜¯ä¸€ç§ç”¨äºç»™æäº¤ä¿¡æ¯å¢åŠ äººæœºå¯è¯»å«ä¹‰çš„è§„èŒƒã€‚çº¦å®šå¼æäº¤è§„èŒƒæ˜¯ä¸€ç§åŸºäºæ¶ˆæ¯çš„è½»é‡çº§çº¦å®šã€‚å®ƒæä¾›äº†ä¸€ç»„ç”¨äºåˆ›å»ºæ¸…æ™°çš„æäº¤å†å²çš„ç®€å•è§„åˆ™ï¼›è¿™ä½¿å¾—ç¼–å†™åŸºäºè§„èŒƒçš„è‡ªåŠ¨åŒ–å·¥å…·å˜å¾—æ›´å®¹æ˜“ã€‚è¿™ä¸ªçº¦å®šä¸ SemVer ç›¸å»åˆï¼Œåœ¨æäº¤ä¿¡æ¯ä¸­æè¿°æ–°ç‰¹æ€§ã€bug ä¿®å¤å’Œç ´åæ€§å˜æ›´ã€‚ æäº¤è¯´æ˜çš„ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š 12345&lt;ç±»å‹&gt;([å¯é€‰çš„ä½œç”¨åŸŸ]): &lt;æè¿°&gt;[å¯é€‰çš„æ­£æ–‡][å¯é€‰çš„è„šæ³¨] ç±»å‹ï¼ˆtypeï¼‰feat:: ç±»å‹ä¸º feat çš„æäº¤è¡¨ç¤ºåœ¨ä»£ç åº“ä¸­æ–°å¢äº†ä¸€ä¸ªåŠŸèƒ½ï¼ˆè¿™å’Œè¯­ä¹‰åŒ–ç‰ˆæœ¬ä¸­çš„ MINOR ç›¸å¯¹åº”ï¼‰ã€‚ fix:ï¼šç±»å‹ä¸º fix çš„ æäº¤è¡¨ç¤ºåœ¨ä»£ç åº“ä¸­ä¿®å¤äº†ä¸€ä¸ª bug ï¼ˆè¿™å’Œè¯­ä¹‰åŒ–ç‰ˆæœ¬ä¸­çš„ PATCH ç›¸å¯¹åº”ï¼‰ã€‚ docs:: åªæ˜¯æ›´æ”¹æ–‡æ¡£ã€‚ style:: ä¸å½±å“ä»£ç å«ä¹‰çš„å˜åŒ–ï¼ˆç©ºç™½ã€æ ¼å¼åŒ–ã€ç¼ºå°‘åˆ†å·ç­‰ï¼‰ã€‚ refactor:: ä»£ç é‡æ„ï¼Œæ—¢ä¸ä¿®å¤é”™è¯¯ä¹Ÿä¸æ·»åŠ åŠŸèƒ½ã€‚ perf:: æ”¹è¿›æ€§èƒ½çš„ä»£ç æ›´æ”¹ã€‚ test:: æ·»åŠ ç¡®å®æµ‹è¯•æˆ–æ›´æ­£ç°æœ‰çš„æµ‹è¯•ã€‚ build:: å½±å“æ„å»ºç³»ç»Ÿæˆ–å¤–éƒ¨ä¾èµ–å…³ç³»çš„æ›´æ”¹ï¼ˆç¤ºä¾‹èŒƒå›´ï¼šgulpã€broccoliã€NPMï¼‰ã€‚ ci:: æ›´æ”¹æŒç»­é›†æˆæ–‡ä»¶å’Œè„šæœ¬ï¼ˆç¤ºä¾‹èŒƒå›´ï¼šTravisã€Circleã€BrowserStackã€SauceLabsï¼‰ã€‚ chore:: å…¶ä»–ä¸ä¿®æ”¹srcæˆ–testæ–‡ä»¶ã€‚ revert:: commit å›é€€ã€‚ èŒƒå›´ï¼ˆscopeï¼‰ å¯ä»¥ä¸ºæäº¤ç±»å‹æ·»åŠ ä¸€ä¸ªå›´åœ¨åœ†æ‹¬å·å†…çš„ä½œç”¨åŸŸï¼Œä»¥ä¸ºå…¶æä¾›é¢å¤–çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚ä¾‹å¦‚ feat(parser): adds ability to parse arrays.ã€‚ åŒ…å«äº†å¯é€‰çš„ ! å­—ç¬¦ä»¥æé†’æ³¨æ„ç ´åæ€§å˜æ›´çš„æäº¤è¯´æ˜ 123chore!: drop Node 6 from testing matrixBREAKING CHANGE: dropping Node 6 which hits end of life in April çº¦å®šå¼æäº¤è§„èŒƒæ¯ä¸ªæäº¤éƒ½å¿…é¡»ä½¿ç”¨ç±»å‹å­—æ®µå‰ç¼€ï¼Œå®ƒç”±ä¸€ä¸ªåè¯ç»„æˆï¼Œè¯¸å¦‚featæˆ–fixï¼Œå…¶åæ¥ä¸€ä¸ªå¯é€‰çš„ä½œç”¨åŸŸå­—æ®µï¼Œä»¥åŠä¸€ä¸ªå¿…è¦çš„å†’å·ï¼ˆè‹±æ–‡åŠè§’ï¼‰å’Œç©ºæ ¼ã€‚ å½“ä¸€ä¸ªæäº¤ä¸ºåº”ç”¨æˆ–ç±»åº“å®ç°äº†æ–°ç‰¹æ€§æ—¶ï¼Œå¿…é¡»ä½¿ç”¨featç±»å‹ã€‚ å½“ä¸€ä¸ªæäº¤ä¸ºåº”ç”¨ä¿®å¤ bug æ—¶ï¼Œå¿…é¡»ä½¿ç”¨fixç±»å‹ã€‚ ä½œç”¨åŸŸå­—æ®µå¯ä»¥è·Ÿéšåœ¨ç±»å‹å­—æ®µåé¢ã€‚ä½œç”¨æœ‰å¿…é¡»æ˜¯ä¸€ä¸ªæè¿°æŸéƒ¨åˆ†ä»£ç çš„åè¯ï¼Œå¹¶ç”¨åœ†æ‹¬å·åŒ…å›´ï¼Œä¾‹å¦‚ï¼šfix(parser): æè¿°å­—æ®µå¿…é¡»ç´§æ¥åœ¨ç±»å‹/ä½œç”¨åŸŸå‰ç¼€çš„ç©ºæ ¼ä¹‹åã€‚æè¿°æŒ‡çš„æ˜¯å¯¹ä»£ç å˜æ›´çš„ç®€çŸ­æ€»ç»“ï¼Œä¾‹å¦‚ï¼šfix:array parsing issue when multiplejspaces were contained in stringã€‚ åœ¨ç®€çŸ­æè¿°ä¹‹åï¼Œå¯ä»¥ç¼–å†™æ›´é•¿çš„æäº¤æ­£æ–‡ï¼Œä¸ºä»£ç å˜æ›´æä¾›é¢å¤–çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚æ­£æ–‡å¿…é¡»èµ·å§‹äºæè¿°å­—æ®µç»“æŸçš„ä¸€ä¸ªç©ºè¡Œåã€‚ åœ¨æ­£æ–‡ç»“æŸçš„ä¸€ä¸ªç©ºè¡Œä¹‹åï¼Œå¯ä»¥ç¼–å†™ä¸€è¡Œæˆ–æˆ–å¤šè¡Œè„šæ³¨ã€‚è„šæ³¨å¿…é¡»åŒ…å«å…³äºæäº¤çš„å…ƒä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šå…³è”çš„åˆå¹¶è¯·æ±‚ã€Reviewerã€ç ´åæ€§å˜æ›´ã€æ¯æ¡å…ƒä¿¡æ¯ä¸€è¡Œã€‚ ç ´åæ€§å˜æ›´å¿…é¡»æ ‡ç¤ºåœ¨æ­£æ–‡åŒºåŸŸæœ€å¼€å§‹å¤„ï¼Œæˆ–è„šæ³¨åŒºåŸŸä¸­æŸä¸€è¡Œçš„å¼€å§‹ã€‚ä¸€ä¸ªç ´åæ€§å˜æ›´å¿…é¡»åŒ…å«å¤§å†™çš„æ–‡æœ¬BREAKING CHANGEï¼Œåé¢ç´§è·Ÿå†’å·å’Œç©ºæ ¼ã€‚ åœ¨BREAKING CHANGE:ä¹‹åå¿…é¡»æä¾›æè¿°ï¼Œä»¥æè¿°å¯¹ API çš„å˜æ›´ã€‚ä¾‹å¦‚ï¼šBREAKING CHANGE: enviroment variables now take precedence over cofig filesã€‚ åœ¨æäº¤è¯´æ˜ä¸­ï¼Œå¯ä»¥ä½¿ç”¨featå’Œfixä¹‹å¤–çš„ç±»å‹ã€‚ å·¥å…·çš„å®ç°å¿…é¡»ä¸åŒºåˆ†å¤§å°å†™åœ°è§£ææ„æˆçº¦å®šå¼æäº¤çš„ä¿¡æ¯å•å…ƒï¼Œåªæœ‰BREAKING CHANGE å¿…é¡»æ˜¯å¤§å†™çš„ã€‚ å¯ä»¥åœ¨ç±»å‹/ä½œç”¨åŸŸå‰ç¼€ä¹‹åï¼Œ:ä¹‹å‰ï¼Œé™„åŠ !å­—ç¬¦ï¼Œä»¥è¿›ä¸€æ­¥æé†’æ³¨æ„ç ´åæ€§å˜æ›´ã€‚å½“æœ‰!å‰ç¼€æ—¶ï¼Œæ­£æ–‡æˆ–è„šæ³¨å†…å¿…é¡»åŒ…å«BREAKING CHANGE: description ä¸ºä»€ä¹ˆä½¿ç”¨çº¦å®šå¼æäº¤ è‡ªåŠ¨åŒ–ç”Ÿäº§ CHANGELOGã€‚ åŸºäºæäº¤çš„ç±»å‹ï¼Œè‡ªåŠ¨å†³å®šè¯­ä¹‰åŒ–çš„ç‰ˆæœ¬å˜æ›´ã€‚ å‘åŒäº‹ã€å…¬ä¼—ä¸å…¶ä»–åˆ©ç›Šå…³ç³»è€…ä¼ è¾¾å˜åŒ–çš„æ€§è´¨ã€‚ è§¦å‘æ„å»ºå’Œéƒ¨ç½²æµç¨‹ã€‚ è®©äººä»¬æ¢ç´¢ä¸€ä¸ªæ›´åŠ ç»“æ„åŒ–çš„æäº¤å†å²ï¼Œä»¥ä¾¿é™ä½å¯¹ä½ çš„é¡¹ç›®ä½œå‡ºè´¡çŒ®çš„éš¾åº¦ã€‚ cz-customizableå¯è‡ªå®šä¹‰çš„Commitizenæ’ä»¶ï¼ˆæˆ–ç‹¬ç«‹å®ç”¨è¿è¡Œï¼‰å¯å¸®åŠ©å®ç°ä¸€è‡´çš„æäº¤æ¶ˆæ¯ã€‚ å®‰è£… commitizenã€cz-customizableï¼š 1yarn add -D commitizen cz-customizable å‘ package.json æ·»åŠ æ–°çš„ scriptï¼š 1234567891011&#123; \"scripts\" : &#123; ... \"commit\": \"git cz\" &#125; \"config\": &#123; \"commitizen\": &#123; \"path\": \"cz-customizable\" &#125; &#125;&#125; åœ¨æ ¹ç›®å½•æ–°å»º .cz-config.js å¹¶å¤åˆ¶ cz-config-EXAMPLE.js åˆ°æ–‡ä»¶ã€‚","categories":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://yangyfeng.github.io/blogpost/categories/å¼€å‘å·¥å…·/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://yangyfeng.github.io/blogpost/tags/Git/"},{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://yangyfeng.github.io/blogpost/tags/å¼€å‘å·¥å…·/"}]},{"title":"React FiberåŸç†è§£æ","slug":"React/React FiberåŸç†è§£æ","date":"2021-03-07T16:00:00.000Z","updated":"2021-03-27T06:24:34.619Z","comments":true,"path":"/posts/8e322b93.html","link":"","permalink":"https://yangyfeng.github.io/posts/8e322b93.html","excerpt":"Reactå›¢é˜Ÿé‡å†™äº†React çš„æ ¸å¿ƒç®—æ³•â€”reconciliation,ä¸€èˆ¬å°†ä¹‹å‰çš„ç®—æ³•å«stack reconciliationï¼Œç°åœ¨çš„å«fiber reconciliationã€‚ React Fiberæ˜¯ä»€ä¹ˆ React Fiberæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿å‘¢ï¼Ÿå®˜æ–¹çš„ä¸€å¥è¯è§£é‡Šæ˜¯â€œReact Fiberæ˜¯å¯¹æ ¸å¿ƒç®—æ³•çš„ä¸€æ¬¡é‡æ–°å®ç°â€ã€‚ ä¸ºä»€ä¹ˆFacebookè¦æReact Fiberå‘¢ï¼Ÿ åœ¨ç°æœ‰Reactä¸­ï¼Œæ›´æ–°è¿‡ç¨‹æ˜¯åŒæ­¥çš„ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚ åŒæ­¥æ›´æ–°è¿‡ç¨‹çš„å±€é™ å½“Reactå†³å®šè¦åŠ è½½æˆ–è€…æ›´æ–°ç»„ä»¶æ ‘æ—¶ï¼Œä¼šåšå¾ˆå¤šäº‹ï¼Œæ¯”å¦‚è°ƒç”¨å„ä¸ªç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œè®¡ç®—å’Œæ¯”å¯¹Virtual DOMï¼Œæœ€åæ›´æ–°DOMæ ‘ï¼Œè¿™æ•´ä¸ªè¿‡ç¨‹æ˜¯åŒæ­¥è¿›è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯è¯´åªè¦ä¸€ä¸ªåŠ è½½æˆ–è€…æ›´æ–°è¿‡ç¨‹å¼€å§‹ï¼Œé‚£Reactå°±ä»¥ä¸ç ´æ¥¼å…°ç»ˆä¸è¿˜çš„æ°”æ¦‚ï¼Œä¸€é¼“ä½œæ°”è¿è¡Œåˆ°åº•ï¼Œä¸­é€”ç»ä¸åœæ­‡ã€‚ è¡¨é¢ä¸Šçœ‹ï¼Œè¿™æ ·çš„è®¾è®¡ä¹Ÿæ˜¯æŒºåˆç†çš„ï¼Œå› ä¸ºæ›´æ–°è¿‡ç¨‹ä¸ä¼šæœ‰ä»»ä½•I/Oæ“ä½œå˜›ï¼Œå®Œå…¨æ˜¯CPUè®¡ç®—ï¼Œæ‰€ä»¥æ— éœ€å¼‚æ­¥æ“ä½œï¼Œçš„ç¡®åªè¦ä¸€è·¯ç‹‚å¥”å°±è¡Œäº†ï¼Œä½†æ˜¯ï¼Œå½“ç»„ä»¶æ ‘æ¯”è¾ƒåºå¤§çš„æ—¶å€™ï¼Œé—®é¢˜å°±æ¥äº†ã€‚ å‡å¦‚æ›´æ–°ä¸€ä¸ªç»„ä»¶éœ€è¦1æ¯«ç§’ï¼Œå¦‚æœæœ‰200ä¸ªç»„ä»¶è¦æ›´æ–°ï¼Œé‚£å°±éœ€è¦200æ¯«ç§’ï¼Œåœ¨è¿™200æ¯«ç§’çš„æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨é‚£ä¸ªå”¯ä¸€çš„ä¸»çº¿ç¨‹éƒ½åœ¨ä¸“å¿ƒè¿è¡Œæ›´æ–°æ“ä½œï¼Œæ— æš‡å»åšä»»ä½•å…¶ä»–çš„äº‹æƒ…ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨è¿™200æ¯«ç§’å†…ï¼Œç”¨æˆ·å¾€ä¸€ä¸ªinputå…ƒç´ ä¸­è¾“å…¥ç‚¹ä»€ä¹ˆï¼Œæ•²å‡»é”®ç›˜ä¹Ÿä¸ä¼šè·å¾—å“åº”ï¼Œå› ä¸ºæ¸²æŸ“è¾“å…¥æŒ‰é”®ç»“æœä¹Ÿæ˜¯æµè§ˆå™¨ä¸»çº¿ç¨‹çš„å·¥ä½œï¼Œä½†æ˜¯æµè§ˆå™¨ä¸»çº¿ç¨‹è¢«Reactå ç€å‘¢ï¼ŒæŠ½ä¸å‡ºç©ºï¼Œæœ€åçš„ç»“æœå°±æ˜¯ç”¨æˆ·æ•²äº†æŒ‰é”®çœ‹ä¸åˆ°ååº”ï¼Œç­‰Reactæ›´æ–°è¿‡ç¨‹ç»“æŸä¹‹åï¼Œå’”å’”å’”é‚£äº›æŒ‰é”®ä¸€ä¸‹å­å‡ºç°åœ¨inputå…ƒç´ é‡Œäº†ã€‚ è¿™å°±æ˜¯æ‰€è°“çš„ç•Œé¢å¡é¡¿ï¼Œå¾ˆä¸å¥½çš„ç”¨æˆ·ä½“éªŒã€‚ ç°æœ‰çš„Reactç‰ˆæœ¬ï¼Œå½“ç»„ä»¶æ ‘å¾ˆå¤§çš„æ—¶å€™å°±ä¼šå‡ºç°è¿™ç§é—®é¢˜ï¼Œå› ä¸ºæ›´æ–°è¿‡ç¨‹æ˜¯åŒæ­¥åœ°ä¸€å±‚ç»„ä»¶å¥—ä¸€å±‚ç»„ä»¶ï¼Œé€æ¸æ·±å…¥çš„è¿‡ç¨‹ï¼Œåœ¨æ›´æ–°å®Œæ‰€æœ‰ç»„ä»¶ä¹‹å‰ä¸åœæ­¢ï¼Œå‡½æ•°çš„è°ƒç”¨æ ˆå°±åƒä¸‹å›¾è¿™æ ·ï¼Œè°ƒç”¨å¾—å¾ˆæ·±ï¼Œè€Œä¸”å¾ˆé•¿æ—¶é—´ä¸ä¼šè¿”å›ã€‚","text":"Reactå›¢é˜Ÿé‡å†™äº†React çš„æ ¸å¿ƒç®—æ³•â€”reconciliation,ä¸€èˆ¬å°†ä¹‹å‰çš„ç®—æ³•å«stack reconciliationï¼Œç°åœ¨çš„å«fiber reconciliationã€‚ React Fiberæ˜¯ä»€ä¹ˆ React Fiberæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿å‘¢ï¼Ÿå®˜æ–¹çš„ä¸€å¥è¯è§£é‡Šæ˜¯â€œReact Fiberæ˜¯å¯¹æ ¸å¿ƒç®—æ³•çš„ä¸€æ¬¡é‡æ–°å®ç°â€ã€‚ ä¸ºä»€ä¹ˆFacebookè¦æReact Fiberå‘¢ï¼Ÿ åœ¨ç°æœ‰Reactä¸­ï¼Œæ›´æ–°è¿‡ç¨‹æ˜¯åŒæ­¥çš„ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚ åŒæ­¥æ›´æ–°è¿‡ç¨‹çš„å±€é™ å½“Reactå†³å®šè¦åŠ è½½æˆ–è€…æ›´æ–°ç»„ä»¶æ ‘æ—¶ï¼Œä¼šåšå¾ˆå¤šäº‹ï¼Œæ¯”å¦‚è°ƒç”¨å„ä¸ªç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œè®¡ç®—å’Œæ¯”å¯¹Virtual DOMï¼Œæœ€åæ›´æ–°DOMæ ‘ï¼Œè¿™æ•´ä¸ªè¿‡ç¨‹æ˜¯åŒæ­¥è¿›è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯è¯´åªè¦ä¸€ä¸ªåŠ è½½æˆ–è€…æ›´æ–°è¿‡ç¨‹å¼€å§‹ï¼Œé‚£Reactå°±ä»¥ä¸ç ´æ¥¼å…°ç»ˆä¸è¿˜çš„æ°”æ¦‚ï¼Œä¸€é¼“ä½œæ°”è¿è¡Œåˆ°åº•ï¼Œä¸­é€”ç»ä¸åœæ­‡ã€‚ è¡¨é¢ä¸Šçœ‹ï¼Œè¿™æ ·çš„è®¾è®¡ä¹Ÿæ˜¯æŒºåˆç†çš„ï¼Œå› ä¸ºæ›´æ–°è¿‡ç¨‹ä¸ä¼šæœ‰ä»»ä½•I/Oæ“ä½œå˜›ï¼Œå®Œå…¨æ˜¯CPUè®¡ç®—ï¼Œæ‰€ä»¥æ— éœ€å¼‚æ­¥æ“ä½œï¼Œçš„ç¡®åªè¦ä¸€è·¯ç‹‚å¥”å°±è¡Œäº†ï¼Œä½†æ˜¯ï¼Œå½“ç»„ä»¶æ ‘æ¯”è¾ƒåºå¤§çš„æ—¶å€™ï¼Œé—®é¢˜å°±æ¥äº†ã€‚ å‡å¦‚æ›´æ–°ä¸€ä¸ªç»„ä»¶éœ€è¦1æ¯«ç§’ï¼Œå¦‚æœæœ‰200ä¸ªç»„ä»¶è¦æ›´æ–°ï¼Œé‚£å°±éœ€è¦200æ¯«ç§’ï¼Œåœ¨è¿™200æ¯«ç§’çš„æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨é‚£ä¸ªå”¯ä¸€çš„ä¸»çº¿ç¨‹éƒ½åœ¨ä¸“å¿ƒè¿è¡Œæ›´æ–°æ“ä½œï¼Œæ— æš‡å»åšä»»ä½•å…¶ä»–çš„äº‹æƒ…ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨è¿™200æ¯«ç§’å†…ï¼Œç”¨æˆ·å¾€ä¸€ä¸ªinputå…ƒç´ ä¸­è¾“å…¥ç‚¹ä»€ä¹ˆï¼Œæ•²å‡»é”®ç›˜ä¹Ÿä¸ä¼šè·å¾—å“åº”ï¼Œå› ä¸ºæ¸²æŸ“è¾“å…¥æŒ‰é”®ç»“æœä¹Ÿæ˜¯æµè§ˆå™¨ä¸»çº¿ç¨‹çš„å·¥ä½œï¼Œä½†æ˜¯æµè§ˆå™¨ä¸»çº¿ç¨‹è¢«Reactå ç€å‘¢ï¼ŒæŠ½ä¸å‡ºç©ºï¼Œæœ€åçš„ç»“æœå°±æ˜¯ç”¨æˆ·æ•²äº†æŒ‰é”®çœ‹ä¸åˆ°ååº”ï¼Œç­‰Reactæ›´æ–°è¿‡ç¨‹ç»“æŸä¹‹åï¼Œå’”å’”å’”é‚£äº›æŒ‰é”®ä¸€ä¸‹å­å‡ºç°åœ¨inputå…ƒç´ é‡Œäº†ã€‚ è¿™å°±æ˜¯æ‰€è°“çš„ç•Œé¢å¡é¡¿ï¼Œå¾ˆä¸å¥½çš„ç”¨æˆ·ä½“éªŒã€‚ ç°æœ‰çš„Reactç‰ˆæœ¬ï¼Œå½“ç»„ä»¶æ ‘å¾ˆå¤§çš„æ—¶å€™å°±ä¼šå‡ºç°è¿™ç§é—®é¢˜ï¼Œå› ä¸ºæ›´æ–°è¿‡ç¨‹æ˜¯åŒæ­¥åœ°ä¸€å±‚ç»„ä»¶å¥—ä¸€å±‚ç»„ä»¶ï¼Œé€æ¸æ·±å…¥çš„è¿‡ç¨‹ï¼Œåœ¨æ›´æ–°å®Œæ‰€æœ‰ç»„ä»¶ä¹‹å‰ä¸åœæ­¢ï¼Œå‡½æ•°çš„è°ƒç”¨æ ˆå°±åƒä¸‹å›¾è¿™æ ·ï¼Œè°ƒç”¨å¾—å¾ˆæ·±ï¼Œè€Œä¸”å¾ˆé•¿æ—¶é—´ä¸ä¼šè¿”å›ã€‚ React Fiberçš„æ–¹å¼ ç ´è§£JavaScriptä¸­åŒæ­¥æ“ä½œæ—¶é—´è¿‡é•¿çš„æ–¹æ³•å…¶å®å¾ˆç®€å•â€”â€”åˆ†ç‰‡ã€‚ æŠŠä¸€ä¸ªè€—æ—¶é•¿çš„ä»»åŠ¡åˆ†æˆå¾ˆå¤šå°ç‰‡ï¼Œæ¯ä¸€ä¸ªå°ç‰‡çš„è¿è¡Œæ—¶é—´å¾ˆçŸ­ï¼Œè™½ç„¶æ€»æ—¶é—´ä¾ç„¶å¾ˆé•¿ï¼Œä½†æ˜¯åœ¨æ¯ä¸ªå°ç‰‡æ‰§è¡Œå®Œä¹‹åï¼Œéƒ½ç»™å…¶ä»–ä»»åŠ¡ä¸€ä¸ªæ‰§è¡Œçš„æœºä¼šï¼Œè¿™æ ·å”¯ä¸€çš„çº¿ç¨‹å°±ä¸ä¼šè¢«ç‹¬å ï¼Œå…¶ä»–ä»»åŠ¡ä¾ç„¶æœ‰è¿è¡Œçš„æœºä¼šã€‚ React FiberæŠŠæ›´æ–°è¿‡ç¨‹ç¢ç‰‡åŒ–ï¼Œæ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹é¢çš„å›¾æ‰€ç¤ºï¼Œæ¯æ‰§è¡Œå®Œä¸€æ®µæ›´æ–°è¿‡ç¨‹ï¼Œå°±æŠŠæ§åˆ¶æƒäº¤è¿˜ç»™Reactè´Ÿè´£ä»»åŠ¡åè°ƒçš„æ¨¡å—ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰å…¶ä»–ç´§æ€¥ä»»åŠ¡è¦åšï¼Œå¦‚æœæ²¡æœ‰å°±ç»§ç»­å»æ›´æ–°ï¼Œå¦‚æœæœ‰ç´§æ€¥ä»»åŠ¡ï¼Œé‚£å°±å»åšç´§æ€¥ä»»åŠ¡ã€‚ ç»´æŠ¤æ¯ä¸€ä¸ªåˆ†ç‰‡çš„æ•°æ®ç»“æ„ï¼Œå°±æ˜¯Fiberã€‚ æœ‰äº†åˆ†ç‰‡ä¹‹åï¼Œæ›´æ–°è¿‡ç¨‹çš„è°ƒç”¨æ ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸­é—´æ¯ä¸€ä¸ªæ³¢è°·ä»£è¡¨æ·±å…¥æŸä¸ªåˆ†ç‰‡çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæ¯ä¸ªæ³¢å³°å°±æ˜¯ä¸€ä¸ªåˆ†ç‰‡æ‰§è¡Œç»“æŸäº¤è¿˜æ§åˆ¶æƒçš„æ—¶æœºã€‚ React Fiber çš„ç‰¹ç‚¹ æš‚åœå·¥ä½œï¼Œå¹¶åœ¨ä¹‹åå¯ä»¥è¿”å›å†æ¬¡å¼€å§‹ å¯ä»¥ä¸ºä¸åŒç±»å‹çš„å·¥ä½œè®¾ç½®ä¼˜å…ˆçº§ å¤ç”¨ä¹‹å‰å·²ç»å®Œæˆçš„å·¥ä½œ ç»ˆæ­¢å·²ç»ä¸å†éœ€è¦çš„å·¥ä½œ åŸæ–‡åœ°å€ï¼šhttps://juejin.cn/post/6844904202267787277","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"React","slug":"React","permalink":"https://yangyfeng.github.io/blogpost/tags/React/"}]},{"title":"æ·±å…¥ç†è§£React","slug":"React/æ·±å…¥ç†è§£React","date":"2021-03-07T16:00:00.000Z","updated":"2021-03-27T06:24:34.621Z","comments":true,"path":"/posts/93b51ba9.html","link":"","permalink":"https://yangyfeng.github.io/posts/93b51ba9.html","excerpt":"Reactä¸­å“åº”å¼åŸç†1.å¼€å‘è€…åªéœ€å…³æ³¨çŠ¶æ€è½¬ç§»ï¼ˆæ•°æ®ï¼‰ï¼Œå½“çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼ŒReactæ¡†æ¶ä¼šè‡ªåŠ¨æ ¹æ®æ–°çš„çŠ¶æ€é‡æ–°æ„å»ºUIã€‚ 2.Reactæ¡†æ¶åœ¨æ¥æ”¶åˆ°ç”¨æˆ·çŠ¶æ€æ”¹å˜é€šçŸ¥åï¼Œä¼šæ ¹æ®å½“å‰æ¸²æŸ“æ ‘ï¼Œç»“åˆæœ€æ–°çš„çŠ¶æ€æ”¹å˜ï¼Œé€šè¿‡Diffç®—æ³•ï¼Œè®¡ç®—å‡ºæ ‘ä¸­å˜åŒ–çš„éƒ¨åˆ†ï¼Œç„¶ååªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ï¼ˆDOMæ“ä½œï¼‰ï¼Œä»è€Œé¿å…æ•´æ£µæ ‘é‡æ„ï¼Œæé«˜æ€§èƒ½ã€‚çŠ¶æ€å˜åŒ–åReactæ¡†æ¶å¹¶ä¸ä¼šç«‹å³å»è®¡ç®—å¹¶æ¸²æŸ“DOMæ ‘çš„å˜åŒ–éƒ¨åˆ†ï¼Œç›¸åï¼ŒReactä¼šåœ¨DOMçš„åŸºç¡€ä¸Šå»ºç«‹ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œå³è™šæ‹ŸDOMæ ‘ï¼Œå¯¹æ•°æ®å’ŒçŠ¶æ€æ‰€åšçš„ä»»ä½•æ”¹åŠ¨ï¼Œéƒ½ä¼šè¢«è‡ªåŠ¨ä¸”é«˜æ•ˆçš„åŒæ­¥åˆ°è™šæ‹ŸDOMï¼Œæœ€åå†æ‰¹é‡åŒæ­¥åˆ°çœŸå®DOMä¸­ï¼Œè€Œä¸æ˜¯æ¯æ¬¡æ”¹å˜éƒ½å»æ“ä½œä¸€ä¸‹DOMã€‚ ä¸ºä»€ä¹ˆä¸èƒ½æ¯æ¬¡æ”¹å˜éƒ½ç›´æ¥å»æ“ä½œDOMæ ‘ï¼Ÿ è¿™æ˜¯å› ä¸ºåœ¨æµè§ˆå™¨ä¸­æ¯ä¸€æ¬¡DOMæ“ä½œéƒ½æœ‰å¯èƒ½å¼•èµ·æµè§ˆå™¨çš„é‡ç»˜æˆ–å›æµï¼š å¦‚æœDOMåªæ˜¯å¤–è§‚é£æ ¼å‘ç”Ÿå˜åŒ–ï¼Œå¦‚é¢œè‰²å˜åŒ–ï¼Œä¼šå¯¼è‡´æµè§ˆå™¨é‡ç»˜ç•Œé¢ã€‚ å¦‚æœDOMæ ‘çš„ç»“æ„å‘ç”Ÿå˜åŒ–ï¼Œå¦‚å°ºå¯¸ã€å¸ƒå±€ã€èŠ‚ç‚¹éšè—ç­‰å¯¼è‡´ï¼Œæµè§ˆå™¨å°±éœ€è¦å›æµï¼ˆåŠé‡æ–°æ’ç‰ˆå¸ƒå±€ï¼‰ã€‚è€Œæµè§ˆå™¨çš„é‡ç»˜å’Œå›æµéƒ½æ˜¯æ¯”è¾ƒæ˜‚è´µçš„æ“ä½œï¼Œå¦‚æœæ¯ä¸€æ¬¡æ”¹å˜éƒ½ç›´æ¥å¯¹DOMè¿›è¡Œæ“ä½œï¼Œè¿™ä¼šå¸¦æ¥æ€§èƒ½é—®é¢˜ï¼Œè€Œæ‰¹é‡æ“ä½œåªä¼šè§¦å‘ä¸€æ¬¡DOMæ›´æ–°ã€‚ æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œé¡µé¢æ”¹å˜çš„åŸç†ï¼š æ¯”è¾ƒè™šæ‹Ÿçš„dom ä¸æ€ä¹ˆæŸè€—æ€§èƒ½ï¼ŒçœŸå®çš„domæ¯”è¾ƒä¼šæŸè€—æ€§èƒ½ 1.state æ•°æ® 2.jsx æ¨¡æ¿ 3.ç”Ÿæˆè™šæ‹Ÿçš„dom 3.æ•°æ®å’Œæ¨¡æ¿ç»“åˆï¼Œç”Ÿæˆè™šæ‹Ÿçš„dom 4.ç”¨è™šæ‹Ÿçš„Dom æ¥ç”ŸæˆçœŸå®çš„Dom,æ¥æ˜¾ç¤º 5.state å‘ç”Ÿæ”¹å˜ 6.æ•°æ®å’Œæ¨¡æ¿ç»“åˆï¼Œç”Ÿæˆè™šæ‹Ÿçš„dom 7.æ¯”è¾ƒæ–°çš„è™šæ‹ŸDomå’Œæ—§çš„è™šæ‹ŸDomï¼Œæ‰¾å‡ºå·®åˆ«ï¼Œæ”¹å˜ 8.ç›´æ¥æ“ä½œDom,æ”¹å˜å†…å®¹ jsxè¯­æ³• =&gt; React.createElement=&gt; è™šæ‹Ÿçš„Dom =&gt;çœŸå®çš„Dom1&lt;div&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt; === React.createElement('div',&#123; &#125;,React.createElement('span',&#123;&#125;)) props, stateä¸renderå‡½æ•°å…³ç³» â€“ æ•°æ®å’Œé¡µé¢äº’ç›¸è”åŠ¨çš„åº•å±‚æœºåˆ¶å½“ç»„ä»¶çš„stateæˆ–è€…propså‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œè‡ªå·±çš„renderå‡½æ•°å°±ä¼šé‡æ–°æ‰§è¡Œã€‚ æ³¨æ„ï¼šå½“çˆ¶ç»„ä»¶çš„renderè¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œå­ç»„ä»¶çš„ä¹Ÿrenderä¼šè¢«é‡æ–°æ‰§è¡Œä¸€æ¬¡ï¼ˆå› ä¸ºåœ¨çˆ¶ç»„ä»¶çš„renderé‡Œé¢ï¼‰ã€‚ ä¹Ÿå°±æ˜¯è¯´å½“ç»‘å®šçš„äº‹ä»¶æ”¹å˜äº†stateæˆ–è€…propsï¼Œrenderå‡½æ•°å°±ä¼šé‡æ–°æ‰§è¡Œè§£æé¡µé¢ï¼Œè¿™ä¸ªæ—¶å€™è§£æçš„æ—¶å€™å°±ä¼šä½¿ç”¨æ–°çš„æ•°æ®äº†ï¼Œæ‰€ä»¥é¡µé¢å°±ä¼šå˜åŒ–ã€‚ Reactä¸­çš„è™šæ‹ŸDOMåˆšæ‰æåˆ°åªè¦stateã€propsæ”¹å˜å°±ä¼šé‡æ–°renderï¼Œå¯ä»¥æƒ³è±¡è¦ä¸æ–­çš„é‡æ–°æ¸²æŸ“é¡µé¢å¯¹æ€§èƒ½è¦æ±‚éå¸¸é«˜ï¼Œå®é™…ä¸Šrenderçš„æ€§èƒ½æ˜¯éå¸¸é«˜çš„ï¼Œè¿™æ˜¯å½’åŠŸäºè™šæ‹ŸDOMã€‚ é¦–å…ˆæ˜ç¡®DOMçš„ç›¸å…³æ“ä½œéœ€è¦è°ƒç”¨web applicationå¯¹æ€§èƒ½æŸè€—æ˜¯æ¯”è¾ƒé«˜çš„ã€‚ å…ˆçœ‹çœ‹å¸¸è§„çš„æ€è·¯","text":"Reactä¸­å“åº”å¼åŸç†1.å¼€å‘è€…åªéœ€å…³æ³¨çŠ¶æ€è½¬ç§»ï¼ˆæ•°æ®ï¼‰ï¼Œå½“çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼ŒReactæ¡†æ¶ä¼šè‡ªåŠ¨æ ¹æ®æ–°çš„çŠ¶æ€é‡æ–°æ„å»ºUIã€‚ 2.Reactæ¡†æ¶åœ¨æ¥æ”¶åˆ°ç”¨æˆ·çŠ¶æ€æ”¹å˜é€šçŸ¥åï¼Œä¼šæ ¹æ®å½“å‰æ¸²æŸ“æ ‘ï¼Œç»“åˆæœ€æ–°çš„çŠ¶æ€æ”¹å˜ï¼Œé€šè¿‡Diffç®—æ³•ï¼Œè®¡ç®—å‡ºæ ‘ä¸­å˜åŒ–çš„éƒ¨åˆ†ï¼Œç„¶ååªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ï¼ˆDOMæ“ä½œï¼‰ï¼Œä»è€Œé¿å…æ•´æ£µæ ‘é‡æ„ï¼Œæé«˜æ€§èƒ½ã€‚çŠ¶æ€å˜åŒ–åReactæ¡†æ¶å¹¶ä¸ä¼šç«‹å³å»è®¡ç®—å¹¶æ¸²æŸ“DOMæ ‘çš„å˜åŒ–éƒ¨åˆ†ï¼Œç›¸åï¼ŒReactä¼šåœ¨DOMçš„åŸºç¡€ä¸Šå»ºç«‹ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œå³è™šæ‹ŸDOMæ ‘ï¼Œå¯¹æ•°æ®å’ŒçŠ¶æ€æ‰€åšçš„ä»»ä½•æ”¹åŠ¨ï¼Œéƒ½ä¼šè¢«è‡ªåŠ¨ä¸”é«˜æ•ˆçš„åŒæ­¥åˆ°è™šæ‹ŸDOMï¼Œæœ€åå†æ‰¹é‡åŒæ­¥åˆ°çœŸå®DOMä¸­ï¼Œè€Œä¸æ˜¯æ¯æ¬¡æ”¹å˜éƒ½å»æ“ä½œä¸€ä¸‹DOMã€‚ ä¸ºä»€ä¹ˆä¸èƒ½æ¯æ¬¡æ”¹å˜éƒ½ç›´æ¥å»æ“ä½œDOMæ ‘ï¼Ÿ è¿™æ˜¯å› ä¸ºåœ¨æµè§ˆå™¨ä¸­æ¯ä¸€æ¬¡DOMæ“ä½œéƒ½æœ‰å¯èƒ½å¼•èµ·æµè§ˆå™¨çš„é‡ç»˜æˆ–å›æµï¼š å¦‚æœDOMåªæ˜¯å¤–è§‚é£æ ¼å‘ç”Ÿå˜åŒ–ï¼Œå¦‚é¢œè‰²å˜åŒ–ï¼Œä¼šå¯¼è‡´æµè§ˆå™¨é‡ç»˜ç•Œé¢ã€‚ å¦‚æœDOMæ ‘çš„ç»“æ„å‘ç”Ÿå˜åŒ–ï¼Œå¦‚å°ºå¯¸ã€å¸ƒå±€ã€èŠ‚ç‚¹éšè—ç­‰å¯¼è‡´ï¼Œæµè§ˆå™¨å°±éœ€è¦å›æµï¼ˆåŠé‡æ–°æ’ç‰ˆå¸ƒå±€ï¼‰ã€‚è€Œæµè§ˆå™¨çš„é‡ç»˜å’Œå›æµéƒ½æ˜¯æ¯”è¾ƒæ˜‚è´µçš„æ“ä½œï¼Œå¦‚æœæ¯ä¸€æ¬¡æ”¹å˜éƒ½ç›´æ¥å¯¹DOMè¿›è¡Œæ“ä½œï¼Œè¿™ä¼šå¸¦æ¥æ€§èƒ½é—®é¢˜ï¼Œè€Œæ‰¹é‡æ“ä½œåªä¼šè§¦å‘ä¸€æ¬¡DOMæ›´æ–°ã€‚ æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œé¡µé¢æ”¹å˜çš„åŸç†ï¼š æ¯”è¾ƒè™šæ‹Ÿçš„dom ä¸æ€ä¹ˆæŸè€—æ€§èƒ½ï¼ŒçœŸå®çš„domæ¯”è¾ƒä¼šæŸè€—æ€§èƒ½ 1.state æ•°æ® 2.jsx æ¨¡æ¿ 3.ç”Ÿæˆè™šæ‹Ÿçš„dom 3.æ•°æ®å’Œæ¨¡æ¿ç»“åˆï¼Œç”Ÿæˆè™šæ‹Ÿçš„dom 4.ç”¨è™šæ‹Ÿçš„Dom æ¥ç”ŸæˆçœŸå®çš„Dom,æ¥æ˜¾ç¤º 5.state å‘ç”Ÿæ”¹å˜ 6.æ•°æ®å’Œæ¨¡æ¿ç»“åˆï¼Œç”Ÿæˆè™šæ‹Ÿçš„dom 7.æ¯”è¾ƒæ–°çš„è™šæ‹ŸDomå’Œæ—§çš„è™šæ‹ŸDomï¼Œæ‰¾å‡ºå·®åˆ«ï¼Œæ”¹å˜ 8.ç›´æ¥æ“ä½œDom,æ”¹å˜å†…å®¹ jsxè¯­æ³• =&gt; React.createElement=&gt; è™šæ‹Ÿçš„Dom =&gt;çœŸå®çš„Dom1&lt;div&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt; === React.createElement('div',&#123; &#125;,React.createElement('span',&#123;&#125;)) props, stateä¸renderå‡½æ•°å…³ç³» â€“ æ•°æ®å’Œé¡µé¢äº’ç›¸è”åŠ¨çš„åº•å±‚æœºåˆ¶å½“ç»„ä»¶çš„stateæˆ–è€…propså‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œè‡ªå·±çš„renderå‡½æ•°å°±ä¼šé‡æ–°æ‰§è¡Œã€‚ æ³¨æ„ï¼šå½“çˆ¶ç»„ä»¶çš„renderè¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œå­ç»„ä»¶çš„ä¹Ÿrenderä¼šè¢«é‡æ–°æ‰§è¡Œä¸€æ¬¡ï¼ˆå› ä¸ºåœ¨çˆ¶ç»„ä»¶çš„renderé‡Œé¢ï¼‰ã€‚ ä¹Ÿå°±æ˜¯è¯´å½“ç»‘å®šçš„äº‹ä»¶æ”¹å˜äº†stateæˆ–è€…propsï¼Œrenderå‡½æ•°å°±ä¼šé‡æ–°æ‰§è¡Œè§£æé¡µé¢ï¼Œè¿™ä¸ªæ—¶å€™è§£æçš„æ—¶å€™å°±ä¼šä½¿ç”¨æ–°çš„æ•°æ®äº†ï¼Œæ‰€ä»¥é¡µé¢å°±ä¼šå˜åŒ–ã€‚ Reactä¸­çš„è™šæ‹ŸDOMåˆšæ‰æåˆ°åªè¦stateã€propsæ”¹å˜å°±ä¼šé‡æ–°renderï¼Œå¯ä»¥æƒ³è±¡è¦ä¸æ–­çš„é‡æ–°æ¸²æŸ“é¡µé¢å¯¹æ€§èƒ½è¦æ±‚éå¸¸é«˜ï¼Œå®é™…ä¸Šrenderçš„æ€§èƒ½æ˜¯éå¸¸é«˜çš„ï¼Œè¿™æ˜¯å½’åŠŸäºè™šæ‹ŸDOMã€‚ é¦–å…ˆæ˜ç¡®DOMçš„ç›¸å…³æ“ä½œéœ€è¦è°ƒç”¨web applicationå¯¹æ€§èƒ½æŸè€—æ˜¯æ¯”è¾ƒé«˜çš„ã€‚ å…ˆçœ‹çœ‹å¸¸è§„çš„æ€è·¯ stateæ•°æ® JSXæ¨¡æ¿ æ•°æ®+æ¨¡æ¿ç›¸ç»“åˆï¼Œç”ŸæˆçœŸå®çš„DOMæ¥æ˜¾ç¤º tateæ”¹å˜ æ•°æ®+æ¨¡æ¿ç›¸ç»“åˆï¼Œç”ŸæˆçœŸå®çš„DOMï¼Œæ›¿æ¢åŸå§‹çš„DOMç¼ºé™·åœ¨äºï¼šç¬¬ä¸€æ¬¡ç”Ÿæˆäº†ä¸€ä¸ªå®Œæ•´çš„DOMç‰‡æ®µï¼Œç¬¬äºŒæ¬¡åˆç”Ÿæˆäº†ä¸€ä¸ªå®Œæ•´çš„DOMç‰‡æ®µï¼Œç¬¬äºŒæ¬¡çš„DOmæ›¿æ¢ç¬¬ä¸€æ¬¡çš„DOMï¼Œè¿™æ ·ç”Ÿæˆã€æ›¿æ¢éå¸¸çš„æ¶ˆè€—æ€§èƒ½ æ”¹è‰¯æ€è·¯ï¼ˆä»ç„¶ä½¿ç”¨DOMï¼‰ stateæ•°æ® JSXæ¨¡æ¿ æ•°æ®+æ¨¡æ¿ç›¸ç»“åˆï¼Œç”ŸæˆçœŸå®çš„DOMæ¥æ˜¾ç¤º tateæ”¹å˜ æ•°æ®+æ¨¡æ¿ç›¸ç»“åˆï¼Œç”ŸæˆçœŸå®çš„DOMï¼Œå¹¶ä¸ç›´æ¥æ›¿æ¢åŸå§‹çš„DOM æ–°çš„DOMï¼ˆæ–‡æ¡£ç¢ç‰‡ï¼‰åŸå§‹çš„DOMä½œå¯¹æ¯”ï¼Œæ‰¾å·®å¼‚ï¼ˆæ€§èƒ½æŸè€—å¤§ï¼‰ æ‰¾å‡ºå‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ï¼Œæ¯”å¦‚æ‰¾å‡ºäº†åªæœ‰inputæ¡†æœ‰å·®å¼‚ åªç”¨æ–°çš„DOMä¸­çš„inputå…ƒç´ æ›¿æ¢æ‰è€çš„DOMä¸­çš„inputå…ƒç´ ç¼ºé™·åœ¨äºï¼šæ€§èƒ½æå‡å¹¶ä¸æ˜æ˜¾ï¼Œå› ä¸ºæ€§èƒ½æ¶ˆè€—åœ¨äº†æ¯”å¯¹ä¸Š Reactçš„æ€è·¯ stateæ•°æ® JSXæ¨¡æ¿ æ•°æ®+æ¨¡æ¿ç›¸ç»“åˆï¼Œç”Ÿæˆè™šæ‹ŸDOMï¼ˆè™šæ‹ŸDOMå°±æ˜¯ä¸€ä¸ªJSæ•°ç»„å¯¹è±¡ï¼Œå®Œæ•´çš„æè¿°çœŸå®çš„DOMï¼‰([ â€˜ idv â€˜ , { id : â€˜ abc â€˜ } , [ â€˜ span â€˜ , { } , â€˜ hello â€˜ ] ]) ï¼ˆç”¨jsç”Ÿæˆjså¯¹è±¡æ€§èƒ½æŸè€—æå°ï¼Œç”Ÿæˆdomæ€§èƒ½æŸè€—å¤§è¦è°ƒç”¨web applicationï¼‰ ç”¨è™šæ‹ŸDOMçš„ç»“æ„ï¼Œç”ŸæˆçœŸå®çš„DOMï¼Œæ¥æ˜¾ç¤º(&lt;div id=&#39;abc&#39;&gt;&lt;span&gt;hello&lt;/span&gt;&lt;/div&gt;) stateå‘ç”Ÿå˜åŒ–(&lt;div id=&#39;abc&#39;&gt;&lt;span&gt;bye&lt;/span&gt;&lt;/div&gt;) æ•°æ®+æ¨¡æ¿ç”Ÿæˆæ–°çš„è™šæ‹ŸDOM([ â€˜ idv â€˜ , { id : â€˜ abc â€˜ } , [ â€˜ span â€˜ , { } , â€˜ bye â€˜ ] ] )ï¼ˆæå¤§çš„æå‡äº†æ€§èƒ½ï¼‰ æ¯”è¾ƒåŸå§‹è™šæ‹ŸDOMå’Œæ–°çš„è™šæ‹ŸDOMçš„åŒºåˆ«ï¼Œæ‰¾åˆ°åŒºåˆ«æ˜¯spanä¸­çš„å†…å®¹ï¼ˆæå¤§çš„æå‡äº†æ€§èƒ½ï¼‰ ç›´æ¥æ“ä½œDOMæ”¹å˜spanä¸­çš„å†…å®¹æ€»ç»“ï¼šå‡å°‘äº†DOMå¯¹çœŸå®DOMçš„åˆ›å»ºå’Œå¯¹æ¯”ï¼Œè€Œåˆ›å»ºå’Œå¯¹æ¯”çš„æ˜¯jså¯¹è±¡ï¼Œä»è€Œå®ç°äº†æå¤§çš„æ€§èƒ½é£è·ƒ æ·±å…¥ç†è§£è™šæ‹ŸDOMVueå’Œreactçš„è™šæ‹ŸDOMçš„åŸç†å’Œæ­¥éª¤æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚ Reactä¸­çœŸå®DOMçš„ç”Ÿæˆæ­¥éª¤ï¼šJSX -&gt; createElementæ–¹æ³• -&gt; JSå¯¹è±¡(è™šæ‹ŸDOM) -&gt; çœŸå®çš„DOM å› æ­¤å¯è§ï¼ŒJSXä¸­çš„divç­‰æ ‡ç­¾ä»…ä»…æ˜¯JSXçš„è¯­æ³•ï¼Œå¹¶ä¸æ˜¯DOMï¼Œä»…ç”¨äºç”ŸæˆJSå¯¹è±¡ å…¶å®åœ¨Reactä¸­åˆ›å»ºè™šæ‹ŸDOM(jså¯¹è±¡)ä½¿ç”¨çš„æ˜¯ï¼ˆæ²¡æœ‰JSXè¯­æ³•ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼ç”Ÿæˆï¼‰ 1234// ä¼ ä¸‰ä¸ªå‚æ•°ï¼šæ ‡ç­¾ å±æ€§ å†…å®¹// &lt;div&gt;item&lt;/div&gt;// æ‰€ä»¥å…¶å®æ²¡æœ‰JSXè¯­æ³•ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼ç”ŸæˆReact.createElement('div', &#123;&#125;, 'item') è™šæ‹ŸDOMçš„ä¼˜ç‚¹ï¼š æ€§èƒ½æå‡ DOMæ¯”å¯¹å˜æˆäº†jsçš„æ¯”å¯¹ å®ƒä½¿å¾—è·¨å¹³å°åº”ç”¨å¾—ä»¥å®ç°ï¼ŒReact Nativeï¼ˆå®‰å“å’Œiosä¸­æ²¡æœ‰DOMçš„æ¦‚å¿µï¼Œä½¿ç”¨è™šæ‹ŸDOM(jså¯¹è±¡)åœ¨æ‰€æœ‰åº”ç”¨ä¸­éƒ½å¯ä»¥è¢«ä½¿ç”¨ï¼Œç„¶åå˜æˆåŸç”Ÿå®¢æˆ·ç«¯çš„ç»„ä»¶ï¼‰ è™šæ‹ŸDOMçš„Diffç®—æ³• Diffç®—æ³•ç”¨äºæ¯”è¾ƒåŸå§‹è™šæ‹ŸDOMå’Œæ–°çš„è™šæ‹ŸDOMçš„åŒºåˆ«ï¼Œå³ä¸¤ä¸ªjså¯¹è±¡è¯¥å¦‚ä½•æ¯”å¯¹ã€‚ diffç®—æ³•å…¨ç§°å«åšdifferenceç®—æ³• setStateå®é™…ä¸Šæ˜¯å¼‚æ­¥çš„ï¼Œè¿™æ˜¯ä¸ºäº†æå‡reactåº•å±‚çš„æ€§èƒ½ï¼Œæ˜¯ä¸ºäº†é˜²æ­¢æ—¶é—´é—´éš”å¾ˆçŸ­çš„æƒ…å†µä¸‹-å¤šæ¬¡æ”¹å˜stateï¼ŒReactä¼šåœ¨è¿™ç§æƒ…å†µä¸‹å°†å‡ æ¬¡æ”¹å˜stateåˆå¹¶æˆä¸€æ¬¡ä»è€Œæé«˜æ€§èƒ½ã€‚ diffç®—æ³•æ˜¯åŒçº§æ¯”è¾ƒï¼Œå‡è®¾ç¬¬ä¸€å±‚ä¸¤ä¸ªè™šæ‹ŸDOMèŠ‚ç‚¹ä¸ä¸€è‡´ï¼Œå°±ä¸ä¼šå¾€ä¸‹æ¯”äº†ï¼Œå°±ä¼šå°†åŸå§‹é¡µé¢è™šæ‹ŸDOMå…¨éƒ¨åˆ é™¤æ‰ï¼Œç„¶åç”¨æ–°çš„è™šæ‹ŸDOMè¿›è¡Œå…¨éƒ¨çš„æ›¿æ¢ï¼Œè™½ç„¶è¿™æœ‰å¯èƒ½æœ‰ä¸€äº›æ€§èƒ½çš„æµªè´¹ï¼Œä½†æ˜¯ç”±äºåŒå±‚æ¯”å¯¹çš„ç®—æ³•æ€§èƒ½å¾ˆé«˜ï¼Œå› æ­¤åˆå¼¥è¡¥äº†æ€§èƒ½çš„æŸè€—ã€‚ åšlistå¾ªç¯çš„æ—¶å€™æœ‰ä¸€ä¸ªkeyå€¼ï¼Œè¿™æ ·æ¯”å¯¹çš„æ—¶å€™å°±å¯ä»¥ç›¸å¯¹åº”çš„æ¯”å¯¹ï¼Œæ‰¾å‡ºè¦æ”¹å˜çš„ï¼Œä»¥åŠä¸éœ€è¦æ¸²æŸ“çš„ï¼Œè¿™æ ·ä½¿ç”¨keyåšå…³è”ï¼Œæå¤§çš„æå‡äº†è™šæ‹ŸDOMæ¯”å¯¹çš„æ€§èƒ½ï¼Œè¿™è¦ä¿è¯åœ¨æ–°çš„è™šæ‹ŸDOMåkeyå€¼ä¸å˜ï¼Œè¿™å°±è¯´æ˜äº†ä¸ºä»€ä¹ˆåšlistå¾ªç¯çš„æ—¶å€™keyçš„å€¼ä¸è¦æ˜¯indexï¼Œå› ä¸ºè¿™æ ·æ²¡æœ‰åŠæ³•ä¿è¯åŸè™šæ‹ŸDOMå’Œæ–°è™šæ‹ŸDOMçš„keyå€¼ä¸€è‡´æ€§ï¼Œè€Œé€ æˆæ€§èƒ½çš„æŸè€—ï¼Œä¸€èˆ¬è¿™ä¸ªkeyå¯¹åº”åå°æ•°æ®çš„å”¯ä¸€idå­—æ®µï¼Œè€Œä¸æ˜¯å¾ªç¯çš„indexã€‚ 123456789101112getTodoItem()&#123; return this.state.list.map((item,index)=&gt;&#123; return ( &lt;TodoItem key = &#123;item&#125; content=&#123;item&#125; index=&#123;index&#125; deleteItem = &#123;this.handleItemDelete&#125; /&gt; ) &#125;)&#125; Reactä¸­refçš„ä½¿ç”¨ åœ¨reactä¸­ä½¿ç”¨refæ¥æ“ä½œDOM åœ¨reactä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨e.targetæ¥è·å–DOM refè¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•° 123456789101112131415&lt;input id = \"insertArea\" className=\"input\" value=&#123;this.state.inputValue&#125; onChange=&#123;this.handleInputChange&#125; ref=&#123;(input)=&gt;&#123;this.input = input&#125;&#125;/&gt;handleInputChange(e)&#123; // const value = e.target.value; // åŸå§‹çš„æ–¹æ³• const value = this.input.value; this.setState(() =&gt; (&#123; inputValue: value &#125;))&#125; ä¸€èˆ¬æƒ…å†µä¸‹ä¸æ¨èä½¿ç”¨refè¿™ç§æ–¹æ³•ï¼Œå› ä¸ºsetStateæ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œå› æ­¤å»æ“ä½œDOMçš„æ—¶å€™å¯èƒ½æ— æ³•æ­£ç¡®çš„è¾“å‡ºé¡µé¢çš„æœ€æ–°DOMæƒ…å†µï¼Œæœ‰æ—¶å€™æ¯”è¾ƒå¤æ‚çš„æ“ä½œå¦‚åŠ¨ç”»ä¹‹ç±»çš„ï¼Œå¦‚æœä¸€å®šè¦ä½¿ç”¨ï¼Œå°±éœ€è¦åœ¨setStateçš„ç¬¬äºŒä¸ªå‡½æ•°ï¼Œè¿™æ˜¯ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨setStateå®Œæˆçš„æ—¶å€™è§¦å‘ã€‚ 123456789handleBtnClick(e)&#123; this.setState((prevState)=&gt;(&#123; list: [...prevState.list, prevState.inputValue], // å±•å¼€è¿ç®—ç¬¦ inputValue: '', &#125;), ()=&gt;&#123; console.log(this.ul.querySelectorAll('div').length); &#125;);&#125; Reactä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•° ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯æŒ‡åœ¨æŸä¸€ä¸ªæ—¶åˆ»ç»„ä»¶ä¼šè‡ªåŠ¨è°ƒç”¨æ‰§è¡Œçš„å‡½æ•° readerå‡½æ•°å°±æ˜¯ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„ä¾‹å­ï¼Œå½“stateæˆ–propsæ—¶å€™æ”¹å˜çš„æ—¶åˆ»æ•‘æŠ¤è‡ªåŠ¨è°ƒç”¨æ‰§è¡Œ constructorå¯ä»¥ç†è§£æˆä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œåœ¨ç»„ä»¶è¢«åˆ›å»ºçš„æ—¶å€™å°±ä¼šè¢«æ‰§è¡Œï¼Œä½†æ˜¯å®ƒæ˜¯es6è¯­æ³•ï¼Œä¸æ˜¯reactç‰¹æ®Šçš„è¯­æ³• ç»„ä»¶æŒ‚è½½çš„è¿‡ç¨‹ componentWillMount åœ¨ç»„ä»¶å³å°†è¢«æŒ‚è½½åˆ°é¡µé¢çš„æ—¶åˆ»è‡ªåŠ¨æ‰§è¡Œï¼Œåœ¨æ¸²æŸ“ä¹‹å‰è¢«æ‰§è¡Œ render è¿›è¡ŒæŒ‚è½½ï¼Œæ˜¯å¿…é¡»å­˜åœ¨çš„ componentDidMount åœ¨ç»„ä»¶è¢«æŒ‚è½½åˆ°é¡µé¢ä¹‹åè‡ªåŠ¨è¢«æ‰§è¡Œ æ³¨æ„ï¼šåœ¨stateå’Œpropsæ”¹å˜çš„æ—¶å€™åªæœ‰renderä¼šæ‰§è¡Œï¼ŒcomponentWillMountå’ŒcomponentDidMountä¸ä¼šæ‰§è¡Œï¼Œä»–ä»¬åªä¼šåœ¨ç¬¬ä¸€æ¬¡æŒ‚è½½åˆ°é¡µé¢çš„æ—¶å€™è¢«æ‰§è¡Œ ç»„ä»¶æ›´æ–° componentWillReceiveProps ä¸¤ä¸ªæ¡ä»¶éƒ½è¦æ»¡è¶³1.å½“ä¸€ä¸ªç»„ä»¶ä»çˆ¶ç»„ä»¶æ¥æ”¶å‚æ•° 2. å¦‚æœè¿™ä¸ªç»„ä»¶ç¬¬ä¸€æ¬¡å­˜åœ¨äºçˆ¶ç»„ä»¶ä¸­ä¸ä¼šæ‰§è¡Œï¼Œå¦‚æœè¿™ä¸ªç»„ä»¶ä¹‹å‰å·²ç»å­˜åœ¨äºçˆ¶ç»„ä»¶ä¸­ï¼Œæ‰ä¼šæ‰§è¡Œ shouldComponentUpdate ç»„ä»¶å³å°†è¢«æ›´æ–°ä¹‹å‰ä¼šæ‰§è¡Œï¼Œå¦‚ç„¦ç‚¹inputæ¡†çš„æ—¶å€™ï¼Œä¼šè¿”å›ä¸€ä¸ªtrueå’Œfalseæ¥åˆ¤æ–­åˆ°åº•è¦ä¸è¦æ›´æ–° componentWillUpdate ç»„ä»¶è¢«æ›´æ–°ä¹‹å‰ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œåœ¨shouldComponentè¿”å›trueä¹‹åæ‰ä¼šæ‰§è¡Œ componentDidUpdate ç»„ä»¶æ›´æ–°å®Œæˆä¹‹åè¢«æ‰§è¡Œ ç»„ä»¶å»é™¤çš„è¿‡ç¨‹ componentWillUnmountï¼šä½†è¿™ä¸ªç»„ä»¶å³å°†è¢«ä»é¡µé¢ä¸­å‰”é™¤çš„æ—¶å€™æ‰§è¡Œ ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„ä½¿ç”¨åœºæ™¯ é˜²æ­¢çˆ¶ç»„ä»¶renderçš„æ—¶å€™å­ç»„ä»¶ä¹Ÿè¦renderï¼Œä»è€Œæå‡æ€§èƒ½shouldComponentUpdate(nextProps,nextState){ if(nextProps.content !== this.props.content){ return true } return false } é¡µé¢åˆå§‹åŒ–çš„æ—¶å€™åœ¨componentDidMountä¸­å‘é€AJAXè¯·æ±‚ï¼ˆæ¨èï¼‰ï¼Œæˆ–è€…åœ¨constructorä¸­ï¼Œåƒä¸‡ä¸è¦æ”¾åœ¨renderé‡Œé¢ï¼Œä¼šé€ æˆæ­»å¾ªç¯ï¼Œä¹Ÿæœ€å¥½ä¸è¦åœ¨componentWillMountä¸­å‘AJAXï¼Œæ”¾è¿™é‡Œé¢æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯å¦‚æœåœ¨react nativeä¸­ä¼šæœ‰é—®é¢˜ã€‚ reactæ²¡æœ‰å†…ç½®ajaxï¼Œä½¿ç”¨axios","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"React","slug":"React","permalink":"https://yangyfeng.github.io/blogpost/tags/React/"}]},{"title":"ReactçŸ¥è¯†ç‚¹é›†åˆ","slug":"å‰ç«¯æ¯æ—¥ä¸€é¢˜/ReactçŸ¥è¯†ç‚¹é›†åˆ","date":"2021-03-06T16:00:00.000Z","updated":"2021-03-27T06:24:34.635Z","comments":true,"path":"/posts/13437c1d.html","link":"","permalink":"https://yangyfeng.github.io/posts/13437c1d.html","excerpt":"React ä»€ä¹ˆæ—¶å€™ä½¿ç”¨çŠ¶æ€ç®¡ç†å™¨ï¼Ÿ renderå‡½æ•°ä¸­returnå¦‚æœæ²¡æœ‰ä½¿ç”¨()ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ componentWillUpdateå¯ä»¥ç›´æ¥ä¿®æ”¹stateçš„å€¼å—ï¼Ÿ è¯´è¯´ä½ å¯¹Reactçš„æ¸²æŸ“åŸç†çš„ç†è§£ ä»€ä¹ˆæ¸²æŸ“åŠ«æŒï¼Ÿ React Intlæ˜¯ä»€ä¹ˆåŸç†ï¼Ÿ ä½ æœ‰ä½¿ç”¨è¿‡React Intlå—ï¼Ÿ æ€ä¹ˆå®ç°Reactç»„ä»¶çš„å›½é™…åŒ–å‘¢ï¼Ÿ","text":"React ä»€ä¹ˆæ—¶å€™ä½¿ç”¨çŠ¶æ€ç®¡ç†å™¨ï¼Ÿ renderå‡½æ•°ä¸­returnå¦‚æœæ²¡æœ‰ä½¿ç”¨()ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ componentWillUpdateå¯ä»¥ç›´æ¥ä¿®æ”¹stateçš„å€¼å—ï¼Ÿ è¯´è¯´ä½ å¯¹Reactçš„æ¸²æŸ“åŸç†çš„ç†è§£ ä»€ä¹ˆæ¸²æŸ“åŠ«æŒï¼Ÿ React Intlæ˜¯ä»€ä¹ˆåŸç†ï¼Ÿ ä½ æœ‰ä½¿ç”¨è¿‡React Intlå—ï¼Ÿ æ€ä¹ˆå®ç°Reactç»„ä»¶çš„å›½é™…åŒ–å‘¢ï¼Ÿ è¯´è¯´Contextæœ‰å“ªäº›å±æ€§ï¼Ÿ æ€ä¹ˆä½¿ç”¨Contextå¼€å‘ç»„ä»¶ï¼Ÿ ä¸ºä»€ä¹ˆReactå¹¶ä¸æ¨èæˆ‘ä»¬ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨Contextï¼Ÿ é™¤äº†å®ä¾‹çš„å±æ€§å¯ä»¥è·å–Contextå¤–å“ªäº›åœ°æ–¹è¿˜èƒ½ç›´æ¥è·å–Contextå‘¢ï¼Ÿ childContextTypesæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ contextTypeæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ Consumerå‘ä¸Šæ‰¾ä¸åˆ°Providerçš„æ—¶å€™æ€ä¹ˆåŠï¼Ÿ æœ‰ä½¿ç”¨è¿‡Consumerå—ï¼Ÿ åœ¨Reactæ€ä¹ˆä½¿ç”¨Contextï¼Ÿ React15å’Œ16åˆ«æ”¯æŒIEå‡ ä»¥ä¸Šï¼Ÿ è¯´è¯´ä½ å¯¹windowingçš„äº†è§£ ä¸¾ä¾‹è¯´æ˜Reactçš„æ’æ§½æœ‰å“ªäº›è¿ç”¨åœºæ™¯ï¼Ÿ ä½ æœ‰ç”¨è¿‡Reactçš„æ’æ§½(Portals)å—ï¼Ÿæ€ä¹ˆç”¨ï¼Ÿ Reactçš„ä¸¥æ ¼æ¨¡å¼æœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿ Reactå¦‚ä½•è¿›è¡Œä»£ç æ‹†åˆ†ï¼Ÿæ‹†åˆ†çš„åŸåˆ™æ˜¯ä»€ä¹ˆï¼Ÿ Reactç»„ä»¶çš„æ„é€ å‡½æ•°æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ Reactç»„ä»¶çš„æ„é€ å‡½æ•°æ˜¯å¿…é¡»çš„å—ï¼Ÿ Reactä¸­åœ¨å“ªæ•è·é”™è¯¯ï¼Ÿ Reactæ€æ ·å¼•å…¥svgçš„æ–‡ä»¶ï¼Ÿ è¯´è¯´ä½ å¯¹Relayçš„ç†è§£ åœ¨Reactä¸­ä½ æœ‰ç»å¸¸ä½¿ç”¨å¸¸é‡å—ï¼Ÿ ä¸ºä»€ä¹ˆè¯´Reactä¸­çš„propsæ˜¯åªè¯»çš„ï¼Ÿ ä½ æœ‰ä½¿ç”¨è¿‡formikåº“å—ï¼Ÿè¯´è¯´å®ƒçš„ä¼˜ç¼ºç‚¹ ä½ æœ‰ç”¨è¿‡å“ªäº›Reactçš„è¡¨å•åº“å—ï¼Ÿè¯´è¯´å®ƒä»¬çš„ä¼˜ç¼ºç‚¹ å¦‚æœç»„ä»¶çš„å±æ€§æ²¡æœ‰ä¼ å€¼ï¼Œé‚£ä¹ˆå®ƒçš„é»˜è®¤å€¼æ˜¯ä»€ä¹ˆï¼Ÿ å¯ä»¥ä½¿ç”¨TypeScriptå†™Reactåº”ç”¨å—ï¼Ÿæ€ä¹ˆæ“ä½œï¼Ÿ super()å’Œsuper(props)æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ä½ æœ‰ä½¿ç”¨è¿‡loadableç»„ä»¶å—ï¼Ÿå®ƒå¸®æˆ‘ä»¬è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ ä½ æœ‰ä½¿ç”¨è¿‡suspenseç»„ä»¶å—ï¼Ÿå®ƒå¸®æˆ‘ä»¬è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ æ€æ ·åŠ¨æ€å¯¼å…¥ç»„ä»¶ï¼Ÿ å¦‚ä½•ç»™éæ§ç»„ä»¶è®¾ç½®é»˜è®¤çš„å€¼ï¼Ÿ æ€ä¹ˆåœ¨Reactä¸­å¼•å…¥å…¶å®ƒçš„UIåº“ï¼Œä¾‹å¦‚Bootstrap æ€æ ·å°†äº‹ä»¶ä¼ é€’ç»™å­ç»„ä»¶ï¼Ÿ æ€æ ·ä½¿ç”¨Hooksè·å–æœåŠ¡ç«¯æ•°æ®ï¼Ÿ ä½¿ç”¨Hooksè¦éµå®ˆå“ªäº›åŸåˆ™ï¼Ÿ renderæ–¹æ³•çš„åŸç†ä½ æœ‰äº†è§£å—ï¼Ÿå®ƒè¿”å›çš„æ•°æ®ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ useEffectå’ŒuseLayoutEffectæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ åœ¨Reacté¡¹ç›®ä¸­ä½ ç”¨è¿‡å“ªäº›åŠ¨ç”»çš„åŒ…ï¼Ÿ Reactå¿…é¡»ä½¿ç”¨JSXå—ï¼Ÿ è‡ªå®šä¹‰ç»„ä»¶æ—¶renderæ˜¯å¯é€‰çš„å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ éœ€è¦æŠŠkeysè®¾ç½®ä¸ºå…¨å±€å”¯ä¸€å—ï¼Ÿ æ€ä¹ˆå®šæ—¶æ›´æ–°ä¸€ä¸ªç»„ä»¶ï¼Ÿ Reactæ ¹æ®ä¸åŒçš„ç¯å¢ƒæ‰“åŒ…ä¸åŒçš„åŸŸåï¼Ÿ ä½¿ç”¨webpackæ‰“åŒ…Reacté¡¹ç›®ï¼Œæ€ä¹ˆå‡å°ç”Ÿæˆçš„jså¤§å°ï¼Ÿ åœ¨Reactä¸­æ€ä¹ˆä½¿ç”¨async/awaitï¼Ÿ ä½ é˜…è¯»äº†å‡ éReactçš„æºç ï¼Ÿéƒ½æœ‰å“ªäº›æ”¶è·ï¼Ÿä½ æ˜¯æ€ä¹ˆé˜…è¯»çš„ï¼Ÿ ä»€ä¹ˆæ˜¯React.forwardRefï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ å†™ä¸ªä¾‹å­è¯´æ˜ä»€ä¹ˆæ˜¯JSXçš„å†…è”æ¡ä»¶æ¸²æŸ“ åœ¨Reactä¸­æ€ä¹ˆå°†å‚æ•°ä¼ é€’ç»™äº‹ä»¶ï¼Ÿ Reactçš„äº‹ä»¶å’Œæ™®é€šçš„HTMLäº‹ä»¶æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ åœ¨Reactä¸­æ€ä¹ˆé˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼Ÿ ä½ æœ€å–œæ¬¢Reactçš„å“ªä¸€ä¸ªç‰¹æ€§ï¼ˆè¯´ä¸€ä¸ªå°±å¥½ï¼‰ï¼Ÿ åœ¨Reactä¸­ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç®­å¤´å‡½æ•°æ›´æ–¹ä¾¿å‘¢ï¼Ÿ ä½ æœ€ä¸å–œæ¬¢Reactçš„å“ªä¸€ä¸ªç‰¹æ€§ï¼ˆè¯´ä¸€ä¸ªå°±å¥½ï¼‰ï¼Ÿ è¯´è¯´ä½ å¯¹Reactçš„reconciliationï¼ˆä¸€è‡´åŒ–ç®—æ³•ï¼‰çš„ç†è§£ ä½¿ç”¨PropTypeså’ŒFlowæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ æ€æ ·æœ‰æ¡ä»¶åœ°æ¸²æŸ“ç»„ä»¶ï¼Ÿ åœ¨JSXä¸­å¦‚ä½•å†™æ³¨é‡Šï¼Ÿ constructorå’ŒgetInitialStateæœ‰ä¸åŒï¼Ÿ å†™ä¾‹å­è¯´æ˜Reactå¦‚ä½•åœ¨JSXä¸­å®ç°forå¾ªç¯ ä¸ºä»€ä¹ˆå»ºè®®FragmentåŒ…è£¹å…ƒç´ ï¼Ÿå®ƒçš„ç®€å†™æ˜¯ä»€ä¹ˆï¼Ÿ ä½ æœ‰ç”¨è¿‡React.Fragmentå—ï¼Ÿè¯´è¯´å®ƒæœ‰ä»€ä¹ˆç”¨é€”ï¼Ÿ åœ¨Reactä¸­ä½ æœ‰é‡åˆ°è¿‡å®‰å…¨é—®é¢˜å—ï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿ Reactä¸­å¦‚ä½•ç›‘å¬stateçš„å˜åŒ–ï¼Ÿ Reactä»€ä¹ˆæ˜¯æœ‰çŠ¶æ€ç»„ä»¶ï¼Ÿ React v15ä¸­æ€ä¹ˆå¤„ç†é”™è¯¯è¾¹ç•Œï¼Ÿ React Fiberå®ƒçš„ç›®çš„æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ Reactä¸ºä»€ä¹ˆä¸è¦ç›´æ¥ä¿®æ”¹stateï¼Ÿå¦‚æœæƒ³ä¿®æ”¹æ€ä¹ˆåšï¼Ÿ create-react-appæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ è£…é¥°å™¨(Decorator)åœ¨Reactä¸­æœ‰ä»€ä¹ˆåº”ç”¨ï¼Ÿ ä½¿ç”¨é«˜é˜¶ç»„ä»¶(HOC)å®ç°ä¸€ä¸ªloadingç»„ä»¶ å¦‚ä½•ç”¨Reactå®ç°æ»šåŠ¨åŠ¨ç”»ï¼Ÿ è¯´å‡ºå‡ ç‚¹ä½ è®¤ä¸ºçš„Reactæœ€ä½³å®è·µ ä½ æ˜¯å¦‚ä½•åˆ’åˆ†Reactç»„ä»¶çš„ï¼Ÿ ä¸¾ä¾‹è¯´æ˜å¦‚ä½•åœ¨Reactåˆ›å»ºä¸€ä¸ªäº‹ä»¶ å¦‚ä½•æ›´æ–°ç»„ä»¶çš„çŠ¶æ€ï¼Ÿ æ€æ ·å°†å¤šä¸ªç»„ä»¶åµŒå…¥åˆ°ä¸€ä¸ªç»„ä»¶ä¸­ï¼Ÿ Reactçš„renderä¸­å¯ä»¥å†™{if else}è¿™æ ·çš„åˆ¤æ–­å—ï¼Ÿ Reactä¸ºä»€ä¹ˆè¦æä¸€ä¸ªHooksï¼Ÿ React Hookså¸®æˆ‘ä»¬è§£å†³äº†å“ªäº›é—®é¢˜ï¼Ÿ ä½¿ç”¨Reactçš„memoå’ŒforwardRefåŒ…è£…çš„ç»„ä»¶ä¸ºä»€ä¹ˆæç¤ºchildrenç±»å‹ä¸å¯¹ï¼Ÿ æœ‰åœ¨é¡¹ç›®ä¸­ä½¿ç”¨è¿‡Antdå—ï¼Ÿè¯´è¯´å®ƒçš„å¥½å¤„ åœ¨Reactä¸­å¦‚æœå»é™¤ç”Ÿäº§ç¯å¢ƒä¸Šçš„sourcemapï¼Ÿ åœ¨Reactä¸­æ€ä¹ˆå¼•ç”¨sassæˆ–lessï¼Ÿ ç»„ä»¶å¸è½½å‰ï¼ŒåŠ åœ¨DOMå…ƒç´ çš„ç›‘å¬äº‹ä»¶å’Œå®šæ—¶å™¨è¦ä¸è¦æ‰‹åŠ¨æ¸…é™¤ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ ä¸ºä»€ä¹ˆæ ‡ç­¾é‡Œçš„forè¦å†™æˆhtmlForå‘¢ï¼Ÿ çŠ¶æ€ç®¡ç†å™¨è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿä»€ä¹ˆæ—¶å€™ç”¨çŠ¶æ€ç®¡ç†å™¨ï¼Ÿ çŠ¶æ€ç®¡ç†å™¨å®ƒç²¾é«“æ˜¯ä»€ä¹ˆï¼Ÿ å‡½æ•°å¼ç»„ä»¶æœ‰æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ åœ¨Reactä¸­æ€ä¹ˆå¼•ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Ÿæ¯”å¦‚è¯´jQueryç­‰ Reactçš„è§¦æ‘¸äº‹ä»¶æœ‰å“ªå‡ ç§ï¼Ÿ è·¯ç”±åˆ‡æ¢æ—¶åŒä¸€ç»„ä»¶æ— æ³•é‡æ–°æ¸²æŸ“çš„æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥è§£å†³ï¼Ÿ React16æ–°ç‰¹æ€§æœ‰å“ªäº›ï¼Ÿ ä½ æœ‰ç”¨è¿‡å“ªäº›Reactçš„UIåº“ï¼Ÿå®ƒä»¬çš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ å•å‡»å’Œå•å‡»æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ åœ¨Reactä¸­å¦‚ä½•å¼•å…¥å›¾ç‰‡ï¼Ÿå“ªç§æ–¹å¼æ›´å¥½ï¼Ÿ åœ¨Reactä¸­æ€ä¹ˆä½¿ç”¨å­—ä½“å›¾æ ‡ï¼Ÿ Reactçš„åº”ç”¨å¦‚ä½•æ‰“åŒ…å‘å¸ƒï¼Ÿå®ƒçš„æ­¥éª¤æ˜¯ä»€ä¹ˆï¼Ÿ ES6çš„è¯­æ³•â€™â€¦â€™åœ¨Reactä¸­æœ‰å“ªäº›åº”ç”¨ï¼Ÿ å¦‚ä½•å°è£…ä¸€ä¸ªReactçš„å…¨å±€å…¬å…±ç»„ä»¶ï¼Ÿ åœ¨Reactä¸­ç»„ä»¶çš„propsæ”¹å˜æ—¶æ›´æ–°ç»„ä»¶çš„æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ immutableçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ ä½ å¯¹immutableæœ‰äº†è§£å—ï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ å¦‚ä½•æé«˜ç»„ä»¶çš„æ¸²æŸ“æ•ˆç‡å‘¢ï¼Ÿ åœ¨Reactä¸­å¦‚ä½•é¿å…ä¸å¿…è¦çš„renderï¼Ÿ renderåœ¨ä»€ä¹ˆæ—¶å€™ä¼šè¢«è§¦å‘ï¼Ÿ å†™å‡ºReactåŠ¨æ€æ”¹å˜classåˆ‡æ¢ç»„ä»¶æ ·å¼ Reactä¸­æ€ä¹ˆæ“ä½œè™šæ‹ŸDOMçš„Classå±æ€§ï¼Ÿ ä¸ºä»€ä¹ˆå±æ€§ä½¿ç”¨classNameè€Œä¸æ˜¯classå‘¢ï¼Ÿ è¯·è¯´ä¸‹reactç»„ä»¶æ›´æ–°çš„æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ æ€ä¹ˆåœ¨JSXé‡Œå±æ€§å¯ä»¥è¢«è¦†ç›–å—ï¼Ÿè¦†ç›–çš„åŸåˆ™æ˜¯ä»€ä¹ˆï¼Ÿ æ€ä¹ˆåœ¨JSXé‡Œä½¿ç”¨è‡ªå®šä¹‰å±æ€§ï¼Ÿ æ€ä¹ˆé˜²æ­¢HTMLè¢«è½¬ä¹‰ï¼Ÿ ç»å¸¸ç”¨Reactï¼Œä½ çŸ¥é“Reactçš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»€ä¹ˆå—ï¼Ÿ åœ¨Reactä¸­æˆ‘ä»¬æ€ä¹ˆåšé™æ€ç±»å‹æ£€æµ‹ï¼Ÿéƒ½æœ‰å“ªäº›æ–¹æ³•å¯ä»¥åšåˆ°ï¼Ÿ åœ¨Reactä¸­ç»„ä»¶çš„stateå’ŒsetStateæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ Reactæ€æ ·è·³è¿‡é‡æ–°æ¸²æŸ“ï¼Ÿ Reactæ€ä¹ˆåˆ¤æ–­ä»€ä¹ˆæ—¶å€™é‡æ–°æ¸²æŸ“ç»„ä»¶å‘¢ï¼Ÿ ä»€ä¹ˆæ˜¯Reactçš„å®ä¾‹ï¼Ÿå‡½æ•°å¼ç»„ä»¶æœ‰æ²¡æœ‰å®ä¾‹ï¼Ÿ åœ¨Reactä¸­å¦‚ä½•åˆ¤æ–­ç‚¹å‡»å…ƒç´ å±äºå“ªä¸€ä¸ªç»„ä»¶ï¼Ÿ åœ¨Reactä¸­ç»„ä»¶å’Œå…ƒç´ æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ åœ¨Reactä¸­å£°æ˜ç»„ä»¶æ—¶ç»„ä»¶åçš„ç¬¬ä¸€ä¸ªå­—æ¯å¿…é¡»æ˜¯å¤§å†™å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ ä¸¾ä¾‹è¯´æ˜ä»€ä¹ˆæ˜¯é«˜é˜¶ç»„ä»¶(HOC)çš„åå‘ç»§æ‰¿ï¼Ÿ æœ‰ç”¨è¿‡React Devtoolså—ï¼Ÿè¯´è¯´å®ƒçš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ ä¸¾ä¾‹è¯´æ˜ä»€ä¹ˆæ˜¯é«˜é˜¶ç»„ä»¶(HOC)çš„å±æ€§ä»£ç†ï¼Ÿ Reactçš„isMountedæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ Reactç»„ä»¶å‘½åæ¨èçš„æ–¹å¼æ˜¯å“ªä¸ªï¼Ÿä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨displayNameï¼Ÿ Reactçš„displayNameæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ è¯´è¯´ä½ å¯¹Reactçš„ç»„ä»¶å‘½åè§„èŒƒçš„ç†è§£ è¯´è¯´ä½ å¯¹Reactçš„é¡¹ç›®ç»“æ„çš„ç†è§£ React16åºŸå¼ƒäº†å“ªäº›ç”Ÿå‘½å‘¨æœŸï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ æ€æ ·åœ¨Reactä¸­å¼€å¯ç”Ÿäº§æ¨¡å¼ï¼Ÿ Reactä¸­getInitialStateæ–¹æ³•çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ Reactä¸­ä½ çŸ¥é“creatClassçš„åŸç†å—ï¼Ÿ Reactä¸­éªŒè¯propsçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ Reactä¸­ä½ æœ‰ä½¿ç”¨è¿‡getDefaultPropså—ï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ Reactä¸­ä½ æœ‰ä½¿ç”¨è¿‡propTypeå—ï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ Reactä¸­æ€ä¹ˆæ£€éªŒpropsï¼Ÿ React.createClasså’Œextends Componentçš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ é«˜é˜¶ç»„ä»¶(HOC)æœ‰å“ªäº›ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Ÿ ç»™ç»„ä»¶è®¾ç½®å¾ˆå¤šå±æ€§æ—¶ä¸æƒ³ä¸€ä¸ªä¸ªå»è®¾ç½®æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥è§£å†³è¿™é—®é¢˜å‘¢ï¼Ÿ React16è·Ÿä¹‹å‰çš„ç‰ˆæœ¬ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›å˜åŒ–ï¼Ÿ æ€æ ·å®ç°Reactç»„ä»¶çš„è®°å¿†ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ åˆ›å»ºReactåŠ¨ç”»æœ‰å“ªäº›æ–¹å¼ï¼Ÿ ä¸ºä»€ä¹ˆå»ºè®®ä¸è¦è¿‡æ¸¡ä½¿ç”¨Refsï¼Ÿ åœ¨Reactä½¿ç”¨é«˜é˜¶ç»„ä»¶(HOC)æœ‰é‡åˆ°è¿‡å“ªäº›é—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ åœ¨ä½¿ç”¨Reactè¿‡ç¨‹ä¸­ä»€ä¹ˆæ—¶å€™ç”¨é«˜é˜¶ç»„ä»¶(HOC)ï¼Ÿ è¯´è¯´React diffçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ Reactæ€ä¹ˆæé«˜åˆ—è¡¨æ¸²æŸ“çš„æ€§èƒ½ï¼Ÿ ä½¿ç”¨ES6çš„classå®šä¹‰çš„ç»„ä»¶ä¸æ”¯æŒmixinsäº†ï¼Œé‚£ç”¨ä»€ä¹ˆå¯ä»¥æ›¿ä»£å‘¢ï¼Ÿ ä¸ºä½•è¯´è™šæ‹ŸDOMä¼šæé«˜æ€§èƒ½ï¼Ÿ Reactçš„æ€§èƒ½ä¼˜åŒ–åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸï¼Ÿå®ƒä¼˜åŒ–çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ ä½ çŸ¥é“çš„Reactæ€§èƒ½ä¼˜åŒ–æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ ä¸¾ä¾‹è¯´æ˜åœ¨Reactä¸­æ€ä¹ˆä½¿ç”¨æ ·å¼ï¼Ÿ Reactæœ‰å“ªå‡ ç§æ–¹æ³•æ¥å¤„ç†è¡¨å•è¾“å…¥ï¼Ÿ ä»€ä¹ˆæ˜¯æµ…å±‚æ¸²æŸ“ï¼Ÿ ä½ æœ‰åšè¿‡Reactçš„å•å…ƒæµ‹è¯•å—ï¼Ÿå¦‚æœæœ‰ï¼Œç”¨çš„æ˜¯å“ªäº›å·¥å…·ï¼Ÿæ€ä¹ˆåšçš„ï¼Ÿ åœ¨Reactä¸­ä»€ä¹ˆæ˜¯åˆæˆäº‹ä»¶ï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ ä½¿ç”¨Reactå†™ä¸€ä¸ªtodoåº”ç”¨ï¼Œè¯´è¯´ä½ çš„æ€è·¯ React16çš„reconciliationå’Œcommitåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ Reactçš„å‡½æ•°å¼ç»„ä»¶æœ‰æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸï¼Ÿ useStateå’Œthis.stateçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ è¯·è¯´è¯´ä»€ä¹ˆæ˜¯useImperativeHandleï¼Ÿ è¯·è¯´è¯´ä»€ä¹ˆæ˜¯useReducerï¼Ÿ è¯·è¯´è¯´ä»€ä¹ˆæ˜¯useRefï¼Ÿ è¯·è¯´è¯´ä»€ä¹ˆæ˜¯useEffectï¼Ÿ ä¸¾ä¾‹è¯´æ˜useState è¯·è¯´è¯´ä»€ä¹ˆæ˜¯useStateï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨useStateï¼Ÿ è¯·æè¿°ä¸‹ä½ å¯¹Reactçš„æ–°ç‰¹æ€§Hooksçš„ç†è§£ï¼Ÿå®ƒæœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Ÿ è¯´è¯´ä½ å¯¹Error Boundariesçš„ç†è§£ è¯´è¯´ä½ å¯¹Fiberæ¶æ„çš„ç†è§£ è¯´è¯´ä½ æ˜¯æ€ä¹ˆç†è§£Reactçš„ä¸šåŠ¡ç»„ä»¶å’ŒæŠ€æœ¯ç»„ä»¶çš„ï¼Ÿ ä¸ºä»€ä¹ˆå»ºè®®setStateçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯callbackè€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡å‘¢ï¼Ÿ å±•ç¤ºç»„ä»¶å’Œå®¹å™¨ç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ Mernå’ŒYeomanè„šæ‰‹æ¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ä½ æœ‰åœ¨é¡¹ç›®ä¸­ä½¿ç”¨è¿‡Yeomanè„šæ‰‹æ¶å—ï¼Ÿ ä½ æœ‰åœ¨é¡¹ç›®ä¸­ä½¿ç”¨è¿‡Mernè„šæ‰‹æ¶å—ï¼Ÿ shouldComponentUpdateæ–¹æ³•æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ æ€æ ·åœ¨Reactä¸­ä½¿ç”¨innerHTMLï¼Ÿ ä½ æœ‰å†™è¿‡Reactçš„ä¸­é—´ä»¶æ’ä»¶å—ï¼Ÿ Reactçš„ä¸­é—´ä»¶æœºåˆ¶æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿè¿™ç§æœºåˆ¶æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ Reactä¸­ä½ ç”¨è¿‡å“ªäº›ç¬¬ä¸‰æ–¹çš„ä¸­é—´ä»¶ï¼Ÿ ä¸ç”¨è„šæ‰‹æ¶ï¼Œä½ ä¼šæ‰‹åŠ¨æ­å»ºReacté¡¹ç›®å—ï¼Ÿ è¯·è¯´è¯´Reactä¸­Portalæ˜¯ä»€ä¹ˆï¼Ÿ Reactä¸­ä¿®æ”¹propå¼•å‘çš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªå‡ ä¸ªï¼Ÿ Reactå¤šä¸ªsetStateè°ƒç”¨çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ Reactä¸­è°ƒç”¨setStateä¼šæ›´æ–°çš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªå‡ ä¸ªï¼Ÿ Reactä¸­setStateçš„ç¬¬äºŒä¸ªå‚æ•°ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ Reactä¸­çš„setStateæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥çš„å‘¢ï¼Ÿä¸ºä»€ä¹ˆstateå¹¶ä¸ä¸€å®šä¼šåŒæ­¥æ›´æ–°ï¼Ÿ Reactä¸­çš„setStateæ‰¹é‡æ›´æ–°çš„è¿‡ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ Reactä¸­çš„setStateæ‰§è¡Œæœºåˆ¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ åœ¨Reactä¸­éå†çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿå®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ è¯·è¯´è¯´ä½ å¯¹Reactçš„renderæ–¹æ³•çš„ç†è§£ props.children.mapå’Œjsçš„mapæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆä¼˜å…ˆé€‰æ‹©Reactçš„ï¼Ÿ æœ‰ç”¨è¿‡Reactçš„ä¸¥æ ¼æ¨¡å¼å—ï¼Ÿ Reactä¸­çš„setStateå’ŒreplaceStateçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ Reactä¸­çš„setStateç¼ºç‚¹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æœ‰ç”¨è¿‡Reactçš„Fragmentå—ï¼Ÿå®ƒçš„è¿ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ Reactç»„ä»¶é—´å…±äº«æ•°æ®æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ Reactçš„çŠ¶æ€æå‡æ˜¯ä»€ä¹ˆï¼Ÿä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ ç®€å•æè¿°ä¸‹ä½ æœ‰åšè¿‡å“ªäº›Reacté¡¹ç›®ï¼Ÿ åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨super(props)çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ ä½ æ˜¯å¦‚ä½•å­¦ä¹ Reactçš„ï¼Ÿ ä»æ—§ç‰ˆæœ¬çš„Reactå‡çº§åˆ°æ–°ç‰ˆæœ¬çš„Reactæœ‰åšè¿‡å—ï¼Ÿæœ‰é‡åˆ°è¿‡ä»€ä¹ˆå‘ï¼Ÿ ä½ ç”¨è¿‡Reactç‰ˆæœ¬æœ‰å“ªäº›ï¼Ÿ æœ‰ç”¨è¿‡Reactçš„æœåŠ¡ç«¯æ¸²æŸ“å—ï¼Ÿæ€ä¹ˆåšçš„ï¼Ÿ Reactçš„mixinsæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿé€‚ç”¨äºä»€ä¹ˆåœºæ™¯ï¼Ÿ Reactæ€ä¹ˆæ‹¿åˆ°ç»„ä»¶å¯¹åº”çš„DOMå…ƒç´ ï¼Ÿ è¯·æè¿°ä¸‹äº‹ä»¶åœ¨Reactä¸­çš„å¤„ç†æ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿ JSXå’ŒHTMLæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ Reactçš„ä¹¦å†™è§„èŒƒæœ‰å“ªäº›ï¼Ÿ create-react-appåˆ›å»ºæ–°è¿ç”¨æ€ä¹ˆè§£å†³å¡çš„é—®é¢˜ï¼Ÿ ä½¿ç”¨Reactçš„æ–¹å¼æœ‰å“ªå‡ ç§ï¼Ÿ è¯´è¯´ä½ å¯¹readerçš„contextçš„ç†è§£ åŒæ—¶å¼•ç”¨è¿™ä¸‰ä¸ªåº“React.jsã€React-dom.jså’Œbabel.jså®ƒä»¬éƒ½æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ ä½ çŸ¥é“Virtual DOMçš„å·¥ä½œåŸç†å—ï¼Ÿ ä½ é˜…è¯»è¿‡Reactçš„æºç å—ï¼Ÿç®€è¦è¯´ä¸‹å®ƒçš„æ‰§è¡Œæµç¨‹ Reactä¸­æ€æ ·é˜»æ­¢ç»„ä»¶æ¸²æŸ“ï¼Ÿ Reactéå…„å¼Ÿç»„ä»¶å¦‚ä½•é€šä¿¡ï¼Ÿ Reactå…„å¼Ÿç»„ä»¶å¦‚ä½•é€šä¿¡ï¼Ÿ Reactéçˆ¶å­ç»„ä»¶å¦‚ä½•é€šä¿¡ï¼Ÿ Reactçˆ¶å­ç»„ä»¶å¦‚ä½•é€šä¿¡ï¼Ÿ Reactç»„ä»¶é—´çš„é€šä¿¡æœ‰å“ªäº›ï¼Ÿ ç±»ç»„ä»¶å’Œå‡½æ•°å¼ç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ Reactè‡ªå®šä¹‰ç»„ä»¶ä½ å†™è¿‡å—ï¼Ÿè¯´è¯´çœ‹éƒ½å†™è¿‡å“ªäº›ï¼Ÿ Reactç»„ä»¶çš„stateå’Œpropsä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ Reactæœ‰å‡ ç§æ„å»ºç»„ä»¶çš„æ–¹å¼ï¼Ÿå¯ä»¥å†™å‡ºæ¥å—ï¼Ÿ Reactä¸­éå†æ—¶ä¸ºä»€ä¹ˆä¸ç”¨ç´¢å¼•ä½œä¸ºå”¯ä¸€çš„keyå€¼ï¼Ÿ Reactä¸­çš„keyæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ Reactä¸­é™¤äº†åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®šthis,è¿˜æœ‰åˆ«çš„æ–¹å¼å—ï¼Ÿ åœ¨Reactä¸­é¡µé¢é‡æ–°åŠ è½½æ—¶æ€æ ·ä¿ç•™æ•°æ®ï¼Ÿ è¯·æè¿°ä¸‹Reactçš„äº‹ä»¶æœºåˆ¶ æ€æ ·åœ¨Reactä¸­åˆ›å»ºä¸€ä¸ªäº‹ä»¶ï¼Ÿ åœ¨Reactä¸­æ— çŠ¶æ€ç»„ä»¶æœ‰ä»€ä¹ˆè¿ç”¨åœºæ™¯ï¼Ÿ æè¿°ä¸‹åœ¨Reactä¸­æ— çŠ¶æ€ç»„ä»¶å’Œæœ‰çŠ¶æ€ç»„ä»¶çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ å†™ä¸€ä¸ªReactçš„é«˜é˜¶ç»„ä»¶(HOC)å¹¶è¯´æ˜ä½ å¯¹å®ƒçš„ç†è§£ Reactä¸­å¯ä»¥åœ¨renderè®¿é—®refså—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ Reactä¸­refsçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Ÿ è¯·æè¿°ä½ å¯¹çº¯å‡½æ•°çš„ç†è§£ï¼Ÿ å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ Reactä¸­ä»€ä¹ˆæ˜¯éæ§ç»„ä»¶ï¼Ÿ Reactä¸­ä»€ä¹ˆæ˜¯å—æ§ç»„ä»¶ï¼Ÿ Reactä¸­å‘èµ·ç½‘ç»œè¯·æ±‚åº”è¯¥åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸä¸­è¿›è¡Œï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ è¯´è¯´Reactçš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›ï¼Ÿ è¯´è¯´ä½ å¯¹â€œåœ¨Reactä¸­ï¼Œä¸€åˆ‡éƒ½æ˜¯ç»„ä»¶â€çš„ç†è§£ å†™Reactä½ æ˜¯ç”¨es6è¿˜æ˜¯es5çš„è¯­æ³•ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ æµè§ˆå™¨ä¸ºä»€ä¹ˆæ— æ³•ç›´æ¥JSXï¼Ÿæ€ä¹ˆè§£å†³å‘¢ï¼Ÿ åœ¨ä½¿ç”¨Reactè¿‡ç¨‹ä¸­ä½ éƒ½è¸©è¿‡å“ªäº›å‘ï¼Ÿä½ æ˜¯æ€ä¹ˆå¡«å‘çš„ï¼Ÿ è¯´è¯´ä½ å–œæ¬¢Reactçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ å¦‚ä½•è§£å†³å¼•ç”¨ç±»å‹åœ¨pureComponentä¸‹ä¿®æ”¹å€¼çš„æ—¶å€™ï¼Œé¡µé¢ä¸æ¸²æŸ“çš„é—®é¢˜ï¼Ÿ createElementä¸cloneElementä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ è§£é‡Šä¸‹Reactä¸­Element å’ŒComponentä¸¤è€…çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ è§£é‡Šä¸‹Reactä¸­componentå’ŒpureComponentä¸¤è€…çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ Reactçš„è™šæ‹ŸDOMå’Œvueçš„è™šæ‹ŸDOMæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ä½ è§‰å¾—Reactä¸Šæ‰‹å¿«ä¸å¿«ï¼Ÿå®ƒæœ‰å“ªäº›é™åˆ¶ï¼Ÿ è¯´è¯´ä½ å¯¹å£°æ˜å¼ç¼–ç¨‹çš„ç†è§£ï¼Ÿ Reactä¸angularã€vueæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ Reactæ˜¯å“ªä¸ªå…¬å¸å¼€å‘çš„ï¼Ÿ Reactæ˜¯ä»€ä¹ˆï¼Ÿå®ƒçš„ä¸»è¦ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ ç®€è¦æè¿°ä¸‹ä½ çŸ¥é“çš„Reactå·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ åœ¨Reactä¸­æ€æ ·æ”¹å˜ç»„ä»¶çŠ¶æ€ï¼Œä»¥åŠçŠ¶æ€æ”¹å˜çš„è¿‡ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ åœ¨Reactä¸­ä½ æ˜¯æ€ä¹ˆè¿›è¡ŒçŠ¶æ€ç®¡ç†çš„ï¼Ÿ Reactå£°æ˜ç»„ä»¶æœ‰å“ªå‡ ç§æ–¹æ³•ï¼Œå„æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ ReactNative å¦‚ä½•åœ¨React Nativeä¸­è®¾ç½®ç¯å¢ƒå˜é‡ï¼Ÿ è¯·æè¿°ä¸‹Code Pushçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ React Nativeæ€æ ·æŸ¥çœ‹æ—¥è®°ï¼Ÿ React Nativeæ€æ ·æµ‹è¯•ï¼Ÿ React Nativeæ€æ ·è°ƒè¯•ï¼Ÿ React Nativeå’ŒReactæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ æœ‰åšè¿‡React Nativeé¡¹ç›®å—ï¼Ÿ React-Router React-Routeræ€ä¹ˆè·å–å†å²å¯¹è±¡ï¼Ÿ React-Routeræ€ä¹ˆè·å–URLçš„å‚æ•°ï¼Ÿ åœ¨historyæ¨¡å¼ä¸­pushå’Œreplaceæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ React-Routeræ€ä¹ˆè®¾ç½®é‡å®šå‘ï¼Ÿ React-Router 4ä¸­ç»„ä»¶æœ‰å‡ ç§ç±»å‹ï¼Ÿ React-Router 3å’ŒReact-Router 4æœ‰ä»€ä¹ˆå˜åŒ–ï¼Ÿæ·»åŠ äº†ä»€ä¹ˆå¥½çš„ç‰¹æ€§ï¼Ÿ React-Routerçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ React-Router 4çš„switchæœ‰ä»€ä¹ˆç”¨ï¼Ÿ React-Routerçš„è·¯ç”±æœ‰å‡ ç§æ¨¡å¼ï¼Ÿ React-Router 4æ€æ ·åœ¨è·¯ç”±å˜åŒ–æ—¶é‡æ–°æ¸²æŸ“åŒä¸€ä¸ªç»„ä»¶ï¼Ÿ React-Routerçš„æ ‡ç­¾å’Œæ ‡ç­¾æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ Reactçš„è·¯ç”±å’Œæ™®é€šè·¯ç”±æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ è¯·ä½ è¯´è¯´Reactçš„è·¯ç”±çš„ä¼˜ç¼ºç‚¹ï¼Ÿ è¯·ä½ è¯´è¯´Reactçš„è·¯ç”±æ˜¯ä»€ä¹ˆï¼Ÿ Redux/Mobox ä½ æœ‰äº†è§£Rxjsæ˜¯ä»€ä¹ˆå—ï¼Ÿå®ƒæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ åœ¨Reduxä¸­æ€ä¹ˆå‘èµ·ç½‘ç»œè¯·æ±‚ï¼Ÿ Reduxæ€æ ·é‡ç½®çŠ¶æ€ï¼Ÿ Reduxæ€æ ·è®¾ç½®åˆå§‹çŠ¶æ€ï¼Ÿ Context apiå¯ä»¥å–ä»£Reduxå—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ æ¨èåœ¨reducerä¸­è§¦å‘Actionå—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ Reduxæ€ä¹ˆæ·»åŠ æ–°çš„ä¸­é—´ä»¶ï¼Ÿ redux-sagaå’Œredux-thunkæœ‰ä»€ä¹ˆæœ¬è´¨çš„åŒºåˆ«ï¼Ÿ åœ¨Reactä¸­ä½ æ˜¯æ€ä¹ˆå¯¹å¼‚æ­¥æ–¹æ¡ˆè¿›è¡Œé€‰å‹çš„ï¼Ÿ ä½ çŸ¥é“redux-sagaçš„åŸç†å—ï¼Ÿ ä½ æœ‰ä½¿ç”¨è¿‡redux-sagaä¸­é—´ä»¶å—ï¼Ÿå®ƒæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ Reduxä¸­å¼‚æ­¥actionå’ŒåŒæ­¥actionæœ€å¤§çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ Reduxå’Œvuexæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ Reduxçš„ä¸­é—´ä»¶æ˜¯ä»€ä¹ˆï¼Ÿä½ æœ‰ç”¨è¿‡å“ªäº›Reduxçš„ä¸­é—´ä»¶ï¼Ÿ è¯´è¯´Reduxçš„å®ç°æµç¨‹ Mobxçš„è®¾è®¡æ€æƒ³æ˜¯ä»€ä¹ˆï¼Ÿ Reduxç”±å“ªäº›ç»„ä»¶æ„æˆï¼Ÿ Mobxå’ŒReduxæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ åœ¨Reacté¡¹ç›®ä¸­ä½ æ˜¯å¦‚ä½•é€‰æ‹©Reduxå’ŒMobxçš„ï¼Ÿè¯´è¯´ä½ çš„ç†è§£ ä½ æœ‰åœ¨Reactä¸­ä½¿ç”¨è¿‡Mobxå—ï¼Ÿå®ƒçš„è¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ Reduxçš„thunkä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ Reduxçš„æ•°æ®å­˜å‚¨å’Œæœ¬åœ°å‚¨å­˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ åœ¨Reduxä¸­ï¼Œä»€ä¹ˆæ˜¯reducerï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ ä¸¾ä¾‹è¯´æ˜æ€ä¹ˆåœ¨Reduxä¸­å®šä¹‰actionï¼Ÿ åœ¨Reduxä¸­ï¼Œä»€ä¹ˆæ˜¯actionï¼Ÿ åœ¨Reduxä¸­ï¼Œä»€ä¹ˆæ˜¯storeï¼Ÿ ä¸ºä»€ä¹ˆReduxèƒ½åšåˆ°å±€éƒ¨æ¸²æŸ“å‘¢ï¼Ÿ è¯´è¯´Reduxçš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ Reduxå’ŒFluxçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ Reduxå®ƒçš„ä¸‰ä¸ªåŸåˆ™æ˜¯ä»€ä¹ˆï¼Ÿ ä»€ä¹ˆæ˜¯å•ä¸€æ•°æ®æºï¼Ÿ ä»€ä¹ˆæ˜¯Reduxï¼Ÿè¯´è¯´ä½ å¯¹Reduxçš„ç†è§£ï¼Ÿæœ‰å“ªäº›è¿ç”¨åœºæ™¯ï¼Ÿ Flux è¯·è¯´è¯´ç‚¹å‡»æŒ‰é’®è§¦å‘åˆ°çŠ¶æ€æ›´æ”¹ï¼Œæ•°æ®çš„æµå‘ï¼Ÿ è¯·æè¿°ä¸‹Fluxçš„æ€æƒ³ ä»€ä¹ˆæ˜¯Fluxï¼Ÿè¯´è¯´ä½ å¯¹Fluxçš„ç†è§£ï¼Ÿæœ‰å“ªäº›è¿ç”¨åœºæ™¯ï¼Ÿ é¢è¯•é¢˜https://www.cnblogs.com/dcyd/p/12989422.html https://zhuanlan.zhihu.com/p/76909668 https://zhuanlan.zhihu.com/p/24856035 https://www.jianshu.com/p/84ce8d9f5391 https://www.cnblogs.com/zhuxinpeng-looking/p/11283015.html æ›´å¤šé¢˜ç›®https://github.com/haizlin/fe-interview","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"React","slug":"React","permalink":"https://yangyfeng.github.io/blogpost/tags/React/"},{"name":"é¢è¯•é¢˜","slug":"é¢è¯•é¢˜","permalink":"https://yangyfeng.github.io/blogpost/tags/é¢è¯•é¢˜/"}]},{"title":"VueçŸ¥è¯†ç‚¹é›†åˆ","slug":"å‰ç«¯æ¯æ—¥ä¸€é¢˜/VueçŸ¥è¯†ç‚¹é›†åˆ","date":"2021-03-06T16:00:00.000Z","updated":"2021-03-27T06:24:34.636Z","comments":true,"path":"/posts/5b9a2dd2.html","link":"","permalink":"https://yangyfeng.github.io/posts/5b9a2dd2.html","excerpt":"vue åœ¨vueä¸­watchå’Œcreatedå“ªä¸ªå…ˆæ‰§è¡Œï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ vueä¸­mixinså’Œextendsæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ vueä¸­mixinsæœ‰ä»€ä¹ˆä½¿ç”¨åœºæ™¯ï¼Ÿ åœ¨vueä¸­createdä¸activatedæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ åœ¨vueé¡¹ç›®å¦‚ä½•å¼•å…¥å¼‚æ­¥ç»„ä»¶ï¼Ÿ åœ¨vueé¡¹ç›®ä¸­scss scopedç©¿é€ç¬¦&gt;&gt;&gt;æ— æ•ˆçš„è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ ä¸ºä»€ä¹ˆåœ¨v-forä¸­çš„keyä¸æ¨èä½¿ç”¨éšæœºæ•°æˆ–è€…indexå‘¢ï¼Ÿé‚£è¦æ€ä¹ˆä½¿ç”¨æ‰æ¯”è¾ƒå¥½å‘¢ï¼Ÿ","text":"vue åœ¨vueä¸­watchå’Œcreatedå“ªä¸ªå…ˆæ‰§è¡Œï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ vueä¸­mixinså’Œextendsæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ vueä¸­mixinsæœ‰ä»€ä¹ˆä½¿ç”¨åœºæ™¯ï¼Ÿ åœ¨vueä¸­createdä¸activatedæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ åœ¨vueé¡¹ç›®å¦‚ä½•å¼•å…¥å¼‚æ­¥ç»„ä»¶ï¼Ÿ åœ¨vueé¡¹ç›®ä¸­scss scopedç©¿é€ç¬¦&gt;&gt;&gt;æ— æ•ˆçš„è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ ä¸ºä»€ä¹ˆåœ¨v-forä¸­çš„keyä¸æ¨èä½¿ç”¨éšæœºæ•°æˆ–è€…indexå‘¢ï¼Ÿé‚£è¦æ€ä¹ˆä½¿ç”¨æ‰æ¯”è¾ƒå¥½å‘¢ï¼Ÿ vue-loaderåœ¨webpackç¼–è¯‘æµç¨‹ä¸­çš„å“ªä¸ªé˜¶æ®µï¼Ÿ é¢„æ¸²æŸ“å’ŒSSR(æœåŠ¡ç«¯æ¸²æŸ“)æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ä½ æœ‰ç”¨è¿‡é¢„æ¸²æŸ“æŠ€æœ¯å—ï¼Ÿæ€ä¹ˆåšçš„ï¼Ÿ ä½¿ç”¨vueå¦‚ä½•åˆ¤æ–­é¡µé¢æ˜¯å¦ç¼–è¾‘åŠç¼–è¾‘é¡µé¢æœªä¿å­˜ç¦»å¼€æ—¶ï¼Œç»™å‡ºå¼¹çª—æç¤º vueçš„.syncä¿®é¥°ç¬¦å¯ä»¥ç”¨è¡¨è¾¾å¼å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ v-ifå’Œv-showå“ªä¸ªä¼˜å…ˆçº§æ›´é«˜ï¼Ÿ å¦‚ä½•æ‰¹é‡å¼•å…¥ç»„ä»¶ï¼Ÿ vueçš„v-forå¦‚ä½•å€’åºè¾“å‡ºï¼Ÿ å¦‚ä½•åœ¨å…¨å±€ä½¿ç”¨axiosçš„å®ä¾‹å‘¢ï¼Ÿ v-showæŒ‡ä»¤ç®—æ˜¯é‡æ’å—ï¼Ÿ axiosåŒæ—¶è¯·æ±‚å¤šä¸ªæ¥å£ï¼Œå¦‚æœå½“tokenè¿‡æœŸæ—¶ï¼Œæ€ä¹ˆå–æ¶ˆåé¢çš„è¯·æ±‚ï¼Ÿ ä»0åˆ°1è‡ªå·±æ„æ¶ä¸€ä¸ªvueé¡¹ç›®ï¼Œè¯´è¯´æœ‰å“ªäº›æ­¥éª¤ã€å“ªäº›é‡è¦æ’ä»¶ã€ç›®å½•ç»“æ„ä½ ä¼šæ€ä¹ˆç»„ç»‡ ä½ çŸ¥é“vueçš„æ¨¡æ¿è¯­æ³•ç”¨çš„æ˜¯å“ªä¸ªwebæ¨¡æ¿å¼•æ“çš„å—ï¼Ÿè¯´è¯´ä½ å¯¹è¿™æ¨¡æ¿å¼•æ“çš„ç†è§£ ä½ çŸ¥é“v-modelçš„åŸç†å—ï¼Ÿè¯´è¯´çœ‹ ä½ æœ‰ä½¿ç”¨è¿‡vueå¼€å‘å¤šè¯­è¨€é¡¹ç›®å—ï¼Ÿè¯´è¯´ä½ çš„åšæ³•ï¼Ÿ åœ¨ä½¿ç”¨è®¡ç®—å±æ€§çš„æ—¶ï¼Œå‡½æ•°åå’Œdataæ•°æ®æºä¸­çš„æ•°æ®å¯ä»¥åŒåå—ï¼Ÿ vueä¸­dataçš„å±æ€§å¯ä»¥å’Œmethodsä¸­çš„æ–¹æ³•åŒåå—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ æ€ä¹ˆç»™vueå®šä¹‰å…¨å±€çš„æ–¹æ³•ï¼Ÿ vue2.0ä¸å†æ”¯æŒv-htmlä¸­ä½¿ç”¨è¿‡æ»¤å™¨äº†æ€ä¹ˆåŠï¼Ÿ æ€ä¹ˆè§£å†³vueæ‰“åŒ…åé™æ€èµ„æºå›¾ç‰‡å¤±æ•ˆçš„é—®é¢˜ï¼Ÿ æ€ä¹ˆè§£å†³vueåŠ¨æ€è®¾ç½®imgçš„srcä¸ç”Ÿæ•ˆçš„é—®é¢˜ï¼Ÿ ä½¿ç”¨vueåæ€ä¹ˆé’ˆå¯¹æœç´¢å¼•æ“åšSEOä¼˜åŒ–ï¼Ÿ è·Ÿkeep-aliveæœ‰å…³çš„ç”Ÿå‘½å‘¨æœŸæ˜¯å“ªäº›ï¼Ÿæè¿°ä¸‹è¿™äº›ç”Ÿå‘½å‘¨æœŸ å¦‚æœç°åœ¨è®©ä½ ä»vue/react/angularjsä¸‰ä¸ªä¸­é€‰æ‹©ä¸€ä¸ªï¼Œä½ ä¼šé€‰å“ªä¸ªï¼Ÿè¯´è¯´ä½ çš„ç†ç”± ä½ çŸ¥é“vue2.0å…¼å®¹IEå“ªä¸ªç‰ˆæœ¬ä»¥ä¸Šå—ï¼Ÿ ä½¿ç”¨vueå¼€å‘ä¸€ä¸ªtodoå°åº”ç”¨ï¼Œè°ˆä¸‹ä½ çš„æ€è·¯ ä½ æœ‰çœ‹è¿‡vueæ¨èçš„é£æ ¼æŒ‡å—å—ï¼Ÿåˆ—ä¸¾å‡ºä½ çŸ¥é“çš„å‡ æ¡ ä½ æ˜¯ä»vueå“ªä¸ªç‰ˆæœ¬å¼€å§‹ç”¨çš„ï¼Ÿä½ çŸ¥é“1.xå’Œ2.xæœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ ä½ çŸ¥é“vueä¸­keyçš„åŸç†å—ï¼Ÿè¯´è¯´ä½ å¯¹å®ƒçš„ç†è§£ vueä¸­æ€ä¹ˆé‡ç½®dataï¼Ÿ vueæ¸²æŸ“æ¨¡æ¿æ—¶æ€ä¹ˆä¿ç•™æ¨¡æ¿ä¸­çš„HTMLæ³¨é‡Šå‘¢ï¼Ÿ Vue.observableä½ æœ‰äº†è§£è¿‡å—ï¼Ÿè¯´è¯´çœ‹ ä½ çŸ¥é“styleåŠ scopedå±æ€§çš„ç”¨é€”å’ŒåŸç†å—ï¼Ÿ ä½ æœŸå¾…vue3.0æœ‰ä»€ä¹ˆåŠŸèƒ½æˆ–è€…æ”¹è¿›çš„åœ°æ–¹ï¼Ÿ vueè¾¹ç•Œæƒ…å†µæœ‰å“ªäº›ï¼Ÿ å¦‚ä½•åœ¨å­ç»„ä»¶ä¸­è®¿é—®çˆ¶ç»„ä»¶çš„å®ä¾‹ï¼Ÿ watchçš„å±æ€§ç”¨ç®­å¤´å‡½æ•°å®šä¹‰ç»“æœä¼šæ€ä¹ˆæ ·ï¼Ÿ åœ¨vueé¡¹ç›®ä¸­å¦‚æœmethodsçš„æ–¹æ³•ç”¨ç®­å¤´å‡½æ•°å®šä¹‰ç»“æœä¼šæ€ä¹ˆæ ·ï¼Ÿ åœ¨vueé¡¹ç›®ä¸­å¦‚ä½•é…ç½®faviconï¼Ÿ ä½ æœ‰ä½¿ç”¨è¿‡babel-polyfillæ¨¡å—å—ï¼Ÿä¸»è¦æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Ÿ è¯´è¯´ä½ å¯¹vueçš„é”™è¯¯å¤„ç†çš„äº†è§£ï¼Ÿ åœ¨vueäº‹ä»¶ä¸­ä¼ å…¥$eventï¼Œä½¿ç”¨e.targetå’Œe.currentTargetæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ åœ¨.vueæ–‡ä»¶ä¸­styleæ˜¯å¿…é¡»çš„å—ï¼Ÿé‚£scriptæ˜¯å¿…é¡»çš„å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ vueæ€ä¹ˆå®ç°å¼ºåˆ¶åˆ·æ–°ç»„ä»¶ï¼Ÿ vueè‡ªå®šä¹‰äº‹ä»¶ä¸­çˆ¶ç»„ä»¶æ€ä¹ˆæ¥æ”¶å­ç»„ä»¶çš„å¤šä¸ªå‚æ•°ï¼Ÿ å®é™…å·¥ä½œä¸­ï¼Œä½ æ€»ç»“çš„vueæœ€ä½³å®è·µæœ‰å“ªäº›ï¼Ÿ vueç»™ç»„ä»¶ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶æ— æ•ˆæ€ä¹ˆè§£å†³ï¼Ÿ vueçš„å±æ€§åç§°ä¸methodçš„æ–¹æ³•åç§°ä¸€æ ·æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Ÿ vueå˜é‡åå¦‚æœä»¥_ã€$å¼€å¤´çš„å±æ€§ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Ÿæ€ä¹ˆè®¿é—®åˆ°å®ƒä»¬çš„å€¼ï¼Ÿ vueä½¿ç”¨v-foréå†å¯¹è±¡æ—¶ï¼Œæ˜¯æŒ‰ä»€ä¹ˆé¡ºåºéå†çš„ï¼Ÿå¦‚ä½•ä¿è¯é¡ºåºï¼Ÿ vueå¦‚æœæƒ³æ‰©å±•æŸä¸ªç°æœ‰çš„ç»„ä»¶æ—¶ï¼Œæ€ä¹ˆåšå‘¢ï¼Ÿ è¯´ä¸‹$attrså’Œ$listenersçš„ä½¿ç”¨åœºæ™¯ åˆ†æä¸‹vueé¡¹ç›®æœ¬åœ°å¼€å‘å®Œæˆåéƒ¨ç½²åˆ°æœåŠ¡å™¨åæŠ¥404æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ v-onceçš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ è¯´è¯´ä½ å¯¹vueçš„è¡¨å•ä¿®é¥°ç¬¦.lazyçš„ç†è§£ vueä¸ºä»€ä¹ˆè¦æ±‚ç»„ä»¶æ¨¡æ¿åªèƒ½æœ‰ä¸€ä¸ªæ ¹å…ƒç´ ï¼Ÿ EventBusæ³¨å†Œåœ¨å…¨å±€ä¸Šæ—¶ï¼Œè·¯ç”±åˆ‡æ¢æ—¶ä¼šé‡å¤è§¦å‘äº‹ä»¶ï¼Œå¦‚ä½•è§£å†³å‘¢ï¼Ÿ æ€ä¹ˆä¿®æ”¹vueæ‰“åŒ…åç”Ÿæˆæ–‡ä»¶è·¯å¾„ï¼Ÿ ä½ æœ‰ä½¿ç”¨åšè¿‡vueä¸åŸç”Ÿappäº¤äº’å—ï¼Ÿè¯´è¯´vueä¸apäº¤äº’çš„æ–¹æ³• ä½¿ç”¨vueå†™ä¸€ä¸ªtabåˆ‡æ¢ vueä¸­ä»€ä¹ˆæ˜¯é€’å½’ç»„ä»¶ï¼Ÿä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸‹ï¼Ÿ æ€ä¹ˆè®¿é—®åˆ°å­ç»„ä»¶çš„å®ä¾‹æˆ–è€…å­å…ƒç´ ï¼Ÿ åœ¨å­ç»„ä»¶ä¸­æ€ä¹ˆè®¿é—®åˆ°çˆ¶ç»„ä»¶çš„å®ä¾‹ï¼Ÿ åœ¨ç»„ä»¶ä¸­æ€ä¹ˆè®¿é—®åˆ°æ ¹å®ä¾‹ï¼Ÿ è¯´è¯´ä½ å¯¹Object.definePropertyçš„ç†è§£ vueç»„ä»¶é‡Œå†™çš„åŸç”ŸaddEventListenersç›‘å¬äº‹ä»¶ï¼Œè¦æ‰‹åŠ¨å»é”€æ¯å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ vueç»„ä»¶é‡Œçš„å®šæ—¶å™¨è¦æ€ä¹ˆé”€æ¯ï¼Ÿ vueç»„ä»¶ä¼šåœ¨ä»€ä¹ˆæ—¶å€™ä¸‹è¢«é”€æ¯ï¼Ÿ ä½¿ç”¨vueæ¸²æŸ“å¤§é‡æ•°æ®æ—¶åº”è¯¥æ€ä¹ˆä¼˜åŒ–ï¼Ÿè¯´ä¸‹ä½ çš„æ€è·¯ï¼ åœ¨vueä¸­ä½¿ç”¨thisåº”è¯¥æ³¨æ„å“ªäº›é—®é¢˜ï¼Ÿ ä½ æœ‰ä½¿ç”¨è¿‡JSXå—ï¼Ÿè¯´è¯´ä½ å¯¹JSXçš„ç†è§£ è¯´è¯´ç»„ä»¶çš„å‘½åè§„èŒƒ æ€ä¹ˆé…ç½®ä½¿vue2.0+æ”¯æŒTypeScriptå†™æ³•ï¼Ÿ æœ‰ä»€ä¹ˆç”¨ï¼Ÿ vueçš„isè¿™ä¸ªç‰¹æ€§ä½ æœ‰ç”¨è¿‡å—ï¼Ÿä¸»è¦ç”¨åœ¨å“ªäº›æ–¹é¢ï¼Ÿ vueçš„:classå’Œ:styleæœ‰å‡ ç§è¡¨ç¤ºæ–¹å¼ï¼Ÿ ä½ äº†è§£ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç»„ä»¶å—ï¼Ÿ vueæ€ä¹ˆæ”¹å˜æ’å…¥æ¨¡æ¿çš„åˆ†éš”ç¬¦ï¼Ÿ ç»„ä»¶ä¸­å†™nameé€‰é¡¹æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ è¯´è¯´ä½ å¯¹provideå’Œinjectçš„ç†è§£ å¼€å‘è¿‡ç¨‹ä¸­æœ‰ä½¿ç”¨è¿‡devtoolså—ï¼Ÿ è¯´è¯´ä½ å¯¹slotçš„ç†è§£æœ‰å¤šå°‘ï¼Ÿslotä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ ä½ æœ‰ä½¿ç”¨è¿‡åŠ¨æ€ç»„ä»¶å—ï¼Ÿè¯´è¯´ä½ å¯¹å®ƒçš„ç†è§£ propéªŒè¯çš„typeç±»å‹æœ‰å“ªå‡ ç§ï¼Ÿ propæ˜¯æ€ä¹ˆåšéªŒè¯çš„ï¼Ÿå¯ä»¥è®¾ç½®é»˜è®¤å€¼å—ï¼Ÿ æ€ä¹ˆç¼“å­˜å½“å‰æ‰“å¼€çš„è·¯ç”±ç»„ä»¶ï¼Œç¼“å­˜åæƒ³æ›´æ–°å½“å‰ç»„ä»¶æ€ä¹ˆåŠå‘¢ï¼Ÿ è¯´è¯´ä½ å¯¹vueç»„ä»¶çš„è®¾è®¡åŸåˆ™çš„ç†è§£ ä½ äº†è§£vueçš„diffç®—æ³•å—ï¼Ÿ vueå¦‚ä½•ä¼˜åŒ–é¦–é¡µçš„åŠ è½½é€Ÿåº¦ï¼Ÿ vueæ‰“åŒ…æˆæœ€ç»ˆçš„æ–‡ä»¶æœ‰å“ªäº›ï¼Ÿ ajaxã€fetchã€axiosè¿™ä¸‰éƒ½æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ vueèƒ½ç›‘å¬åˆ°æ•°ç»„å˜åŒ–çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿä¸ºä»€ä¹ˆè¿™äº›æ–¹æ³•èƒ½ç›‘å¬åˆ°å‘¢ï¼Ÿ vueä¸­æ˜¯å¦‚ä½•ä½¿ç”¨eventå¯¹è±¡çš„ï¼Ÿ vueé¦–é¡µç™½å±æ˜¯ä»€ä¹ˆé—®é¢˜å¼•èµ·çš„ï¼Ÿå¦‚ä½•è§£å†³å‘¢ï¼Ÿ è¯´è¯´ä½ å¯¹å•å‘æ•°æ®æµå’ŒåŒå‘æ•°æ®æµçš„ç†è§£ ç§»åŠ¨ç«¯uiä½ ç”¨çš„æ˜¯å“ªä¸ªuiåº“ï¼Ÿæœ‰é‡åˆ°è¿‡ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ ä½ çŸ¥é“nextTickçš„åŸç†å—ï¼Ÿ è¯´è¯´ä½ å¯¹v-clockå’Œv-preæŒ‡ä»¤çš„ç†è§£ å†™å‡ºä½ çŸ¥é“çš„è¡¨å•ä¿®é¥°ç¬¦å’Œäº‹ä»¶ä¿®é¥°ç¬¦ è¯´è¯´ä½ å¯¹proxyçš„ç†è§£ ä½ æœ‰è‡ªå·±ç”¨vueå†™è¿‡UIç»„ä»¶åº“å—ï¼Ÿ ç”¨vueæ€ä¹ˆå®ç°ä¸€ä¸ªæ¢è‚¤çš„åŠŸèƒ½ï¼Ÿ æœ‰åœ¨vueä¸­ä½¿ç”¨è¿‡echartså—ï¼Ÿè¸©è¿‡å“ªäº›å‘ï¼Ÿå¦‚ä½•è§£å†³çš„ï¼Ÿ å¦‚æœè®©ä½ æ•™ä¸€ä¸ª2-3å¹´ç»éªŒå‰ç«¯ç»éªŒçš„åŒäº‹ä½¿ç”¨vueï¼Œä½ è¯¥æ€ä¹ˆæ•™ï¼Ÿ vueæ€§èƒ½çš„ä¼˜åŒ–çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ SSRè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿæœ‰åšè¿‡SSRå—ï¼Ÿä½ æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ è¯´è¯´ä½ è§‰å¾—è®¤ä¸ºçš„vueå¼€å‘è§„èŒƒæœ‰å“ªäº›ï¼Ÿ vueéƒ¨ç½²ä¸Šçº¿å‰éœ€è¦åšå“ªäº›å‡†å¤‡å·¥ä½œï¼Ÿ vueè¿‡æ¸¡åŠ¨ç”»å®ç°çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ vueåœ¨createdå’Œmountedè¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸä¸­è¯·æ±‚æ•°æ®æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ vueçˆ¶å­ç»„ä»¶åŒå‘ç»‘å®šçš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ vueæ€ä¹ˆè·å–DOMèŠ‚ç‚¹ï¼Ÿ vueé¡¹ç›®æœ‰åšè¿‡å•å…ƒæµ‹è¯•å—ï¼Ÿ vueé¡¹ç›®æœ‰ä½¿ç”¨è¿‡npm run build â€“reportå—ï¼Ÿ å¦‚ä½•è§£å†³vueæ‰“åŒ…vendorè¿‡å¤§çš„é—®é¢˜ï¼Ÿ webpackæ‰“åŒ…vueé€Ÿåº¦å¤ªæ…¢æ€ä¹ˆåŠï¼Ÿ vueåœ¨å¼€å‘è¿‡ç¨‹ä¸­è¦åŒæ—¶è·ŸNä¸ªä¸åŒçš„åç«¯äººå‘˜è”è°ƒæ¥å£ï¼ˆè¯·æ±‚çš„urlä¸ä¸€æ ·ï¼‰æ—¶ä½ è¯¥æ€ä¹ˆåŠï¼Ÿ vueè¦åšæƒé™ç®¡ç†è¯¥æ€ä¹ˆåšï¼Ÿå¦‚æœæ§åˆ¶åˆ°æŒ‰é’®çº§åˆ«çš„æƒé™æ€ä¹ˆåšï¼Ÿ è¯´ä¸‹ä½ çš„vueé¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œå¦‚æœæ˜¯å¤§å‹é¡¹ç›®ä½ è¯¥æ€ä¹ˆåˆ’åˆ†ç»“æ„å’Œåˆ’åˆ†ç»„ä»¶å‘¢ï¼Ÿ åœ¨ç§»åŠ¨ç«¯ä½¿ç”¨vueï¼Œä½ è§‰å¾—æœ€ä½³å®è·µæœ‰å“ªäº›ï¼Ÿ ä½ ä»¬é¡¹ç›®ä¸ºä»€ä¹ˆä¼šé€‰vueè€Œä¸é€‰æ‹©å…¶å®ƒçš„æ¡†æ¶å‘¢ï¼Ÿ å¯¹äºå³å°†åˆ°æ¥çš„vue3.0ç‰¹æ€§ä½ æœ‰ä»€ä¹ˆäº†è§£çš„å—ï¼Ÿ vueå¼€å‘è¿‡ç¨‹ä¸­ä½ æœ‰ä½¿ç”¨ä»€ä¹ˆè¾…åŠ©å·¥å…·å—ï¼Ÿ vueå’Œå¾®ä¿¡å°ç¨‹åºå†™æ³•ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ æ€ä¹ˆç¼“å­˜å½“å‰çš„ç»„ä»¶ï¼Ÿç¼“å­˜åæ€ä¹ˆæ›´æ–°ï¼Ÿ ä½ äº†è§£ä»€ä¹ˆæ˜¯é«˜é˜¶ç»„ä»¶å—ï¼Ÿå¯å¦ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸‹ï¼Ÿ ä¸ºä»€ä¹ˆæˆ‘ä»¬å†™ç»„ä»¶çš„æ—¶å€™å¯ä»¥å†™åœ¨.vueé‡Œå‘¢ï¼Ÿå¯ä»¥æ˜¯åˆ«çš„æ–‡ä»¶ååç¼€å—ï¼Ÿ vue-loaderæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ è¯´è¯´ä½ å¯¹vueçš„extendï¼ˆæ„é€ å™¨ï¼‰çš„ç†è§£ï¼Œå®ƒä¸»è¦æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Ÿ å¦‚æœå°†axioså¼‚æ­¥è¯·æ±‚åŒæ­¥åŒ–å¤„ç†ï¼Ÿ æ€ä¹ˆæ•è·ç»„ä»¶vueçš„é”™è¯¯ä¿¡æ¯ï¼Ÿ ä¸ºä»€ä¹ˆvueä½¿ç”¨å¼‚æ­¥æ›´æ–°ç»„ä»¶ï¼Ÿ å¦‚ä½•å®ç°ä¸€ä¸ªè™šæ‹ŸDOMï¼Ÿè¯´è¯´ä½ çš„æ€è·¯ å†™å‡ºå¤šç§å®šä¹‰ç»„ä»¶æ¨¡æ¿çš„æ–¹æ³• SPAå•é¡µé¢çš„å®ç°æ–¹å¼æœ‰å“ªäº›ï¼Ÿ è¯´è¯´ä½ å¯¹SPAå•é¡µé¢çš„ç†è§£ï¼Œå®ƒçš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ è¯´è¯´ä½ éƒ½ç”¨vueåšè¿‡å“ªäº›ç±»å‹çš„é¡¹ç›®ï¼Ÿ åœ¨vueé¡¹ç›®ä¸­å¦‚ä½•å¼•å…¥ç¬¬ä¸‰æ–¹åº“ï¼ˆæ¯”å¦‚jQueryï¼‰ï¼Ÿæœ‰å“ªäº›æ–¹æ³•å¯ä»¥åšåˆ°ï¼Ÿ ä½¿ç”¨vueæ‰‹å†™ä¸€ä¸ªè¿‡æ»¤å™¨ ä½ æœ‰ä½¿ç”¨è¿‡renderå‡½æ•°å—ï¼Ÿæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ å†™å‡ºä½ å¸¸ç”¨çš„æŒ‡ä»¤æœ‰å“ªäº›ï¼Ÿ æ‰‹å†™ä¸€ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤åŠå†™å‡ºå¦‚ä½•è°ƒç”¨ ç»„ä»¶è¿›æ¥è¯·æ±‚æ¥å£æ—¶ä½ æ˜¯æ”¾åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ ä½ æœ‰ç”¨è¿‡äº‹ä»¶æ€»çº¿(EventBus)å—ï¼Ÿè¯´è¯´ä½ çš„ç†è§£ è¯´è¯´vueçš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ DOMæ¸²æŸ“åœ¨å“ªä¸ªå‘¨æœŸä¸­å°±å·²ç»å®Œæˆäº†ï¼Ÿ ç¬¬ä¸€æ¬¡åŠ è½½é¡µé¢æ—¶ä¼šè§¦å‘å“ªå‡ ä¸ªé’©å­ï¼Ÿ vueç”Ÿå‘½å‘¨æœŸæ€»å…±æœ‰å‡ ä¸ªé˜¶æ®µï¼Ÿ vueç”Ÿå‘½å‘¨æœŸçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ vueå’Œangularæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ å¦‚ä½•å¼•å…¥scssï¼Ÿå¼•å…¥åå¦‚ä½•ä½¿ç”¨ï¼Ÿ ä½¿ç”¨vueå¼€å‘è¿‡ç¨‹ä½ æ˜¯æ€ä¹ˆåšæ¥å£ç®¡ç†çš„ï¼Ÿ ä¸ºä½•å®˜æ–¹æ¨èä½¿ç”¨axiosè€Œä¸ç”¨vue-resourceï¼Ÿ ä½ äº†è§£axiosçš„åŸç†å—ï¼Ÿæœ‰çœ‹è¿‡å®ƒçš„æºç å—ï¼Ÿ ä½ æœ‰å°è£…è¿‡axioså—ï¼Ÿä¸»è¦æ˜¯å°è£…å“ªæ–¹é¢çš„ï¼Ÿ å¦‚ä½•ä¸­æ–­axiosçš„è¯·æ±‚ï¼Ÿ axiosæ˜¯ä»€ä¹ˆï¼Ÿæ€æ ·ä½¿ç”¨å®ƒï¼Ÿæ€ä¹ˆè§£å†³è·¨åŸŸçš„é—®é¢˜ï¼Ÿ è¯´è¯´ä½ å¯¹vueçš„templateç¼–è¯‘çš„ç†è§£ï¼Ÿ v-onå¯ä»¥ç»‘å®šå¤šä¸ªæ–¹æ³•å—ï¼Ÿ vueå¸¸ç”¨çš„ä¿®é¥°ç¬¦æœ‰å“ªäº›ï¼Ÿåˆ—ä¸¾å¹¶è¯´æ˜ ä½ è®¤ä¸ºvueçš„æ ¸å¿ƒæ˜¯ä»€ä¹ˆï¼Ÿ v-modelæ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ è¯´è¯´ä½ å¯¹vueçš„mixinçš„ç†è§£ï¼Œæœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯ï¼Ÿ SPAé¦–å±åŠ è½½é€Ÿåº¦æ…¢çš„æ€ä¹ˆè§£å†³ï¼Ÿ åˆ é™¤æ•°ç»„ç”¨deleteå’ŒVue.deleteæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ åŠ¨æ€ç»™vueçš„dataæ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿæ€æ ·è§£å†³ï¼Ÿ ç»„ä»¶å’Œæ’ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ è¯´è¯´ä½ ä½¿ç”¨vueè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ï¼ˆå‘ï¼‰æœ‰å“ªäº›ï¼Œä½ æ˜¯æ€ä¹ˆè§£å†³çš„ï¼Ÿ è¯´è¯´ä½ å¯¹é€‰é¡¹el,template,renderçš„ç†è§£ vueå®ä¾‹æŒ‚è½½çš„è¿‡ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ vueåœ¨ç»„ä»¶ä¸­å¼•å…¥æ’ä»¶çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ v-ifå’Œv-forçš„ä¼˜å…ˆçº§æ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœè¿™ä¸¤ä¸ªåŒæ—¶å‡ºç°æ—¶ï¼Œé‚£åº”è¯¥æ€ä¹ˆä¼˜åŒ–æ‰èƒ½å¾—åˆ°æ›´å¥½çš„æ€§èƒ½ï¼Ÿ åˆ†åˆ«è¯´è¯´vueèƒ½ç›‘å¬åˆ°æ•°ç»„æˆ–å¯¹è±¡å˜åŒ–çš„åœºæ™¯ï¼Œè¿˜æœ‰å“ªäº›åœºæ™¯æ˜¯ç›‘å¬ä¸åˆ°çš„ï¼Ÿæ— æ³•ç›‘å¬æ—¶æœ‰ä»€ä¹ˆè§£å†³æ–¹æ¡ˆï¼Ÿ $nextTickæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ ä¸ºä»€ä¹ˆdataå±æ€§å¿…é¡»å£°æ˜ä¸ºè¿”å›ä¸€ä¸ªåˆå§‹æ•°æ®å¯¹åº”çš„å‡½æ•°å‘¢ï¼Ÿ æ€ä¹ˆåœ¨watchç›‘å¬å¼€å§‹ä¹‹åç«‹å³è¢«è°ƒç”¨ï¼Ÿ watchæ€ä¹ˆæ·±åº¦ç›‘å¬å¯¹è±¡å˜åŒ–ï¼Ÿ watchå’Œè®¡ç®—å±æ€§æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ vueå¦‚ä½•ç›‘å¬é”®ç›˜äº‹ä»¶ï¼Ÿ v-forå¾ªç¯ä¸­keyæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ æ€ä¹ˆåœ¨vueä¸­ä½¿ç”¨æ’ä»¶ï¼Ÿ ä½ æœ‰å†™è¿‡è‡ªå®šä¹‰ç»„ä»¶å—ï¼Ÿ è¯´è¯´ä½ å¯¹keep-aliveçš„ç†è§£æ˜¯ä»€ä¹ˆï¼Ÿ æ€ä¹ˆä½¿cssæ ·å¼åªåœ¨å½“å‰ç»„ä»¶ä¸­ç”Ÿæ•ˆï¼Ÿ ä½ æœ‰çœ‹è¿‡vueçš„æºç å—ï¼Ÿå¦‚æœæœ‰é‚£å°±è¯´è¯´çœ‹ ä½ æœ‰å†™è¿‡è‡ªå®šä¹‰æŒ‡ä»¤å—ï¼Ÿè‡ªå®šä¹‰æŒ‡ä»¤çš„ç”Ÿå‘½å‘¨æœŸï¼ˆé’©å­å‡½æ•°ï¼‰æœ‰å“ªäº›ï¼Ÿ v-showå’Œv-ifæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä½¿ç”¨åœºæ™¯åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ è¯´è¯´ä½ å¯¹MVCã€MVPã€MVVMæ¨¡å¼çš„ç†è§£ è¯´ä¸‹ä½ å¯¹æŒ‡ä»¤çš„ç†è§£ï¼Ÿ è¯·æè¿°ä¸‹vueçš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆï¼Ÿ vueç»„ä»¶ä¹‹é—´çš„é€šä¿¡éƒ½æœ‰å“ªäº›ï¼Ÿ ä»€ä¹ˆæ˜¯è™šæ‹ŸDOMï¼Ÿ ä»€ä¹ˆæ˜¯åŒå‘ç»‘å®šï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ vueå’Œreactæœ‰ä»€ä¹ˆä¸åŒï¼Ÿä½¿ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ è¯´è¯´vueçš„ä¼˜ç¼ºç‚¹ æœ‰ä½¿ç”¨è¿‡vueå—ï¼Ÿè¯´è¯´ä½ å¯¹vueçš„ç†è§£ vue-cli vue-cliæä¾›äº†çš„å“ªå‡ ç§è„šæ‰‹æ¶æ¨¡æ¿ï¼Ÿ vue-cliå·¥ç¨‹ä¸­å¸¸ç”¨çš„npmå‘½ä»¤æœ‰å“ªäº›ï¼Ÿ åœ¨ä½¿ç”¨vue-cliå¼€å‘vueé¡¹ç›®æ—¶ï¼Œè‡ªåŠ¨åˆ·æ–°é¡µé¢çš„åŸç†ä½ äº†è§£å—ï¼Ÿ vue-cli3æ’ä»¶æœ‰å†™è¿‡å—ï¼Ÿæ€ä¹ˆå†™ä¸€ä¸ªä»£ç ç”Ÿæˆæ’ä»¶ï¼Ÿ vue-cliç”Ÿæˆçš„é¡¹ç›®å¯ä»¥ä½¿ç”¨es6ã€es7çš„è¯­æ³•å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ vue-cliæ€ä¹ˆè§£å†³è·¨åŸŸçš„é—®é¢˜ï¼Ÿ vue-cliä¸­ä½ ç»å¸¸çš„åŠ è½½å™¨æœ‰å“ªäº›ï¼Ÿ ä½ çŸ¥é“ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶å—ï¼Ÿ è¯´ä¸‹ä½ äº†è§£çš„vue-cliåŸç†ï¼Ÿä½ å¯ä»¥è‡ªå·±å®ç°ä¸ªç±»vue-cliå—ï¼Ÿ æ€ä¹ˆä½¿ç”¨vue-cli3åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Ÿ vue-cli3ä½ æœ‰ä½¿ç”¨è¿‡å—ï¼Ÿå®ƒå’Œ2.xç‰ˆæœ¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ vue-clié»˜è®¤æ˜¯å•é¡µé¢çš„ï¼Œé‚£è¦å¼„æˆå¤šé¡µé¢è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ ä¸ç”¨vue-cliï¼Œä½ è‡ªå·±æœ‰æ­å»ºè¿‡vueçš„å¼€å‘ç¯å¢ƒå—ï¼Ÿæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ vue-router vue-routeræ€ä¹ˆé‡å®šå‘é¡µé¢ï¼Ÿ vue-routeræ€ä¹ˆé…ç½®404é¡µé¢ï¼Ÿ åˆ‡æ¢è·¯ç”±æ—¶ï¼Œéœ€è¦ä¿å­˜è‰ç¨¿çš„åŠŸèƒ½ï¼Œæ€ä¹ˆå®ç°å‘¢ï¼Ÿ vue-routerè·¯ç”±æœ‰å‡ ç§æ¨¡å¼ï¼Ÿè¯´è¯´å®ƒä»¬çš„åŒºåˆ«ï¼Ÿ vue-routeræœ‰å“ªå‡ ç§å¯¼èˆªé’©å­ï¼ˆ å¯¼èˆªå®ˆå« ï¼‰ï¼Ÿ è¯´è¯´ä½ å¯¹router-linkçš„äº†è§£ vue-routerå¦‚ä½•å“åº”è·¯ç”±å‚æ•°çš„å˜åŒ–ï¼Ÿ ä½ æœ‰çœ‹è¿‡vue-routerçš„æºç å—ï¼Ÿè¯´è¯´çœ‹ åˆ‡æ¢åˆ°æ–°è·¯ç”±æ—¶ï¼Œé¡µé¢è¦æ»šåŠ¨åˆ°é¡¶éƒ¨æˆ–ä¿æŒåŸå…ˆçš„æ»šåŠ¨ä½ç½®æ€ä¹ˆåšå‘¢ï¼Ÿ åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ä¼šç”¨åˆ°åµŒå¥—è·¯ç”±ï¼Ÿ å¦‚ä½•è·å–è·¯ç”±ä¼ è¿‡æ¥çš„å‚æ•°ï¼Ÿ è¯´è¯´active-classæ˜¯å“ªä¸ªç»„ä»¶çš„å±æ€§ï¼Ÿ åœ¨vueç»„ä»¶ä¸­æ€ä¹ˆè·å–åˆ°å½“å‰çš„è·¯ç”±ä¿¡æ¯ï¼Ÿ vur-routeræ€ä¹ˆé‡å®šå‘ï¼Ÿ æ€æ ·åŠ¨æ€åŠ è½½è·¯ç”±ï¼Ÿ æ€ä¹ˆå®ç°è·¯ç”±æ‡’åŠ è½½å‘¢ï¼Ÿ å¦‚æœè®©ä½ ä»é›¶å¼€å§‹å†™ä¸€ä¸ªvueè·¯ç”±ï¼Œè¯´è¯´ä½ çš„æ€è·¯ è¯´è¯´vue-routerå®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ è·¯ç”±ä¹‹é—´æ˜¯æ€ä¹ˆè·³è½¬çš„ï¼Ÿæœ‰å“ªäº›æ–¹å¼ï¼Ÿ å¦‚æœvue-routerä½¿ç”¨historyæ¨¡å¼ï¼Œéƒ¨ç½²æ—¶è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ routeå’Œrouteræœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ vue-routeré’©å­å‡½æ•°æœ‰å“ªäº›ï¼Ÿéƒ½æœ‰å“ªäº›å‚æ•°ï¼Ÿ vue-routeræ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Ÿå®ƒæœ‰å“ªäº›ç»„ä»¶ï¼Ÿ vuex ä½ æœ‰å†™è¿‡vuexä¸­storeçš„æ’ä»¶å—ï¼Ÿ ä½ æœ‰ä½¿ç”¨è¿‡vuexçš„moduleå—ï¼Ÿä¸»è¦æ˜¯åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ä½¿ç”¨ï¼Ÿ vuexä¸­actionså’Œmutationsæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ vuexä½¿ç”¨actionsæ—¶ä¸æ”¯æŒå¤šå‚æ•°ä¼ é€’æ€ä¹ˆåŠï¼Ÿ ä½ è§‰å¾—vuexæœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ ä½ è§‰å¾—è¦æ˜¯ä¸ç”¨vuexçš„è¯ä¼šå¸¦æ¥å“ªäº›é—®é¢˜ï¼Ÿ vuexæ€ä¹ˆçŸ¥é“stateæ˜¯é€šè¿‡mutationä¿®æ”¹è¿˜æ˜¯å¤–éƒ¨ç›´æ¥ä¿®æ”¹çš„ï¼Ÿ è¯·æ±‚æ•°æ®æ˜¯å†™åœ¨ç»„ä»¶çš„methodsä¸­è¿˜æ˜¯åœ¨vuexçš„actionä¸­ï¼Ÿ æ€ä¹ˆç›‘å¬vuexæ•°æ®çš„å˜åŒ–ï¼Ÿ vuexçš„actionå’Œmutationçš„ç‰¹æ€§æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ é¡µé¢åˆ·æ–°åvuexçš„stateæ•°æ®ä¸¢å¤±æ€ä¹ˆè§£å†³ï¼Ÿ vuexçš„stateã€getterã€mutationã€actionã€moduleç‰¹æ€§åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ vuexçš„storeæœ‰å‡ ä¸ªå±æ€§å€¼ï¼Ÿåˆ†åˆ«è®²è®²å®ƒä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ ä½ ç†è§£çš„vuexæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå“ªäº›åœºæ™¯ä¼šç”¨åˆ°ï¼Ÿä¸ç”¨ä¼šæœ‰é—®é¢˜å—ï¼Ÿæœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ ä½¿ç”¨vuexçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ æœ‰ç”¨è¿‡vuexå—ï¼Ÿå®ƒä¸»è¦è§£å†³çš„æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Ÿæ¨èåœ¨å“ªäº›åœºæ™¯ç”¨ï¼Ÿ ElementUI ä½¿ç”¨Element UIè¡¨æ ¼å¦‚ä½•è®¾ç½®åˆ—å®½çš„å®½åº¦è‡ªé€‚åº”ï¼Ÿ Element UIçš„è¡¨æ ¼ï¼Œç‚¹å‡»ç¼–è¾‘è·³è½¬åˆ°ç¼–è¾‘é¡µé¢ï¼Œç¼–è¾‘å®Œæˆè¿”å›åˆ°åˆ—è¡¨é¡µé¢ï¼Œè¿˜è¿”å›åˆ°åŸåˆ†é¡µåˆ—è¡¨ ä½¿ç”¨elementUIçš„è¡¨æ ¼ç»„ä»¶æ—¶ï¼Œåœ¨æœ‰å¤šé¡µçš„æƒ…å†µä¸‹ï¼Œå¤šé€‰æ¡†å¦‚ä½•è·¨é¡µé€‰æ‹©ï¼Ÿ ElementUIæ˜¯æ€ä¹ˆåšè¡¨å•éªŒè¯çš„ï¼Ÿåœ¨å¾ªç¯é‡Œå¯¹æ¯ä¸ªinputéªŒè¯æ€ä¹ˆåšå‘¢ï¼Ÿ ä½ æœ‰äºŒæ¬¡å°è£…è¿‡ElementUIç»„ä»¶å—ï¼Ÿ ElementUIæ€ä¹ˆä¿®æ”¹ç»„ä»¶çš„é»˜è®¤æ ·å¼ï¼Ÿ ElementUIçš„ç©¿æ¢­ç»„ä»¶å¦‚æœæ•°æ®é‡å¤§ä¼šå˜å¡æ€ä¹ˆè§£å†³ä¸å¡çš„é—®é¢˜å‘¢ï¼Ÿ ElementUIè¡¨æ ¼ç»„ä»¶å¦‚ä½•å®ç°åŠ¨æ€è¡¨å¤´ï¼Ÿ ElementUIä½¿ç”¨è¡¨æ ¼ç»„ä»¶æ—¶æœ‰é‡åˆ°è¿‡é—®é¢˜å—ï¼Ÿ æœ‰é˜…è¯»è¿‡ElementUIçš„æºç å—ï¼Ÿ é¡¹ç›®ä¸­æœ‰ä½¿ç”¨è¿‡ElementUIå—ï¼Ÿæœ‰é‡åˆ°è¿‡å“ªäº›é—®é¢˜ï¼Ÿå®ƒçš„ä½¿ç”¨åœºæ™¯ä¸»è¦æ˜¯å“ªäº›ï¼Ÿ æœ‰ç”¨è¿‡å“ªäº›vueçš„uiï¼Ÿè¯´è¯´å®ƒä»¬çš„ä¼˜ç¼ºç‚¹ï¼Ÿ mint-ui mint-uiä½¿ç”¨è¿‡ç¨‹ä¸­æœ‰æ²¡æœ‰é‡åˆ°ä»€ä¹ˆå‘ï¼Ÿæ€ä¹ˆè§£å†³çš„ï¼Ÿ è¯´å‡ºå‡ ä¸ªmint-uiå¸¸ç”¨çš„ç»„ä»¶ mint-uiæ˜¯ä»€ä¹ˆï¼Ÿä½ æœ‰ä½¿ç”¨è¿‡å—ï¼Ÿ","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"},{"name":"é¢è¯•é¢˜","slug":"é¢è¯•é¢˜","permalink":"https://yangyfeng.github.io/blogpost/tags/é¢è¯•é¢˜/"}]},{"title":"å¯è§†åŒ–å®šåˆ¶å¼€å‘","slug":"æˆ‘çš„é¡¹ç›®å±•ç¤º/å¯è§†åŒ–å®šåˆ¶å¼€å‘","date":"2021-03-04T16:00:00.000Z","updated":"2021-03-27T06:24:34.645Z","comments":true,"path":"/posts/aab0fbb9.html","link":"","permalink":"https://yangyfeng.github.io/posts/aab0fbb9.html","excerpt":"","text":"å®šåˆ¶å¼€å‘ ç”¨æˆ·ä¸šåŠ¡éœ€æ±‚ä¸ºåŸºç¡€ï¼Œè®¾è®¡å‡ºå®¢æˆ·æ»¡æ„çš„æ–¹æ¡ˆï¼Œå‰ç«¯æ ¹æ®è®¾è®¡å›¾1:1å®Œæˆå¼€å‘ã€‚ åŒ…æ‹¬å„ç±»å›¾è¡¨å±•ç¤ºå…ƒç´ ï¼Œåœ°ç†ä½ç½®ä¿¡æ¯å±•ç¤ºå•å…ƒï¼ˆGisã€çŸ¢é‡ã€3dåœ°çƒç­‰ï¼‰ï¼Œäº¤äº’æ•ˆæœï¼ˆé…·ç‚«åŠ¨ç”»ï¼Œç”¨æˆ·äº¤äº’ï¼Œå±•ç¤ºæ•ˆæœç­‰ï¼‰ï¼Œå®æ•°æ•°æ®ç›‘æ§ï¼Œå‘Šè­¦åé¦ˆï¼Œæ§åˆ¶ç­‰ã€‚ äº¤äº’ç»™å®¢æˆ·å°±æ˜¯ä¸€å¥—å®Œæ•´çš„å¯è¿è¡Œçš„ç¨‹åºï¼Œæ•°æ®æ¥å£æˆ‘ä»¬å¯ä»¥å¼€å‘æˆ–è€…ç›´æ¥å¯¹æ¥å®¢æˆ·æä¾›çš„æ•°æ®æ¥å£ã€‚ æ…§ç›¾ç½‘ç»œç›‘æ§è®¾å¤‡ç½‘ç»œç›‘æ§ï¼Œæ•°æ®å®‰å…¨ã€‚ è§†é¢‘å®‰å…¨æŒ‡æŒ¥ä¸­å¿ƒ å…¨å±€å®‰å…¨ç›‘æµ‹ ä¸œèƒœç”µå‚ ä¸­å›½çŸ³åŒ–å®‰å¾½çŸ³æ²¹å¯è§†åŒ–æ™ºæ…§è°ƒåº¦å¹³å°","categories":[{"name":"ä¸ªäººé¡¹ç›®","slug":"ä¸ªäººé¡¹ç›®","permalink":"https://yangyfeng.github.io/blogpost/categories/ä¸ªäººé¡¹ç›®/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/tags/å‰ç«¯/"},{"name":"æ•°æ®å¯è§†åŒ–","slug":"æ•°æ®å¯è§†åŒ–","permalink":"https://yangyfeng.github.io/blogpost/tags/æ•°æ®å¯è§†åŒ–/"}]},{"title":"åº”æ€¥ç®¡ç†ä¸­å¿ƒ åˆ‘ä¾¦æ¡ˆä»¶åœ°ç†ä¿¡æ¯å¯è§†åŒ–å±•ç¤ºç³»ç»Ÿ","slug":"æˆ‘çš„é¡¹ç›®å±•ç¤º/åº”æ€¥ç®¡ç†ä¸­å¿ƒå±•ç¤ºå¹³å°","date":"2021-03-04T16:00:00.000Z","updated":"2021-03-27T06:24:34.647Z","comments":true,"path":"/posts/f2d2e0b4.html","link":"","permalink":"https://yangyfeng.github.io/posts/f2d2e0b4.html","excerpt":"","text":"ä»‹ç»åˆ‘ä¾¦æ¡ˆä»¶åœ°ç†ä¿¡æ¯å¯è§†åŒ–å±•ç¤ºç³»ã€‚ä¸ºå›½å®¶äº’è”ç½‘åº”æ€¥åè°ƒä¸­å¿ƒä¸šåŠ¡ä¸“å®¶æä¾›å‰ç«¯ä¸šåŠ¡æ•°æ®å’Œä¸šåŠ¡æµç¨‹çš„å®æ—¶æ€§å±•ç¤ºï¼Œä»¥æ»¡è¶³æ•°æ®å»ºæ¨¡å’Œä¸šåŠ¡å»ºæ¨¡ä¹‹åçš„ä¸šåŠ¡åˆ†æï¼Œå®ç°æœ‰æ•ˆçš„æ€åŠ¿æ„ŸçŸ¥ã€å®æ—¶é¢„è­¦å‘Šè­¦ï¼Œè¿½æº¯åˆ†æåå±•ç¤ºç­‰èƒ½åŠ›ã€‚ç»¼åˆäº†å„ç±»ç‰¹ç‚¹ï¼Œå°†å¤æ‚è€Œå‡Œä¹±çš„æ•°æ®æ›´åŠ ç›´è§‚çš„å±•ç¤ºåœ¨å±å¹•ä¸Šï¼Œåšåˆ°â€œç²¾å‡†æ‰“å‡»â€ï¼Œâ€œä¸€ç›®äº†ç„¶â€ã€‚ æ•°æ®ä»·å€¼å±•ç¤º ä»¥æ•°æ®ä¸ºä¸­å¿ƒï¼Œè¿‡æ»¤å’Œåˆ†æå°†æ•°æ®çš„ä»·å€¼çœŸå®çš„å±•ç¤ºå‡ºæ¥ è§†è§‰ç¾è§‚åº¦ ä¿éšœé¡µé¢ç¾è§‚ç¨‹åº¦ä¸å±•ç¤ºæ•ˆæœç¬¦åˆå¤§ä¼—åŒ–å®¡ç¾ä¸æµè¡Œå…ƒç´  ä¸šåŠ¡æ ¸å¿ƒä»·å€¼ æ•°æ®æŒ‡æ ‡æ»¡è¶³æ ¸å¿ƒä¸šåŠ¡ï¼ŒçœŸæ­£çš„ä¸ºä¸šåŠ¡è®¾è®¡ï¼Œä¸šåŠ¡æœåŠ¡ å±•ç¤ºå±‚æ¬¡åŒ– å‘ˆç°ä¿¡æ¯è¦æœ‰æ•´ä½“çš„å±‚æ¬¡ï¼Œç¬¦åˆå¯è§†åŒ–è§†åŸŸï¼ŒæŠŠæœ€ç›´è§‚çš„å†…å®¹ç¬¬ä¸€æ—¶é—´å±•ç°ç»™ä½¿ç”¨è€… ä¸šåŠ¡ä¸šåŠ¡åŒ…å«å¦‚ä¸‹ï¼š åœ°ç†ä¿¡æ¯åˆ†å¸ƒåˆ†æï¼šå¯¹ä¸»è¦ä¸šåŠ¡åœ¨å›½å®¶ã€çœã€åŸå¸‚çš„ç›¸å…³æ€åŠ¿åˆ†å¸ƒæƒ…å†µã€‚ è®¾å¤‡å®‰å…¨éšæ‚£ï¼šè®¾å¤‡å®‰å…¨éšæ‚£çš„åˆ†æï¼Œæ˜¯è·¯ç”±å™¨è®¾å¤‡å‘ç°å’Œæ¼æ´æŒ–æ˜éªŒè¯çš„ä¸šåŠ¡å‘ˆç°ã€‚ å®‰å…¨æ€§å½±å“èŒƒå›´ï¼šåŒ…æ‹¬åœ°ç†èŒƒå›´ï¼Œæ¡ˆä»¶èŒƒå›´ï¼Œäººå‘˜èŒƒå›´ã€è®¾å¤‡åˆ†å¸ƒç­‰å¤šç§ä¸šåŠ¡çš„æ±‡æ€»å‘ˆç°ã€‚ æ¡ˆä»¶ä¿¡æ¯ï¼šåŒ…æ‹¬æ¡ˆä»¶ç±»å‹åˆ†æå’Œè¿›å±•åˆ†æã€‚ æ¡ˆä»¶é¢„è­¦ï¼šå¯¹é¢„è­¦æƒ…å†µè¿›è¡Œåˆ†æã€‚ äººå‘˜åˆ†æï¼šåˆ†æå«Œç–‘äººï¼Œå—å®³äººæƒ…å†µã€‚ æ¶‰æ¡ˆé‡‘é¢åˆ†æï¼šæ¡ˆä»¶ç±»å‹åˆ’åˆ†æ¶‰æ¡ˆé‡‘é¢ç­‰å†…å®¹ã€‚ æ—¶é—´ç»´åº¦åˆ†æï¼šæŒ‰ä¸åŒçš„æ—¶é—´ç‚¹åˆ†æä¸åŒçš„æ•°æ®ï¼Œå¦‚â€œè¿‘å…­ä¸ªæœˆæ¡ˆå‘é‡ç¯æ¯”å¢é•¿â€ï¼Œå¹´åº¦ï¼Œå­£åº¦ï¼Œæœˆä»½ï¼Œé€‰å®šæ—¶é—´æ®µç­‰å†…å®¹ã€‚ å…³è”åˆ†æï¼šåŒ…æ‹¬å…³ç³»å›¾è°±åœ¨å†…çš„å„ç§ï¼Œå¤šç»´åº¦åˆ†æå†…å®¹ã€‚ åŠŸèƒ½è¯¦è§£GISåœ°å›¾å±•ç¤ºæ¡ˆä»¶å…³ç³» æ¡ˆä»¶æ•°æ®ç»Ÿè®¡ä¸åˆ†æ","categories":[{"name":"ä¸ªäººé¡¹ç›®","slug":"ä¸ªäººé¡¹ç›®","permalink":"https://yangyfeng.github.io/blogpost/categories/ä¸ªäººé¡¹ç›®/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/tags/å‰ç«¯/"}]},{"title":"QTV2ç›´æ’­å•†åŸ","slug":"æˆ‘çš„é¡¹ç›®å±•ç¤º/QTV2ç›´æ’­å•†åŸ","date":"2021-03-03T16:00:00.000Z","updated":"2021-03-27T06:24:34.644Z","comments":true,"path":"/posts/b1fde4c6.html","link":"","permalink":"https://yangyfeng.github.io/posts/b1fde4c6.html","excerpt":"é¡¹ç›®æè¿°QTV-2ç›´æ’­ç”Ÿæ´»ä¾›è´§å•†å…¥é©»ç³»ç»Ÿï¼Œè¿è¡Œåœ¨å¾®ä¿¡å…¬ä¼—å·ï¼Œ é›†èµ„è®¯çŸ­è§†é¢‘ï¼Œç”µå•†ç›´æ’­ï¼Œè´­ç‰©å•†åŸä¸ºä¸€ä½“çš„é’å²›å¹¿ç”µç”Ÿæ´»æœåŠ¡å¹³å° ã€‚ å…¶åŠŸèƒ½ä¸»è¦æœ‰ç›´æ’­æ‰“èµï¼Œç›´æ’­æŠ½å¥–ï¼Œä¼šå‘˜åˆ¶ï¼Œå•†å“åˆ†äº«ï¼Œå¼¹å¹•è¯„è®ºç­‰ã€‚å¾®ä¿¡æœç´¢â€œQTVè›¤èœŠå¸®â€ï¼Œå³å¯è¿›å…¥ã€‚ ç³»ç»Ÿç»“æ„è¯´æ˜æ ¸å¿ƒæ¨¡å‹ ä¸šåŠ¡æ¶æ„ ä¸šåŠ¡ä»‹ç»äº§å“åˆ†ç±» æ¨èã€å¤§ç‰ŒMALLï¼ˆå•†è¶…å¤§ç‰Œï¼‰ã€æ‰¶å†œåŠ©å†œã€å·¥å‚æ¸…ä»“ã€æ¯å©´äº²å­ã€ç¾é£Ÿç¾å‘³ã€ç å…‰å®æ°”ã€æ½®æ­æ”»ç•¥ã€ä¹å®¶ç”Ÿæ´»ã€ç¾å¦†å¿ƒå¾—ç­‰","text":"é¡¹ç›®æè¿°QTV-2ç›´æ’­ç”Ÿæ´»ä¾›è´§å•†å…¥é©»ç³»ç»Ÿï¼Œè¿è¡Œåœ¨å¾®ä¿¡å…¬ä¼—å·ï¼Œ é›†èµ„è®¯çŸ­è§†é¢‘ï¼Œç”µå•†ç›´æ’­ï¼Œè´­ç‰©å•†åŸä¸ºä¸€ä½“çš„é’å²›å¹¿ç”µç”Ÿæ´»æœåŠ¡å¹³å° ã€‚ å…¶åŠŸèƒ½ä¸»è¦æœ‰ç›´æ’­æ‰“èµï¼Œç›´æ’­æŠ½å¥–ï¼Œä¼šå‘˜åˆ¶ï¼Œå•†å“åˆ†äº«ï¼Œå¼¹å¹•è¯„è®ºç­‰ã€‚å¾®ä¿¡æœç´¢â€œQTVè›¤èœŠå¸®â€ï¼Œå³å¯è¿›å…¥ã€‚ ç³»ç»Ÿç»“æ„è¯´æ˜æ ¸å¿ƒæ¨¡å‹ ä¸šåŠ¡æ¶æ„ ä¸šåŠ¡ä»‹ç»äº§å“åˆ†ç±» æ¨èã€å¤§ç‰ŒMALLï¼ˆå•†è¶…å¤§ç‰Œï¼‰ã€æ‰¶å†œåŠ©å†œã€å·¥å‚æ¸…ä»“ã€æ¯å©´äº²å­ã€ç¾é£Ÿç¾å‘³ã€ç å…‰å®æ°”ã€æ½®æ­æ”»ç•¥ã€ä¹å®¶ç”Ÿæ´»ã€ç¾å¦†å¿ƒå¾—ç­‰ è§†é¢‘å¹¿åœº å¯ä»¥åœ¨è¿™é‡Œçœ‹ç›´æ’­å–è´§ï¼Œä¹Ÿèƒ½çœ‹å½•æ’­çš„å•†å“ä»‹ç»è§†é¢‘ã€‚ ä¼šå‘˜ç®¡ç† å¾®ä¿¡è·å–ç”¨æˆ·ä¿¡æ¯ï¼ˆå¾®ä¿¡å¤´åƒ é€šè®¯å½• åœ°ç†ä½ç½® ä¼šå‘˜å ç”µè¯ å½“å‰ç™»å½•åœ° å¸¸æ´»åŠ¨åœ° æ”¶è´§åœ°å€ æ™®é€šç”¨æˆ· åˆ†é”€ç”¨æˆ· ç­‰çº§ æ€§åˆ« è´­ä¹°å–œå¥½ï¼‰ã€‚ ä¼šå‘˜ç­‰çº§æœ‰ç”¨æˆ·è´­ä¹°çš„å•†å“ç´¯è®¡é‡‘é¢æ¥æ ¸ç®—ã€‚ å•†å“ç®¡ç† ç”¨æˆ·å¯ä»¥åœ¨åå°æ·»åŠ è‡ªå·±çš„å•†å“ï¼ˆå•†å“å°é¢ æ ‡é¢˜ ä»·æ ¼ å•†å®¶ ï¼‰ï¼Œåœ¨å‰å°è´­ä¹°ç”¨æˆ·è¿˜å¯ä»¥çœ‹åˆ°ï¼Œä»Šæ—¥é”€é‡ æ˜¨æ—¥é”€é‡ æ€»é”€é‡ æ€»é”€å”®é¢ ä¸Šæ¶æ—¶é—´ã€‚ å½“ç„¶å•†æˆ·ä¹Ÿå¯ä»¥åœ¨åå°ä¸‹æ¶å•†å“ï¼Œè®¾ç½®æ»¡å‡å’ŒæŠ˜æ‰£ä¼˜æƒ ï¼Œé™è´­æ•°é‡ï¼Œä¸‹æ¶å•†å“ï¼Œè´­ä¹°æ–¹å¼åŒ…æ‹¬è‡ªæï¼ˆçº¿ä¸‹å®ä½“æµé‡å¯¼å…¥ï¼‰é€è´§åˆ°å®¶ç­‰ã€‚ ç›´æ’­å½•æ’­ç®¡ç† å½•æ’­ï¼šåœ¨åå°å•†æˆ·å¯ä»¥æ‰‹åŠ¨ä¸Šä¼ å•†å“ï¼Œå¹¶å…³è”å•†å“ä¸­çš„å•†å“ï¼Œå†å®¡æ ¸æˆ–ç¦æ’­ã€‚æƒé‡è§„åˆ™ï¼Œ æŒ‰ç…§é”€é‡+ä¸Šæ–°+è¯„ä»·ç¡®å®šå±•ç¤ºçš„ä¼˜å…ˆé¡ºåºã€‚ ç›´æ’­ï¼šå•†æˆ·å¯ä»¥é¢„çº¦ä¸€æ¬¡ç›´æ’­ï¼Œç”šè‡³å¯ä»¥åœ¨ç›´æ’­ä¸­å¼€å¯æŠ½å¥–æ´»åŠ¨ã€‚ å•†æˆ·ç®¡ç† åœ¨åå°éœ€è¦å®¡æ ¸å•†æˆ·ã€‚ å…¥ä½å®¡æ ¸ï¼š ä¾›è´§å•†ï¼ˆå·¥å‚ï¼‰/é—¨åº—ï¼ˆå®ä½“ï¼‰å…¥ä½å®¡æ ¸ï¼ˆåŸºæœ¬å…¬å¸ä¿¡æ¯+è¡Œä¸šç‰¹æ®Šè¯ä»¶ï¼‰ æ¸ é“å•†å…¥ä½å®¡æ ¸ï¼ˆåŸºæœ¬å…¬å¸ä¿¡æ¯+ä¼šå‘˜æ•°é‡æˆªå›¾ï¼‰ ç‰¹æ®Šæƒé™ï¼š å¼€å¯è´­ä¹°è·³è½¬åˆ°ä»–ä»¬çš„è‡ªå»ºè´­ç‰©ç½‘ç«™ã€‚ å•†æˆ·è¥é”€ å•†æˆ·å¯ä»¥å¼€å¯ä¸€äº›è¥é”€æ´»åŠ¨æ¥å¸æ”¶æµé‡ã€‚ ä¾‹å¦‚ï¼ŒæŠ•ç¥¨ï¼ˆç‰¹æ®Šè¦æ±‚-èŒå®è§†é¢‘pkæŠ•ç¥¨â€”è½¬åŒ–ç”¨æˆ·æ•°ä¸æ´»è·ƒåº¦ï¼‰ æ‹¼å›¢ é™æ—¶è´­ç­‰ã€‚","categories":[{"name":"ä¸ªäººé¡¹ç›®","slug":"ä¸ªäººé¡¹ç›®","permalink":"https://yangyfeng.github.io/blogpost/categories/ä¸ªäººé¡¹ç›®/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/tags/å‰ç«¯/"}]},{"title":"ååŒ—ç”µåŠ›æ§åˆ¶ç³»ç»Ÿ","slug":"æˆ‘çš„é¡¹ç›®å±•ç¤º/ååŒ—ç”µåŠ›æ§åˆ¶ç³»ç»Ÿ","date":"2021-02-22T16:00:00.000Z","updated":"2021-03-27T06:24:34.645Z","comments":true,"path":"/posts/763ea06e.html","link":"","permalink":"https://yangyfeng.github.io/posts/763ea06e.html","excerpt":"é¡¹ç›®æ¦‚å†µæ•°æ®å¯è§†åŒ–å±•ç¤ºä¸å¼€å‘ä¸­å¿ƒï¼Œé€šè¿‡å¼€å‘å¯è§†åŒ–è®¾è®¡å™¨ã€å¯è§†åŒ–å±•ç¤ºå¼•æ“ã€å¯è§†åŒ–æ§åˆ¶å¹³å°ã€å¯è§†åŒ–åå°æœåŠ¡åŠéŸ³è§†å±é©±åŠ¨è½¯ä»¶ï¼Œç”¨äºå…¨æ–¹é¢ã€å¤šè§’åº¦å±•ç¤ºæ™ºèƒ½å‘ç”µè¿è¡Œæ§åˆ¶ç³»ç»Ÿæ•´ä½“æ¶æ„ä¸ä¸»è¦åŠŸèƒ½ï¼Œå¼€å±•å‘ç”µè®¾å¤‡ä¸‰ç»´å¯è§†åŒ–ã€å‘ç”µè¿‡ç¨‹éŸ³è§†é¢‘æ•°æ®åˆ†æã€çŠ¶æ€è¯†åˆ«ä¸æ•…éšœå®šä½ç®—æ³•ç ”ç©¶ï¼Œæœ€ç»ˆå½¢æˆâ€œå¤šä¸šåŠ¡ï¼Œå¤šçª—å£ï¼Œå¤šäº¤äº’æ‰‹æ®µï¼Œå°‘äººå·¥â€çš„æ•°æ®é©¾é©¶èˆ±ç³»ç»Ÿã€‚ ç³»ç»Ÿæ¶æ„ æ€»ä½“åº”ç”¨æ¡†æ¶åˆ†ä¸ºå…­å±‚æ¡†æ¶ç»“æ„ï¼Œæä¾›ä¸¤ç±»æ”¯æ’‘ï¼Œåˆ†åˆ«æ˜¯â€œç½‘ç»œå±‚â€ã€â€œæ•°æ®å±‚â€ã€â€œåº”ç”¨å±‚â€ã€â€œä¸šåŠ¡å±‚â€ã€â€œäº¤äº’å±‚â€ã€â€œè¡¨ç°å±‚â€ï¼Œæ”¯æ’‘ä¸ºâ€œæ ‡å‡†è§„èŒƒâ€ä¸â€œç¡¬ä»¶ä½“ç³»â€ã€‚ ç³»ç»Ÿä¸šåŠ¡ä¸šåŠ¡ä¸»è¦åŒ…æ‹¬ï¼Œå·¥ä¸šæŒ‡æ ‡çš„æ•°æ®å¯è§†åŒ–å±•ç¤ºï¼ˆæ•°æ®ç›‘æµ‹ï¼‰ï¼Œè®¾å¤‡çš„ç²¾å‡†æ§åˆ¶ï¼ˆæ‰‹åŠ¨ï¼Œé˜€å€¼æŠ¥è­¦æˆ–åˆ¶åŠ¨ï¼Œè¯­éŸ³æ™ºèƒ½æ§åˆ¶ï¼‰ï¼Œå¯¹æ•°æ®çš„å¤šç±»æ–¹å¼åˆ†æå¹¶ç»™å‡ºé«˜ä»·å€¼ç»“æœï¼Œå„ç±»æµ‹è¯•æ•°æ®ä¸‹æŒ‡æ ‡å¯¹æ¯”ï¼ˆçµæ´»ç­›é€‰å¯¹æ¯”çš„æŒ‡æ ‡ï¼‰ï¼Œä»¥åŠç”¨æˆ·æƒé™æ§åˆ¶ï¼ŒæŠ¥è¡¨åˆ†æä¸ä¸‹è½½ï¼Œ3dåœºæ™¯ä¸‹çš„å·¥ä¸šæ•°æ®çš„å¯è§†åŒ–å±•ç¤ºç­‰ã€‚","text":"é¡¹ç›®æ¦‚å†µæ•°æ®å¯è§†åŒ–å±•ç¤ºä¸å¼€å‘ä¸­å¿ƒï¼Œé€šè¿‡å¼€å‘å¯è§†åŒ–è®¾è®¡å™¨ã€å¯è§†åŒ–å±•ç¤ºå¼•æ“ã€å¯è§†åŒ–æ§åˆ¶å¹³å°ã€å¯è§†åŒ–åå°æœåŠ¡åŠéŸ³è§†å±é©±åŠ¨è½¯ä»¶ï¼Œç”¨äºå…¨æ–¹é¢ã€å¤šè§’åº¦å±•ç¤ºæ™ºèƒ½å‘ç”µè¿è¡Œæ§åˆ¶ç³»ç»Ÿæ•´ä½“æ¶æ„ä¸ä¸»è¦åŠŸèƒ½ï¼Œå¼€å±•å‘ç”µè®¾å¤‡ä¸‰ç»´å¯è§†åŒ–ã€å‘ç”µè¿‡ç¨‹éŸ³è§†é¢‘æ•°æ®åˆ†æã€çŠ¶æ€è¯†åˆ«ä¸æ•…éšœå®šä½ç®—æ³•ç ”ç©¶ï¼Œæœ€ç»ˆå½¢æˆâ€œå¤šä¸šåŠ¡ï¼Œå¤šçª—å£ï¼Œå¤šäº¤äº’æ‰‹æ®µï¼Œå°‘äººå·¥â€çš„æ•°æ®é©¾é©¶èˆ±ç³»ç»Ÿã€‚ ç³»ç»Ÿæ¶æ„ æ€»ä½“åº”ç”¨æ¡†æ¶åˆ†ä¸ºå…­å±‚æ¡†æ¶ç»“æ„ï¼Œæä¾›ä¸¤ç±»æ”¯æ’‘ï¼Œåˆ†åˆ«æ˜¯â€œç½‘ç»œå±‚â€ã€â€œæ•°æ®å±‚â€ã€â€œåº”ç”¨å±‚â€ã€â€œä¸šåŠ¡å±‚â€ã€â€œäº¤äº’å±‚â€ã€â€œè¡¨ç°å±‚â€ï¼Œæ”¯æ’‘ä¸ºâ€œæ ‡å‡†è§„èŒƒâ€ä¸â€œç¡¬ä»¶ä½“ç³»â€ã€‚ ç³»ç»Ÿä¸šåŠ¡ä¸šåŠ¡ä¸»è¦åŒ…æ‹¬ï¼Œå·¥ä¸šæŒ‡æ ‡çš„æ•°æ®å¯è§†åŒ–å±•ç¤ºï¼ˆæ•°æ®ç›‘æµ‹ï¼‰ï¼Œè®¾å¤‡çš„ç²¾å‡†æ§åˆ¶ï¼ˆæ‰‹åŠ¨ï¼Œé˜€å€¼æŠ¥è­¦æˆ–åˆ¶åŠ¨ï¼Œè¯­éŸ³æ™ºèƒ½æ§åˆ¶ï¼‰ï¼Œå¯¹æ•°æ®çš„å¤šç±»æ–¹å¼åˆ†æå¹¶ç»™å‡ºé«˜ä»·å€¼ç»“æœï¼Œå„ç±»æµ‹è¯•æ•°æ®ä¸‹æŒ‡æ ‡å¯¹æ¯”ï¼ˆçµæ´»ç­›é€‰å¯¹æ¯”çš„æŒ‡æ ‡ï¼‰ï¼Œä»¥åŠç”¨æˆ·æƒé™æ§åˆ¶ï¼ŒæŠ¥è¡¨åˆ†æä¸ä¸‹è½½ï¼Œ3dåœºæ™¯ä¸‹çš„å·¥ä¸šæ•°æ®çš„å¯è§†åŒ–å±•ç¤ºç­‰ã€‚ ä¸‰ç»´æµç¨‹å›¾ ç³»ç»Ÿç›‘æ§ç”»é¢ è¯­éŸ³æ§åˆ¶ï¼ˆå‘å‡ºæŒ‡ä»¤ï¼‰ è¯­éŸ³æ‰§è¡Œæµç¨‹ TTSè¯­éŸ³åˆæˆ æŒ‡æ ‡å¯¹æ¯” å®¢æˆ·ç«¯é›†æˆ BSæ¶æ„é›†æˆä¸ºwindowså®¢æˆ·ç«¯ï¼Œå¯ä»¥åˆ¶å®šå¼€æœºä»»åŠ¡ç­‰ã€‚","categories":[{"name":"ä¸ªäººé¡¹ç›®","slug":"ä¸ªäººé¡¹ç›®","permalink":"https://yangyfeng.github.io/blogpost/categories/ä¸ªäººé¡¹ç›®/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/tags/å‰ç«¯/"},{"name":"æ•°æ®å¯è§†åŒ–","slug":"æ•°æ®å¯è§†åŒ–","permalink":"https://yangyfeng.github.io/blogpost/tags/æ•°æ®å¯è§†åŒ–/"}]},{"title":"å›½ççŸ¥è¯†åº“ç®¡ç†ç³»ç»Ÿ","slug":"æˆ‘çš„é¡¹ç›®å±•ç¤º/å›½ççŸ¥è¯†åº“ç®¡ç†ç³»ç»Ÿ","date":"2021-02-22T16:00:00.000Z","updated":"2021-03-27T06:24:34.646Z","comments":true,"path":"/posts/d02d7caa.html","link":"","permalink":"https://yangyfeng.github.io/posts/d02d7caa.html","excerpt":"","text":"é¡¹ç›®æè¿°å®¢æœä¸­å¿ƒçŸ¥è¯†ç®¡ç†ç³»ç»Ÿã€‚ä»¥çŸ¥è¯†åº“ä¸ºæ ¸å¿ƒï¼Œä»¥æ£€ç´¢æŸ¥è¯¢ä¸ºä¸»è¦æ‰‹æ®µï¼Œé€šè¿‡å¯¹å®¢æœä¸­å¿ƒå„ç±»çŸ¥è¯†çš„ç®¡ç†ï¼Œæœ€ç»ˆå°†å®ƒä»¬æ¼”å˜æˆå®¢æœä¸­å¿ƒå¯é‡å¤åˆ©ç”¨çš„ç»„ç»‡çŸ¥è¯†ã€‚ä»¥æå‡ºé—®é¢˜ã€å›ç­”é—®é¢˜ã€é‡‡ç¼–çŸ¥è¯†ç­‰æµç¨‹ï¼Œå®ç°å›½çä¼ä¸šçŸ¥è¯†åº“çš„çŸ¥è¯†å‚¨å­˜ï¼ŒçŸ¥è¯†ç®¡ç†å’ŒçŸ¥è¯†æœç´¢ï¼Œå¹¶æœ‰æ•ˆçš„å¸®åŠ©å®¢æœæœåŠ¡ç”¨æˆ·ã€‚ ä¸»è¦åŠŸèƒ½ç½—åˆ—äº†éƒ¨åˆ†åŠŸèƒ½ã€‚ä¸»è¦å«æœ‰çŸ¥è¯†åº“æœç´¢ã€é‡‡ç¼–ç®¡ç†ã€æ–‡ç« å‘å¸ƒä¸ç¼–è¾‘ã€åœ¨çº¿é—®ç­”ã€æ™ºèƒ½æé—®ã€è¯„è®ºã€æ”¶è—ã€ç‚¹èµç­‰ã€‚ çŸ¥è¯†æœç´¢ å…³é”®å­—ï¼Œæ¨¡ç³Šè¯ï¼Œçƒ­æœè¯ï¼Œè¿‘ä¹‰è¯ç­‰å¤šç§è¯æ¡æœç´¢ã€‚ é‡‡ç¼–åŠŸèƒ½ ç”¨æˆ·ä¸»åŠ¨æ·»åŠ æ–‡ç« ï¼Œæ·»åŠ çŸ¥è¯†åº“ï¼Œç”±ä¸“å®¶å®¡æ ¸ï¼Œæ•æ„Ÿè¯è­¦å‘Šï¼Œä»¥åŠå†å²æ–‡ç« å¯¹æ¯”ç­‰ã€‚ åœ¨çº¿é—®ç­” ä¸šåŠ¡æ¶æ„ å‡çº§ç‰ˆæœ¬å†…å®¹æ ¸å¿ƒå†…å®¹ï¼šå¯¹æ¥äº†å®¢æœä¸­å¿ƒæ™ºèƒ½æœºå™¨äººç³»ç»Ÿï¼Œä¾›æ™ºèƒ½æœºå™¨äººè°ƒå–å†…å®¹æ‰€ç”¨ï¼Œå¯ä»¥æä¾›ç”¨æˆ·åœ¨çº¿æ™ºèƒ½é—®ç­”ã€‚","categories":[{"name":"ä¸ªäººé¡¹ç›®","slug":"ä¸ªäººé¡¹ç›®","permalink":"https://yangyfeng.github.io/blogpost/categories/ä¸ªäººé¡¹ç›®/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/tags/å‰ç«¯/"}]},{"title":"é£åŠ›å‘ç”µSCADA","slug":"æˆ‘çš„é¡¹ç›®å±•ç¤º/é£åŠ›å‘ç”µSCADA","date":"2021-02-22T16:00:00.000Z","updated":"2021-03-27T06:24:34.647Z","comments":true,"path":"/posts/fa28e10b.html","link":"","permalink":"https://yangyfeng.github.io/posts/fa28e10b.html","excerpt":"ä»€ä¹ˆæ˜¯SCADASCADAç³»ç»Ÿï¼Œå³æ•°æ®é‡‡é›†ä¸ç›‘è§†æ§åˆ¶ç³»ç»Ÿã€‚SCADAç³»ç»Ÿæ˜¯ä»¥è®¡ç®—æœºä¸ºåŸºç¡€çš„DCSä¸ç”µåŠ›è‡ªåŠ¨åŒ–ç›‘æ§ç³»ç»Ÿï¼›å®ƒåº”ç”¨é¢†åŸŸå¾ˆå¹¿ï¼Œå¯ä»¥åº”ç”¨äºç”µåŠ›ã€å†¶é‡‘ã€çŸ³æ²¹ã€åŒ–å·¥ã€ç‡ƒæ°”ã€é“è·¯ç­‰é¢†åŸŸçš„æ•°æ®é‡‡é›†ä¸ç›‘è§†æ§åˆ¶ä»¥åŠè¿‡ç¨‹æ§åˆ¶ç­‰è¯¸å¤šé¢†åŸŸã€‚å…¶åŠŸèƒ½ä¸»è¦å›´ç»•ç”Ÿäº§æ•°æ®å®æ—¶é‡‡é›†ã€ç”Ÿäº§è®¾å¤‡è¿‡ç¨‹ç›‘æ§ã€ç”Ÿäº§è®¾å¤‡å¼‚å¸¸æŠ¥è­¦ã€æ•°æ®åˆ†æã€æ•°æ®æŠ¥è¡¨åŠä»ªè¡¨ç›˜å±•ç¤ºå››ä¸ªæ–¹é¢è¿›è¡Œï¼Œå…¶ç‰¹æ€§ä¸»è¦ä½“ç°ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š 1ã€æ”¯æŒ5000å¤šç§é€šè®¯åè®®ï¼Œæ»¡è¶³å¸‚åœºä¸Šç™¾åˆ†ä¹‹99.99çš„æ§åˆ¶å™¨ã€ä»ªå™¨ä»ªè¡¨çš„é€šè®¯è¦æ±‚ã€‚æ‰“é€šè‡ªåŠ¨åŒ–ç¡¬ä»¶ç³»ç»Ÿä¸ä¿¡æ¯åŒ–è½¯ä»¶ç³»ç»Ÿä¿¡æ¯ä¼ é€’ã€‚2ã€å°†åŠå…¬ç½‘ç»œIPä¸å·¥ä¸šè®¾å¤‡IPè¿›è¡Œç¡¬ä»¶éš”ç¦»ï¼Œé¿å…IPå†²çªã€‚3ã€ç›´è§‚å±•ç¤ºç”Ÿäº§åŠ¨æ€ï¼Œå¯¹ç°åœºè®¾å¤‡å®ç°ç›´æ¥æˆ–é—´æ¥æ§åˆ¶ï¼Œæ»¡è¶³å¯è§†åŒ–ç®¡ç†çš„éœ€æ±‚ã€‚4ã€è¿›è¡Œæ•°æ®ç»Ÿè®¡åˆ†æï¼Œå¹¶é€šè¿‡ä»ªè¡¨ç›˜è¿›è¡Œå±•ç¤ºã€‚ é¡¹ç›®æè¿°é£åŠ›å‘ç”µå‚çš„å®‰å…¨ç›‘æµ‹å¹³å°ã€‚å°†SCADAå’ŒITè¿ç»´ç›‘æ§å†…å®¹èä¸æ•°æ®å¯è§†åŒ–ç›¸èåˆå½¢æˆå®‰å…¨ç›‘æµ‹å¹³å°ã€‚åˆ†åˆ«æœ‰æ•°æ®å¯è§†åŒ–ã€SACDAã€ITè¿ç»´ç›‘æ§å’ŒåŸºæœ¬åŠŸèƒ½4ä¸ªä¸»è¦åŠŸèƒ½æ¨¡å—ã€‚ æ•°æ®å¯è§†åŒ–ï¼šä¸»è¦æä¾›å‰ç«¯å±•ç¤ºå†…å®¹ï¼ŒåŒ…æ‹¬3Dã€2Då»ºæ¨¡å’Œå›¾è¡¨å…ƒç´ ï¼Œå½¢æˆæ²‰æµ¸å¼çš„ç›‘æ§å±•ç¤ºä½“ç³»ï¼Œå°†ä¸šåŠ¡ã€å‘Šè­¦ç­‰ç›¸èåˆã€‚ SCADAï¼šå°†SCADAçš„åŸæœ‰åŠŸèƒ½å’Œä¿¡æ¯å‘å¸ƒåŠŸèƒ½ç›¸ç»“åˆï¼Œå¯¹å‡å‹ç«™ã€é£æœºè¿›è¡Œå®æ—¶æ•°æ®ç›‘æ§ï¼Œå½¢æˆæ•°æ®é‡‡é›†ã€åˆ†æã€ç›‘æ§å’Œé¢„è­¦çš„ç»Ÿä¸€åŠŸèƒ½ã€‚ ITè¿ç»´ç›‘æµ‹ï¼šå¯¹æœºæˆ¿ç½‘ç»œå’ŒæœåŠ¡è¿›è¡Œæ•´ä½“çš„ç›‘æ§ã€‚ åŸºæœ¬åŠŸèƒ½ï¼šè´¦å·ç®¡ç†ã€æƒé™ç®¡ç†ã€éƒ¨é—¨ç®¡ç†å’Œè§’è‰²ç®¡ç†ç­‰å†…å®¹ã€‚ å»ºè®¾è¦æ±‚éµå¾ªäº†çµæ´»æ€§å’Œå¯æ‰©å±•æ€§åŸåˆ™ï¼Œèƒ½å¤Ÿé€‚åº”ä¸šåŠ¡å˜åŒ–å’Œè¿›æ­¥çš„è¦æ±‚ï¼Œæ»¡è¶³åŒè¡Œä¸šç”µå‚ä¸šåŠ¡è¦æ±‚ã€‚å¹³å°ç³»ç»Ÿæ‰€é‡‡ç”¨çš„ç›¸å…³æ ‡å‡†å¿…é¡»ä¸å›½é™…ã€å›½å®¶ã€çœã€å¸‚çº§åŠè¡Œä¸šæ ‡å‡†ç›¸ç¬¦åˆï¼Œç¡®ä¿ç³»ç»Ÿå…·æœ‰è‰¯å¥½çš„å¼€æ”¾æ€§ï¼Œèƒ½å®ç°ä¸å¤šç§æŠ€æœ¯å’Œè½¯ç¡¬ä»¶å¹³å°çš„æœ‰æœºé›†æˆã€‚ å¯¹äºç”¨æˆ·è€Œè¨€ï¼Œè§£å†³äº†åœ¨ä¸šåŠ¡ä¸­ä¸€äº›æ£˜æ‰‹é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š 1. è¿è¥ç®¡ç†åœºæ™¯ï¼šå¯¹å˜ç”µç«™å’Œé£æœºè¿›è¡Œå…¨é¢çš„ç›‘æ§ï¼Œæä¾›ç›´è§‚é«˜æ•ˆçš„æ•°æ®å±•ç°å½¢å¼ã€‚ 2. é¢„è­¦å‘Šè­¦ï¼šå¯¹é¢„è­¦å’Œå‘Šè­¦ä¿¡æ¯ä½œå‡ºå®æ—¶æ•°æ®ç›‘æ§å¹¶å‘é€ç›¸åº”çš„å‘Šè­¦ä¿¡æ¯ã€‚ 3. è¿ç»´æ”¯æ’‘ï¼šå¯¹ä¸šåŠ¡è¿ç»´å’ŒITè¿ç»´äººå‘˜æä¾›åŠæ—¶çš„ä¿¡æ¯æé†’å’Œå±•ç¤ºï¼Œä¾¿äºè¿ç»´äººå‘˜åŠæ—¶æœ‰æ•ˆçš„è¿›è¡Œç”µå‚çš„æ•´ä½“ç»´æŠ¤ã€‚ 4. åŸ¹è®­äººå‘˜ï¼šå‡å°‘å‘˜å·¥åŸ¹è®­æˆæœ¬ï¼Œå¿«é€Ÿç†è§£ç”µå‚ä¸šåŠ¡å’Œç›¸å…³å·¥ä½œå²—ä½ï¼Œå¢åŠ å‘˜å·¥çš„ä¸šåŠ¡ç†Ÿç»ƒç¨‹åº¦å’Œåº”æ€¥å¤„ç†èƒ½åŠ›ã€‚","text":"ä»€ä¹ˆæ˜¯SCADASCADAç³»ç»Ÿï¼Œå³æ•°æ®é‡‡é›†ä¸ç›‘è§†æ§åˆ¶ç³»ç»Ÿã€‚SCADAç³»ç»Ÿæ˜¯ä»¥è®¡ç®—æœºä¸ºåŸºç¡€çš„DCSä¸ç”µåŠ›è‡ªåŠ¨åŒ–ç›‘æ§ç³»ç»Ÿï¼›å®ƒåº”ç”¨é¢†åŸŸå¾ˆå¹¿ï¼Œå¯ä»¥åº”ç”¨äºç”µåŠ›ã€å†¶é‡‘ã€çŸ³æ²¹ã€åŒ–å·¥ã€ç‡ƒæ°”ã€é“è·¯ç­‰é¢†åŸŸçš„æ•°æ®é‡‡é›†ä¸ç›‘è§†æ§åˆ¶ä»¥åŠè¿‡ç¨‹æ§åˆ¶ç­‰è¯¸å¤šé¢†åŸŸã€‚å…¶åŠŸèƒ½ä¸»è¦å›´ç»•ç”Ÿäº§æ•°æ®å®æ—¶é‡‡é›†ã€ç”Ÿäº§è®¾å¤‡è¿‡ç¨‹ç›‘æ§ã€ç”Ÿäº§è®¾å¤‡å¼‚å¸¸æŠ¥è­¦ã€æ•°æ®åˆ†æã€æ•°æ®æŠ¥è¡¨åŠä»ªè¡¨ç›˜å±•ç¤ºå››ä¸ªæ–¹é¢è¿›è¡Œï¼Œå…¶ç‰¹æ€§ä¸»è¦ä½“ç°ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š 1ã€æ”¯æŒ5000å¤šç§é€šè®¯åè®®ï¼Œæ»¡è¶³å¸‚åœºä¸Šç™¾åˆ†ä¹‹99.99çš„æ§åˆ¶å™¨ã€ä»ªå™¨ä»ªè¡¨çš„é€šè®¯è¦æ±‚ã€‚æ‰“é€šè‡ªåŠ¨åŒ–ç¡¬ä»¶ç³»ç»Ÿä¸ä¿¡æ¯åŒ–è½¯ä»¶ç³»ç»Ÿä¿¡æ¯ä¼ é€’ã€‚2ã€å°†åŠå…¬ç½‘ç»œIPä¸å·¥ä¸šè®¾å¤‡IPè¿›è¡Œç¡¬ä»¶éš”ç¦»ï¼Œé¿å…IPå†²çªã€‚3ã€ç›´è§‚å±•ç¤ºç”Ÿäº§åŠ¨æ€ï¼Œå¯¹ç°åœºè®¾å¤‡å®ç°ç›´æ¥æˆ–é—´æ¥æ§åˆ¶ï¼Œæ»¡è¶³å¯è§†åŒ–ç®¡ç†çš„éœ€æ±‚ã€‚4ã€è¿›è¡Œæ•°æ®ç»Ÿè®¡åˆ†æï¼Œå¹¶é€šè¿‡ä»ªè¡¨ç›˜è¿›è¡Œå±•ç¤ºã€‚ é¡¹ç›®æè¿°é£åŠ›å‘ç”µå‚çš„å®‰å…¨ç›‘æµ‹å¹³å°ã€‚å°†SCADAå’ŒITè¿ç»´ç›‘æ§å†…å®¹èä¸æ•°æ®å¯è§†åŒ–ç›¸èåˆå½¢æˆå®‰å…¨ç›‘æµ‹å¹³å°ã€‚åˆ†åˆ«æœ‰æ•°æ®å¯è§†åŒ–ã€SACDAã€ITè¿ç»´ç›‘æ§å’ŒåŸºæœ¬åŠŸèƒ½4ä¸ªä¸»è¦åŠŸèƒ½æ¨¡å—ã€‚ æ•°æ®å¯è§†åŒ–ï¼šä¸»è¦æä¾›å‰ç«¯å±•ç¤ºå†…å®¹ï¼ŒåŒ…æ‹¬3Dã€2Då»ºæ¨¡å’Œå›¾è¡¨å…ƒç´ ï¼Œå½¢æˆæ²‰æµ¸å¼çš„ç›‘æ§å±•ç¤ºä½“ç³»ï¼Œå°†ä¸šåŠ¡ã€å‘Šè­¦ç­‰ç›¸èåˆã€‚ SCADAï¼šå°†SCADAçš„åŸæœ‰åŠŸèƒ½å’Œä¿¡æ¯å‘å¸ƒåŠŸèƒ½ç›¸ç»“åˆï¼Œå¯¹å‡å‹ç«™ã€é£æœºè¿›è¡Œå®æ—¶æ•°æ®ç›‘æ§ï¼Œå½¢æˆæ•°æ®é‡‡é›†ã€åˆ†æã€ç›‘æ§å’Œé¢„è­¦çš„ç»Ÿä¸€åŠŸèƒ½ã€‚ ITè¿ç»´ç›‘æµ‹ï¼šå¯¹æœºæˆ¿ç½‘ç»œå’ŒæœåŠ¡è¿›è¡Œæ•´ä½“çš„ç›‘æ§ã€‚ åŸºæœ¬åŠŸèƒ½ï¼šè´¦å·ç®¡ç†ã€æƒé™ç®¡ç†ã€éƒ¨é—¨ç®¡ç†å’Œè§’è‰²ç®¡ç†ç­‰å†…å®¹ã€‚ å»ºè®¾è¦æ±‚éµå¾ªäº†çµæ´»æ€§å’Œå¯æ‰©å±•æ€§åŸåˆ™ï¼Œèƒ½å¤Ÿé€‚åº”ä¸šåŠ¡å˜åŒ–å’Œè¿›æ­¥çš„è¦æ±‚ï¼Œæ»¡è¶³åŒè¡Œä¸šç”µå‚ä¸šåŠ¡è¦æ±‚ã€‚å¹³å°ç³»ç»Ÿæ‰€é‡‡ç”¨çš„ç›¸å…³æ ‡å‡†å¿…é¡»ä¸å›½é™…ã€å›½å®¶ã€çœã€å¸‚çº§åŠè¡Œä¸šæ ‡å‡†ç›¸ç¬¦åˆï¼Œç¡®ä¿ç³»ç»Ÿå…·æœ‰è‰¯å¥½çš„å¼€æ”¾æ€§ï¼Œèƒ½å®ç°ä¸å¤šç§æŠ€æœ¯å’Œè½¯ç¡¬ä»¶å¹³å°çš„æœ‰æœºé›†æˆã€‚ å¯¹äºç”¨æˆ·è€Œè¨€ï¼Œè§£å†³äº†åœ¨ä¸šåŠ¡ä¸­ä¸€äº›æ£˜æ‰‹é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š 1. è¿è¥ç®¡ç†åœºæ™¯ï¼šå¯¹å˜ç”µç«™å’Œé£æœºè¿›è¡Œå…¨é¢çš„ç›‘æ§ï¼Œæä¾›ç›´è§‚é«˜æ•ˆçš„æ•°æ®å±•ç°å½¢å¼ã€‚ 2. é¢„è­¦å‘Šè­¦ï¼šå¯¹é¢„è­¦å’Œå‘Šè­¦ä¿¡æ¯ä½œå‡ºå®æ—¶æ•°æ®ç›‘æ§å¹¶å‘é€ç›¸åº”çš„å‘Šè­¦ä¿¡æ¯ã€‚ 3. è¿ç»´æ”¯æ’‘ï¼šå¯¹ä¸šåŠ¡è¿ç»´å’ŒITè¿ç»´äººå‘˜æä¾›åŠæ—¶çš„ä¿¡æ¯æé†’å’Œå±•ç¤ºï¼Œä¾¿äºè¿ç»´äººå‘˜åŠæ—¶æœ‰æ•ˆçš„è¿›è¡Œç”µå‚çš„æ•´ä½“ç»´æŠ¤ã€‚ 4. åŸ¹è®­äººå‘˜ï¼šå‡å°‘å‘˜å·¥åŸ¹è®­æˆæœ¬ï¼Œå¿«é€Ÿç†è§£ç”µå‚ä¸šåŠ¡å’Œç›¸å…³å·¥ä½œå²—ä½ï¼Œå¢åŠ å‘˜å·¥çš„ä¸šåŠ¡ç†Ÿç»ƒç¨‹åº¦å’Œåº”æ€¥å¤„ç†èƒ½åŠ›ã€‚ æ¶æ„åˆ†æç³»ç»Ÿå›´ç»•â€œ5ä¸ª1å·¥ç¨‹â€çš„æ ¸å¿ƒå»ºè®¾ç›®æ ‡ï¼Œè®¾è®¡æ€»ä½“æ¡†æ¶å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé‡‡ç”¨äº”å±‚æ¡†æ¶ç»“æ„â€œæ„ŸçŸ¥å±‚â€ã€â€œç½‘ç»œå±‚â€ã€â€œæ•°æ®å±‚â€ã€â€œå¹³å°å±‚â€ï¼Œâ€œåº”ç”¨å±‚â€ã€‚ æ„ŸçŸ¥å±‚ï¼šä¸»è¦æ˜¯è¿›è¡Œæ•°æ®é‡‡é›†æ¸…æ´—è½¬æ¢ç­‰åŠŸèƒ½ã€‚ ç½‘ç»œå±‚ï¼šé‡‡ç”¨ç”µå‚åŸæœ‰ç½‘ç»œç»“æ„ï¼Œè¿›è¡Œä¼ è¾“ã€‚ æ•°æ®å±‚ï¼šæä¾›æ ‡å‡†åŒ–çš„ä¸šåŠ¡æ•°æ®åº“ã€‚ å¹³å°å±‚ï¼šå¹³å°åŠŸèƒ½çš„ä¸šåŠ¡æœåŠ¡ç¨‹åºã€‚ åº”ç”¨å±‚ï¼šå…±æœ‰PCï¼Œæ‰‹æœºå’Œå¤§å±ç«¯ä¸‰ä¸ªåº”ç”¨å‰ç«¯åœºæ™¯ã€‚ æˆ‘ä»¬å°†å®‰å…¨å¹³å°è¿›è¡Œäº†é€»è¾‘åˆ†å±‚ï¼Œå…·ä½“çš„åˆ†å±‚æ¶æ„å›¾å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ•´ä½“è¯´æ˜å¦‚ä¸‹ï¼š 1.åŸºç¡€è®¾å¤‡ï¼šæ•°æ®åº•å±‚è®¾å¤‡å’Œç³»ç»Ÿå±‚å°†å„ç³»ç»Ÿä¹‹å‰å®Œæˆå¯¹æ¥ï¼ŒåŒ…æ‹¬åœ¨SDKã€ç¡¬ä»¶ã€è½¯ä»¶ã€APIã€æ•°æ®åº“ç­‰å¤šç§å¯¹æ¥æ–¹å¼ï¼› 2.æ•°æ®å¯¹æ¥å±‚ï¼šå°†æ•°æ®é‡‡é›†åï¼Œè¿›è¡Œç»“æ„åŒ–å’ŒåŠç»“æ„åŒ–çš„æ•°æ®æ²»ç†ã€‚ç›´æ¥æ“ä½œæ•°æ®åº“ï¼Œé’ˆå¯¹æ•°æ®çš„å¢æ·»ã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥æ‰¾ç­‰ã€‚ 3.ä¸šåŠ¡é€»è¾‘å±‚é’ˆå¯¹å…·ä½“é—®é¢˜çš„æ“ä½œï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯å¯¹æ•°æ®å±‚çš„æ“ä½œï¼Œå¯¹æ•°æ®ä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚ï¼ˆå…³é”®åœ¨äºç”±åŸå§‹æ•°æ®æŠ½è±¡å‡ºé€»è¾‘æ•°æ®ï¼‰èƒ½å¤Ÿæä¾›interface\\APIå±‚æ¬¡ä¸Šæ‰€æœ‰çš„åŠŸèƒ½ã€‚â€œä¸­é—´ä¸šåŠ¡å±‚â€çš„å®é™…ç›®çš„æ˜¯å°†â€œæ•°æ®è®¿é—®å±‚â€çš„æœ€åŸºç¡€çš„å­˜å‚¨é€»è¾‘ç»„åˆèµ·æ¥ï¼Œå½¢æˆä¸€ç§ä¸šåŠ¡è§„åˆ™ã€‚ 4.å°†éå®æ—¶æ•°æ®åŠå®æ—¶æ•°æ®è¿›è¡Œæ•°æ®æ¸…æ´—é€šè¿‡ä¸åŒçš„åŒ¹é…è§„åˆ™åœ¨é¡µé¢ç«¯è¿›è¡Œå±•ç¤ºã€‚ 5.æŒ‰ç…§ä¸šåŠ¡å¯¹æ¥éœ€æ±‚ä¸­çš„å±•ç¤ºæ•ˆæœå®ç°ï¼Œä½¿ç”¨å¤§æ•°æ®å¯è§†åŒ–å¹³å°è¿›è¡Œå±•ç¤ºã€‚ åŠŸèƒ½è¯¦è§£ä¸šåŠ¡åŠŸèƒ½å¤ªå¤šï¼Œåªå±•ç¤ºéƒ¨åˆ†ï¼ï¼ï¼ ä¸šåŠ¡å®‰å…¨ç›‘æµ‹ è®¾ç½®ç³»ç»Ÿé¢„è­¦é˜ˆå€¼ï¼Œé¢„è­¦ä¿¡æ¯å±•ç¤ºï¼Œè‡ªç”±æ§åˆ¶è®¾å¤‡çŠ¶æ€ã€‚ è¿ç»´ç›‘æµ‹ å¤šç»´åº¦ä¸šåŠ¡ç®¡ç†å±•ç¤ºï¼Œå›¾è¡¨å±•ç¤ºç›¸å…³è¿ç»´æŒ‡æ ‡æ•°æ®ï¼Œæ‹“æ‰‘ç»“æ„å±•ç¤ºï¼ˆç½‘ç»œæ‹“æ‰‘ï¼Œè®¾å¤‡æ‹“æ‰‘ï¼ŒæœåŠ¡æ‹“æ‰‘ï¼Œä¸šåŠ¡æ‹“æ‰‘ï¼‰ã€‚ é£åœºç”µç«™ç”µå‹è·¯çº¿å›¾ç›‘æ§ ç›‘æ§è¾“ç”µçº¿è·¯ï¼Œæ’æŸ¥æ•…éšœï¼Œçº¿è·¯æ£€æµ‹ç­‰ã€‚ ä¸šåŠ¡åŠŸèƒ½æ¶æ„ å¼€å‘è¯´æ˜å·¥ä¸šæ•°æ®é‡‡é›† âœ å­˜å‚¨å®æ—¶æ•°æ®åº“ï¼ˆRabbitMQï¼‰âœ é«˜æ•ˆGoç¨‹åºï¼ˆUAï¼‰å°†å·¥ä¸šæ•°æ®å¤„ç†ä¸ºä¸šåŠ¡æ•°æ®ï¼ˆJSONï¼‰ï¼Œå¹¶å»ºç«‹HTTPå’ŒWebSocketæ¨¡å—ä¸å‰ç«¯åšæ•°æ®é€šä¿¡ âœ restful Apiä¸å‰ç«¯äº¤äº’ï¼Œåšæ•°æ®æ¸²æŸ“å’Œå¯è§†åŒ–æ¸²æŸ“ï¼ˆå„ç±»å›¾è¡¨åº“ï¼ŒEchartsï¼ŒD3ç­‰ï¼Œå…¶ä¸­3Då¯è§†åŒ–é‡‡ç”¨å»ºæ¨¡å’ŒWebGLæ¸²æŸ“ï¼‰","categories":[{"name":"ä¸ªäººé¡¹ç›®","slug":"ä¸ªäººé¡¹ç›®","permalink":"https://yangyfeng.github.io/blogpost/categories/ä¸ªäººé¡¹ç›®/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/tags/å‰ç«¯/"},{"name":"æ•°æ®å¯è§†åŒ–","slug":"æ•°æ®å¯è§†åŒ–","permalink":"https://yangyfeng.github.io/blogpost/tags/æ•°æ®å¯è§†åŒ–/"}]},{"title":"å¤§æ•°æ®å¯è§†åŒ–ç³»ç»Ÿ","slug":"æˆ‘çš„é¡¹ç›®å±•ç¤º/å¤§æ•°æ®å¯è§†åŒ–ç³»ç»Ÿ","date":"2021-02-02T01:22:00.000Z","updated":"2021-04-29T09:37:29.131Z","comments":true,"path":"/posts/5f998618.html","link":"","permalink":"https://yangyfeng.github.io/posts/5f998618.html","excerpt":"é¡¹ç›®æè¿°ä¸€å¥—æ•°æ®å¯è§†åŒ–å±•ç¤ºå¹³å°ï¼Œæ”¯æŒå¤šç§æ•°æ®æºç±»å‹ï¼ˆCSVé™æ€æ–‡ä»¶ï¼Œæ•°æ®åº“è¿æ¥ï¼ŒHttpæ¥å£ï¼ŒJSONé™æ€æ•°æ®ï¼ŒWebSocketè¿æ¥ï¼‰ã€‚æ‹¥æœ‰å¤šç§é…·ç‚«å›¾è¡¨å’ŒåŠ¨ç”»ï¼ŒåŒæ—¶æ”¯æŒæœ¬åœ°åŒ–éƒ¨ç½²ï¼Œé•œåƒä¿å­˜ï¼Œåˆ†äº«ï¼Œæƒé™æ§åˆ¶ç­‰ã€‚æ”¯æŒè‡ªå®šä¹‰å›¾è¡¨ä¸Šä¼ ï¼Œæ”¯æŒå¤šç§å¯è§†åŒ–æ’ä»¶ï¼Œå¦‚Echartsï¼ŒD3ï¼ŒAntVç­‰ã€‚3Då¯è§†åŒ–åŠŸèƒ½ç›®å‰åªæ”¯æŒUnity3Då¼•æ“ã€‚ ç³»ç»Ÿç®€ä»‹æ¢ç´¢æ‚¨æ‹¥æœ‰çš„æ‰€æœ‰æ•°æ®ï¼Œå‘ç°æ–°çš„æ¨¡å¼ï¼Œåˆ›é€ ä¸°å¯Œçš„è§†è§‰æ•ˆæœæ¥å…±äº«æ´å¯Ÿã€‚åˆ©ç”¨è¯¥ç³»ç»Ÿæ˜“äºä½¿ç”¨çš„åˆ†æå’Œå•†ä¸šæ™ºèƒ½å·¥å…·ï¼Œæ‚¨èƒ½å¤Ÿï¼š â‘  å¿«é€Ÿè·å¾—ä¿¡æ¯æ¦‚è§ˆï¼Œæ›´å¿«çš„é€šè¿‡å¯è§†åŒ–æ¢ç´¢æ‰€æœ‰ç›¸å…³æ•°æ®ï¼Œé£é€Ÿè·å–æ´å¯Ÿã€‚å‘ç°æœªçŸ¥æ¨¡å¼è¯†åˆ«å…³é”®çš„è”ç³»ï¼Œå‘ç°éšè—çš„æœºä¼šã€‚ â‘¡ çœ‹åˆ°æ•°æ®ï¼Œç†è§£æ•°æ®ï¼Œé€šè¿‡ç‚«ç›®çš„å¯è§†åŒ–æ–¹å¼ï¼Œå¿«é€Ÿç†è§£æ•°æ®æ‰€è¡¨æ˜çš„ä¸€åˆ‡ã€‚åŸºäºåˆ†æçš„äº¤äº’å¯è§†åŒ–è®©æ¯ä¸ªäººéƒ½å¯ä»¥ç†è§£åˆ†æç»“æœã€‚ â‘¢ åœæ­¢çŒœæµ‹ï¼Œæ›´æ™ºæ…§åœ°å·¥ä½œï¼Œç®€åŒ–æ•°æ®å‡†å¤‡ã€‚è½¯ä»¶è‡ªåŠ¨çªå‡ºæ˜¾ç¤ºç›¸å…³çš„é‡è¦å‘ç°ï¼Œæ— éœ€ç¼–ç¨‹ã€‚ åŠŸèƒ½è¯¦è§£ç™»å½• é¡¹ç›®åªæ”¯æŒå†…ç½‘éƒ¨ç½²ç‰ˆæœ¬ï¼Œæœªå‘ç‰ˆsasså¹³å°ã€‚ ç”¨æˆ·æœ‰ç®¡ç†å‘˜é€ä¸€åˆ†é…ï¼Œé€‚åˆå¤šç±»ä¼ä¸šçš„éœ€æ±‚ã€‚ å¯è§†åŒ–å¤§å±åˆ—è¡¨ å±•ç¤ºæ–¹å¼æœ‰ä¸¤ç§ï¼šå¡ç‰‡æ¨¡å¼ã€åˆ—è¡¨æ¨¡å¼ å¡ç‰‡æ¨¡å¼å¯ä»¥è·å–å¤§å±å†…éƒ¨çš„ç”»é¢ä½œä¸ºé¢„è§ˆå›¾æˆ–è€…ç”¨æˆ·è‡ªå·±è®¾ç½®å°é¢ ä¹‹å¤–æ¯ä¸ªå¤§å±éƒ½å¯ä»¥é”å®šï¼ˆè®¾ç½®å¯†ç ï¼‰ã€å‘å¸ƒã€é¢„è§ˆã€å¤åˆ¶ã€ç¼–è¾‘ç­‰åŠŸèƒ½ã€‚ å·¦ä¸Šè§’çš„åˆ›å»ºæŒ‰é’®ï¼Œè·³è½¬åˆ°åˆ›å»ºå¤§å±é¡µé¢ï¼Œåˆ›å»ºæ—¶å¯é€‰æ‹©æ¨¡æ¿ã€ç©ºç™½çš„ä»»æ„æ¯”ä¾‹çš„å¤§å±ï¼Œä»¥åŠåŠ å…¥åˆ°å¤šé€‰åˆ†ç±»ä¸­ã€‚ å¯è§†åŒ–å¤§å±é…ç½® åœ¨ä¸Šæ–¹é€‰æ‹©éœ€è¦çš„å›¾è¡¨æ‹–å…¥åˆ°ä¸­é—´ç”»å¸ƒï¼Œå³å¯åœ¨å³ä¾§é…ç½®å¯¹åº”å±æ€§å’Œæ•°æ®ï¼Œå¹¶èƒ½åŠ å…¥åˆ°æ”¶è—ï¼Œä¾›åé¢ä½¿ç”¨ã€‚ å…¶ä¸­åœ¨ä½¿ç”¨æ•°æ®æ—¶ï¼Œé€‰æ‹©åˆ›å»ºçš„æ•°æ®æºï¼Œç„¶ååšå¥½å­—æ®µæ˜ å°„å³å¯ï¼Œéå¸¸æ–¹ä¾¿ã€‚ ç¦»çº¿éƒ¨ç½² é€‚é…éå¸¸è§„æ‹¼æ¥å¤§å±ï¼Œæ”¯æŒåŠ å¯†å‘å¸ƒï¼Œæ”¯æŒæœ¬åœ°éƒ¨ç½²ï¼Œæ•°æ®æ— éœ€ä¸Šä¼ è‡³ç¬¬ä¸‰æ–¹æœåŠ¡å™¨æˆ–äº‘ç«¯ï¼Œç§å¯†æ•°æ®çš„å®‰å…¨æ€§æ›´æœ‰ä¿éšœã€‚ å¤šç§æ•°æ®æºæ”¯æŒ æ”¯æŒæ¥å…¥å…³ç³»å‹æ•°æ®åº“ã€æœ¬åœ°CSVä¸Šä¼ å’Œåœ¨çº¿APIç­‰ï¼Œæ”¯æŒåŠ¨æ€è¯·æ±‚ï¼Œå¤šæœåŠ¡å¹³å°ä¿¡æ¯å¯è§†åŒ–å‘ˆç°ã€‚ ä»¥åŠå¯ä»¥ä½¿ç”¨ç”¨æˆ·è‡ªå®šä¹‰çš„æ•°æ®åšä¸ºæ•°æ®æºåœ¨å›¾è¡¨ä¸Šä½¿ç”¨ã€‚ æ•°æ®æºè·¨å¹³å°å…¼å®¹ å…¼å®¹å„ç§æ•°æ®æºç±»å‹ï¼Œæ”¯æŒæµ·é‡æ•°æ®ã€‚å¯è¿æ¥å…¬å¸å„ç§å„æ ·ä¸šåŠ¡ç®¡ç†ç³»ç»Ÿã€ç¬¬ä¸‰æ–¹å¹³å°äº’è”ç½‘æŠ€æœ¯ç»Ÿè®¡æ•°æ®ã€ç”µå­è¡¨æ ¼ç­‰æ•°æ®æ–‡ä»¶ä»¥åŠå…¬å…±æ•°æ®ç»¼åˆæœåŠ¡å¹³å°ï¼Œè½»æ¾æ•´åˆæ‰€æœ‰ç›¸å…³ä¸šåŠ¡æ•°æ®ï¼Œå¸®åŠ©ä¼ä¸šæ¶ˆé™¤æ•°æ®å­¤å²›ã€‚ ç”¨æˆ·æƒé™æ§åˆ¶ RBACæ§åˆ¶ï¼Œä»¥åŠæ•°æ®çš„ç”¨æˆ·ç»‘å®šï¼Œç”¨æˆ·åˆ›å»ºçš„æ•°æ®æºåªèƒ½ä¸ºå•ç”¨æˆ·ä½¿ç”¨ï¼Œä½¿æ•°æ®æ›´åŠ å®‰å…¨å’Œç‹¬ç«‹ã€‚ 3Då¯è§†åŒ– æˆ‘ä»¬ä¸ä»…æä¾›å…¨å‘¨æœŸæ¨¡å‹èµ„æºæ”¯æŒï¼Œè¿˜å¯ä»¥é€šè¿‡è®¾è®¡å¸ˆçµåŠ¨è®¾è®¡çš„åœºæ™¯æ¨¡å‹ä¸ç°å®è®¾å¤‡è¿›è¡Œæ•°æ®äº’é€šä¸è”åŠ¨ï¼ŒçœŸæ­£å®ç°3Dä¸‡ç‰©å¯è§†ï¼Œè¿˜æ”¯æŒ3Dåœ°å›¾ç­‰æ•ˆæœï¼Œæ”¯æŒåœ°ç†æ•°æ®å¤šå±‚å åŠ ã€‚ æ”¯æŒå¤šç§å›¾è¡¨æ•ˆæœ æ”¯æŒå„ç±»å›¾è¡¨ï¼ŒæŠ˜çº¿ï¼Œç‚¹ï¼ŒæŸ±ï¼Œåœ°å›¾ç­‰éƒ½æœ‰æ¶‰åŠï¼Œæ”¯æŒå¤šç§å¯è§†åŒ–å›¾è¡¨åº“ï¼Œechartsï¼Œhighchartsï¼Œd3ï¼Œg2ç­‰ã€‚ æ•°æ®ä¸‹é’»å’Œä¸Šæµ® æ”¯æŒå¤šå›¾è¡¨æ•°æ®è”åŠ¨ï¼Œä»¥åŠä¸‹é’»å’Œä¸Šæµ®","text":"é¡¹ç›®æè¿°ä¸€å¥—æ•°æ®å¯è§†åŒ–å±•ç¤ºå¹³å°ï¼Œæ”¯æŒå¤šç§æ•°æ®æºç±»å‹ï¼ˆCSVé™æ€æ–‡ä»¶ï¼Œæ•°æ®åº“è¿æ¥ï¼ŒHttpæ¥å£ï¼ŒJSONé™æ€æ•°æ®ï¼ŒWebSocketè¿æ¥ï¼‰ã€‚æ‹¥æœ‰å¤šç§é…·ç‚«å›¾è¡¨å’ŒåŠ¨ç”»ï¼ŒåŒæ—¶æ”¯æŒæœ¬åœ°åŒ–éƒ¨ç½²ï¼Œé•œåƒä¿å­˜ï¼Œåˆ†äº«ï¼Œæƒé™æ§åˆ¶ç­‰ã€‚æ”¯æŒè‡ªå®šä¹‰å›¾è¡¨ä¸Šä¼ ï¼Œæ”¯æŒå¤šç§å¯è§†åŒ–æ’ä»¶ï¼Œå¦‚Echartsï¼ŒD3ï¼ŒAntVç­‰ã€‚3Då¯è§†åŒ–åŠŸèƒ½ç›®å‰åªæ”¯æŒUnity3Då¼•æ“ã€‚ ç³»ç»Ÿç®€ä»‹æ¢ç´¢æ‚¨æ‹¥æœ‰çš„æ‰€æœ‰æ•°æ®ï¼Œå‘ç°æ–°çš„æ¨¡å¼ï¼Œåˆ›é€ ä¸°å¯Œçš„è§†è§‰æ•ˆæœæ¥å…±äº«æ´å¯Ÿã€‚åˆ©ç”¨è¯¥ç³»ç»Ÿæ˜“äºä½¿ç”¨çš„åˆ†æå’Œå•†ä¸šæ™ºèƒ½å·¥å…·ï¼Œæ‚¨èƒ½å¤Ÿï¼š â‘  å¿«é€Ÿè·å¾—ä¿¡æ¯æ¦‚è§ˆï¼Œæ›´å¿«çš„é€šè¿‡å¯è§†åŒ–æ¢ç´¢æ‰€æœ‰ç›¸å…³æ•°æ®ï¼Œé£é€Ÿè·å–æ´å¯Ÿã€‚å‘ç°æœªçŸ¥æ¨¡å¼è¯†åˆ«å…³é”®çš„è”ç³»ï¼Œå‘ç°éšè—çš„æœºä¼šã€‚ â‘¡ çœ‹åˆ°æ•°æ®ï¼Œç†è§£æ•°æ®ï¼Œé€šè¿‡ç‚«ç›®çš„å¯è§†åŒ–æ–¹å¼ï¼Œå¿«é€Ÿç†è§£æ•°æ®æ‰€è¡¨æ˜çš„ä¸€åˆ‡ã€‚åŸºäºåˆ†æçš„äº¤äº’å¯è§†åŒ–è®©æ¯ä¸ªäººéƒ½å¯ä»¥ç†è§£åˆ†æç»“æœã€‚ â‘¢ åœæ­¢çŒœæµ‹ï¼Œæ›´æ™ºæ…§åœ°å·¥ä½œï¼Œç®€åŒ–æ•°æ®å‡†å¤‡ã€‚è½¯ä»¶è‡ªåŠ¨çªå‡ºæ˜¾ç¤ºç›¸å…³çš„é‡è¦å‘ç°ï¼Œæ— éœ€ç¼–ç¨‹ã€‚ åŠŸèƒ½è¯¦è§£ç™»å½• é¡¹ç›®åªæ”¯æŒå†…ç½‘éƒ¨ç½²ç‰ˆæœ¬ï¼Œæœªå‘ç‰ˆsasså¹³å°ã€‚ ç”¨æˆ·æœ‰ç®¡ç†å‘˜é€ä¸€åˆ†é…ï¼Œé€‚åˆå¤šç±»ä¼ä¸šçš„éœ€æ±‚ã€‚ å¯è§†åŒ–å¤§å±åˆ—è¡¨ å±•ç¤ºæ–¹å¼æœ‰ä¸¤ç§ï¼šå¡ç‰‡æ¨¡å¼ã€åˆ—è¡¨æ¨¡å¼ å¡ç‰‡æ¨¡å¼å¯ä»¥è·å–å¤§å±å†…éƒ¨çš„ç”»é¢ä½œä¸ºé¢„è§ˆå›¾æˆ–è€…ç”¨æˆ·è‡ªå·±è®¾ç½®å°é¢ ä¹‹å¤–æ¯ä¸ªå¤§å±éƒ½å¯ä»¥é”å®šï¼ˆè®¾ç½®å¯†ç ï¼‰ã€å‘å¸ƒã€é¢„è§ˆã€å¤åˆ¶ã€ç¼–è¾‘ç­‰åŠŸèƒ½ã€‚ å·¦ä¸Šè§’çš„åˆ›å»ºæŒ‰é’®ï¼Œè·³è½¬åˆ°åˆ›å»ºå¤§å±é¡µé¢ï¼Œåˆ›å»ºæ—¶å¯é€‰æ‹©æ¨¡æ¿ã€ç©ºç™½çš„ä»»æ„æ¯”ä¾‹çš„å¤§å±ï¼Œä»¥åŠåŠ å…¥åˆ°å¤šé€‰åˆ†ç±»ä¸­ã€‚ å¯è§†åŒ–å¤§å±é…ç½® åœ¨ä¸Šæ–¹é€‰æ‹©éœ€è¦çš„å›¾è¡¨æ‹–å…¥åˆ°ä¸­é—´ç”»å¸ƒï¼Œå³å¯åœ¨å³ä¾§é…ç½®å¯¹åº”å±æ€§å’Œæ•°æ®ï¼Œå¹¶èƒ½åŠ å…¥åˆ°æ”¶è—ï¼Œä¾›åé¢ä½¿ç”¨ã€‚ å…¶ä¸­åœ¨ä½¿ç”¨æ•°æ®æ—¶ï¼Œé€‰æ‹©åˆ›å»ºçš„æ•°æ®æºï¼Œç„¶ååšå¥½å­—æ®µæ˜ å°„å³å¯ï¼Œéå¸¸æ–¹ä¾¿ã€‚ ç¦»çº¿éƒ¨ç½² é€‚é…éå¸¸è§„æ‹¼æ¥å¤§å±ï¼Œæ”¯æŒåŠ å¯†å‘å¸ƒï¼Œæ”¯æŒæœ¬åœ°éƒ¨ç½²ï¼Œæ•°æ®æ— éœ€ä¸Šä¼ è‡³ç¬¬ä¸‰æ–¹æœåŠ¡å™¨æˆ–äº‘ç«¯ï¼Œç§å¯†æ•°æ®çš„å®‰å…¨æ€§æ›´æœ‰ä¿éšœã€‚ å¤šç§æ•°æ®æºæ”¯æŒ æ”¯æŒæ¥å…¥å…³ç³»å‹æ•°æ®åº“ã€æœ¬åœ°CSVä¸Šä¼ å’Œåœ¨çº¿APIç­‰ï¼Œæ”¯æŒåŠ¨æ€è¯·æ±‚ï¼Œå¤šæœåŠ¡å¹³å°ä¿¡æ¯å¯è§†åŒ–å‘ˆç°ã€‚ ä»¥åŠå¯ä»¥ä½¿ç”¨ç”¨æˆ·è‡ªå®šä¹‰çš„æ•°æ®åšä¸ºæ•°æ®æºåœ¨å›¾è¡¨ä¸Šä½¿ç”¨ã€‚ æ•°æ®æºè·¨å¹³å°å…¼å®¹ å…¼å®¹å„ç§æ•°æ®æºç±»å‹ï¼Œæ”¯æŒæµ·é‡æ•°æ®ã€‚å¯è¿æ¥å…¬å¸å„ç§å„æ ·ä¸šåŠ¡ç®¡ç†ç³»ç»Ÿã€ç¬¬ä¸‰æ–¹å¹³å°äº’è”ç½‘æŠ€æœ¯ç»Ÿè®¡æ•°æ®ã€ç”µå­è¡¨æ ¼ç­‰æ•°æ®æ–‡ä»¶ä»¥åŠå…¬å…±æ•°æ®ç»¼åˆæœåŠ¡å¹³å°ï¼Œè½»æ¾æ•´åˆæ‰€æœ‰ç›¸å…³ä¸šåŠ¡æ•°æ®ï¼Œå¸®åŠ©ä¼ä¸šæ¶ˆé™¤æ•°æ®å­¤å²›ã€‚ ç”¨æˆ·æƒé™æ§åˆ¶ RBACæ§åˆ¶ï¼Œä»¥åŠæ•°æ®çš„ç”¨æˆ·ç»‘å®šï¼Œç”¨æˆ·åˆ›å»ºçš„æ•°æ®æºåªèƒ½ä¸ºå•ç”¨æˆ·ä½¿ç”¨ï¼Œä½¿æ•°æ®æ›´åŠ å®‰å…¨å’Œç‹¬ç«‹ã€‚ 3Då¯è§†åŒ– æˆ‘ä»¬ä¸ä»…æä¾›å…¨å‘¨æœŸæ¨¡å‹èµ„æºæ”¯æŒï¼Œè¿˜å¯ä»¥é€šè¿‡è®¾è®¡å¸ˆçµåŠ¨è®¾è®¡çš„åœºæ™¯æ¨¡å‹ä¸ç°å®è®¾å¤‡è¿›è¡Œæ•°æ®äº’é€šä¸è”åŠ¨ï¼ŒçœŸæ­£å®ç°3Dä¸‡ç‰©å¯è§†ï¼Œè¿˜æ”¯æŒ3Dåœ°å›¾ç­‰æ•ˆæœï¼Œæ”¯æŒåœ°ç†æ•°æ®å¤šå±‚å åŠ ã€‚ æ”¯æŒå¤šç§å›¾è¡¨æ•ˆæœ æ”¯æŒå„ç±»å›¾è¡¨ï¼ŒæŠ˜çº¿ï¼Œç‚¹ï¼ŒæŸ±ï¼Œåœ°å›¾ç­‰éƒ½æœ‰æ¶‰åŠï¼Œæ”¯æŒå¤šç§å¯è§†åŒ–å›¾è¡¨åº“ï¼Œechartsï¼Œhighchartsï¼Œd3ï¼Œg2ç­‰ã€‚ æ•°æ®ä¸‹é’»å’Œä¸Šæµ® æ”¯æŒå¤šå›¾è¡¨æ•°æ®è”åŠ¨ï¼Œä»¥åŠä¸‹é’»å’Œä¸Šæµ® å‘ç‰ˆæ¡ˆä¾‹èƒ½æºè¡Œä¸šåœ¨é«˜å³°ç”¨é‡æ—¶æ®µï¼Œè‹¥ç”µåŠ›ä¾›åº”ä¸è¶³å¯èƒ½å¯¼è‡´æ–­ç”µã€‚ç›¸åï¼Œåˆ™ä¼šé€ æˆèµ„æºæµªè´¹ã€‚å…ˆè¿›çš„éœ€æ±‚é¢„æµ‹æŠ€æœ¯å¯ä»¥è¯¦ç»†é¢„æµ‹ç‰¹å®šæ—¥æ¯å°æ—¶çš„éœ€æ±‚ä¸é«˜å³°æ—¶ã€‚æˆ‘ä»¬è¿˜é’ˆå¯¹ç”µåŠ›äº§ç”Ÿä¼ä¸šè¿›è¡Œç…¤è€—ã€æ™ºèƒ½å‘ç”µè¿›è¡Œå…¨é¢çš„æŠ€æœ¯æ”¯æŒã€‚ æ™ºæ…§å‘ç”µæ§ç³»ç»Ÿ æºæ‰‹å›½å®¶èƒ½æºé›†å›¢ BIPVå…‰ä¼å‘ç”µæ§åˆ¶ ä¸œèƒœç”µå‚æ•°æ®å¤§å± æ—…æ¸¸è¡Œä¸šæ¸¸å®¢æ¥æº:é€šè¿‡è½¦ç‰Œã€æ¸¸å®¢çš„æ‰‹æœºå·ç ã€èº«ä»½è¯å¤šç»´åº¦çš„åˆ†ææ˜ç¡®å¹¿å‘ŠæŠ•æ”¾ã€‚ è½¦æµ:å¯¹è½¦æµé‡ã€å„å¡å£å…¥å£çš„æµé‡è¿›è¡Œåˆ†æï¼Œæ–¹ä¾¿è¿›è¡Œæ•´ä½“äº¤é€šç–å¯¼ã€‚ æœç´¢åˆ†æ:å¯¹æ•°æ®å…³é”®è¯è¿›è¡Œå®šåˆ¶å’Œå±•ç¤ºï¼Œå¸®åŠ©å®£ä¼ ã€æ–‡æ¡ˆå¼•å¯¼æ¥æºå®¢æµã€‚ é—¨ç¥¨ã€é…’åº—:å…¨é¢å¯¹é—¨ç¥¨é”€å”®æ•°æ®ã€æ—¶é—´æ•°æ®è¿›è¡Œå¯¹æ¯”ï¼Œä»¥åŠå¯¹é…’åº—å…¥ä½è¿›è¡Œåˆ†æã€‚ ç¯å¢ƒæ£€æµ‹:å¯¹äºæ™¯åŒºçš„æ•´ä½“ç¯é•œã€PM2.5ã€è´Ÿæ°§ç¦»å­è¿›è¡Œåˆ†æï¼Œå¯¹æ™¯åŒºæ›´ä¿¡èµ– ã€‚ å…¨å›½æ—…æ¸¸åˆ†å¸ƒå›¾ æ—…æ¸¸è½¦è¾†ä¿¡æ¯æ±‡æ€» ä¸ªäººåˆ›ä½œæ‰‹æ­æ–°å† ç–«æƒ…å¤§æ•°æ®è¶‹åŠ¿ åˆ©ç”¨é™æ€æ•°æ®å’Œç‚«é…·çš„å›¾ç‰‡ï¼Œä¸ªäººä¹Ÿèƒ½å¾ˆå®¹æ˜“æ­å»ºå‡ºä¸€ä¸ªå¯è§†åŒ–å¤§å±ï¼Œåœ¨å±å¹•ä¸Šå‘æŒ¥è‡ªå·±çš„èªæ˜æ‰æ™ºï¼ï¼ï¼ çº¿ä¸Šæµ‹è¯•åœ°å€åœ°å€ï¼š http://ys.kwcnet.com/ è´¦å·ï¼šadmin å¯†ç ï¼š admin","categories":[{"name":"ä¸ªäººé¡¹ç›®","slug":"ä¸ªäººé¡¹ç›®","permalink":"https://yangyfeng.github.io/blogpost/categories/ä¸ªäººé¡¹ç›®/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/tags/å‰ç«¯/"},{"name":"æ•°æ®å¯è§†åŒ–","slug":"æ•°æ®å¯è§†åŒ–","permalink":"https://yangyfeng.github.io/blogpost/tags/æ•°æ®å¯è§†åŒ–/"}]},{"title":"2021å¹´å‰ç«¯é‡ä¿®è¯¾","slug":"å‰ç«¯å¹²è´§/2021å¹´å‰ç«¯é‡ä¿®è¯¾","date":"2021-02-01T16:00:00.000Z","updated":"2021-03-27T06:24:34.631Z","comments":true,"path":"/posts/cf2c43d.html","link":"","permalink":"https://yangyfeng.github.io/posts/cf2c43d.html","excerpt":"","text":"2021å¹´å‰ç«¯é‡ä¿®è¯¾","categories":[{"name":"æ·±å…¥å‰ç«¯","slug":"æ·±å…¥å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/æ·±å…¥å‰ç«¯/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"https://yangyfeng.github.io/blogpost/tags/Javascript/"}]},{"title":"globalThiså¯¹è±¡","slug":"Es6/globalThiså¯¹è±¡","date":"2021-01-07T16:00:00.000Z","updated":"2021-03-27T06:24:34.614Z","comments":true,"path":"/posts/180dd8a3.html","link":"","permalink":"https://yangyfeng.github.io/posts/180dd8a3.html","excerpt":"","text":"JavaScript è¯­è¨€å­˜åœ¨ä¸€ä¸ªé¡¶å±‚å¯¹è±¡ï¼Œå®ƒæä¾›å…¨å±€ç¯å¢ƒï¼ˆå³å…¨å±€ä½œç”¨åŸŸï¼‰ï¼Œæ‰€æœ‰ä»£ç éƒ½æ˜¯åœ¨è¿™ä¸ªç¯å¢ƒä¸­è¿è¡Œã€‚ä½†æ˜¯ï¼Œé¡¶å±‚å¯¹è±¡åœ¨å„ç§å®ç°é‡Œé¢æ˜¯ä¸ç»Ÿä¸€çš„ã€‚ æµè§ˆå™¨é‡Œé¢ï¼Œé¡¶å±‚å¯¹è±¡æ˜¯windowï¼Œä½† Node å’Œ Web Worker æ²¡æœ‰windowã€‚ æµè§ˆå™¨å’Œ Web Worker é‡Œé¢ï¼Œselfä¹ŸæŒ‡å‘é¡¶å±‚å¯¹è±¡ï¼Œä½†æ˜¯ Node æ²¡æœ‰selfã€‚ Node é‡Œé¢ï¼Œé¡¶å±‚å¯¹è±¡æ˜¯globalï¼Œä½†å…¶ä»–ç¯å¢ƒéƒ½ä¸æ”¯æŒã€‚ åŒä¸€æ®µä»£ç ä¸ºäº†èƒ½å¤Ÿåœ¨å„ç§ç¯å¢ƒï¼Œéƒ½èƒ½å–åˆ°é¡¶å±‚å¯¹è±¡ï¼Œç°åœ¨ä¸€èˆ¬æ˜¯ä½¿ç”¨thiså˜é‡ï¼Œä½†æ˜¯æœ‰å±€é™æ€§ã€‚ å…¨å±€ç¯å¢ƒä¸­ï¼Œthisä¼šè¿”å›é¡¶å±‚å¯¹è±¡ã€‚ä½†æ˜¯ï¼ŒNode.js æ¨¡å—ä¸­thisè¿”å›çš„æ˜¯å½“å‰æ¨¡å—ï¼ŒES6 æ¨¡å—ä¸­thisè¿”å›çš„æ˜¯undefinedã€‚ å‡½æ•°é‡Œé¢çš„thisï¼Œå¦‚æœå‡½æ•°ä¸æ˜¯ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è¿è¡Œï¼Œè€Œæ˜¯å•çº¯ä½œä¸ºå‡½æ•°è¿è¡Œï¼Œthisä¼šæŒ‡å‘é¡¶å±‚å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™æ—¶thisä¼šè¿”å›undefinedã€‚ ä¸ç®¡æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œè¿˜æ˜¯æ™®é€šæ¨¡å¼ï¼Œnew Function(&#39;return this&#39;)()ï¼Œæ€»æ˜¯ä¼šè¿”å›å…¨å±€å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œå¦‚æœæµè§ˆå™¨ç”¨äº† CSPï¼ˆContent Security Policyï¼Œå†…å®¹å®‰å…¨ç­–ç•¥ï¼‰ï¼Œé‚£ä¹ˆevalã€new Functionè¿™äº›æ–¹æ³•éƒ½å¯èƒ½æ— æ³•ä½¿ç”¨ã€‚ ç»¼ä¸Šæ‰€è¿°ï¼Œå¾ˆéš¾æ‰¾åˆ°ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥åœ¨æ‰€æœ‰æƒ…å†µä¸‹ï¼Œéƒ½å–åˆ°é¡¶å±‚å¯¹è±¡ã€‚ä¸‹é¢æ˜¯ä¸¤ç§å‹‰å¼ºå¯ä»¥ä½¿ç”¨çš„æ–¹æ³•ã€‚ 12345678910111213141516// æ–¹æ³•ä¸€(typeof window !== 'undefined' ? window : (typeof process === 'object' &amp;&amp; typeof require === 'function' &amp;&amp; typeof global === 'object') ? global : this);// æ–¹æ³•äºŒvar getGlobal = function () &#123; if (typeof self !== 'undefined') &#123; return self; &#125; if (typeof window !== 'undefined') &#123; return window; &#125; if (typeof global !== 'undefined') &#123; return global; &#125; throw new Error('unable to locate global object');&#125;; ES2020 åœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ï¼Œå¼•å…¥globalThisä½œä¸ºé¡¶å±‚å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»»ä½•ç¯å¢ƒä¸‹ï¼ŒglobalThiséƒ½æ˜¯å­˜åœ¨çš„ï¼Œéƒ½å¯ä»¥ä»å®ƒæ‹¿åˆ°é¡¶å±‚å¯¹è±¡ï¼ŒæŒ‡å‘å…¨å±€ç¯å¢ƒä¸‹çš„thisã€‚ å«ç‰‡åº“global-thisæ¨¡æ‹Ÿäº†è¿™ä¸ªææ¡ˆï¼Œå¯ä»¥åœ¨æ‰€æœ‰ç¯å¢ƒæ‹¿åˆ°globalThisã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Es6","slug":"Es6","permalink":"https://yangyfeng.github.io/blogpost/tags/Es6/"}]},{"title":"Babelè½¬ç å™¨","slug":"Es6/Babel è½¬ç å™¨","date":"2021-01-07T16:00:00.000Z","updated":"2021-03-27T06:24:34.613Z","comments":true,"path":"/posts/390a51fc.html","link":"","permalink":"https://yangyfeng.github.io/posts/390a51fc.html","excerpt":"","text":"Babel æ˜¯ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„ ES6 è½¬ç å™¨(ä¸‹ä¸€ä»£çš„JavaScriptç¼–è¯‘å™¨)ï¼Œå¯ä»¥å°† ES6 ä»£ç è½¬ä¸º ES5 ä»£ç ï¼Œä»è€Œåœ¨è€ç‰ˆæœ¬çš„æµè§ˆå™¨æ‰§è¡Œã€‚è¿™æ„å‘³ç€ï¼Œä½ å¯ä»¥ç”¨ ES6 çš„æ–¹å¼ç¼–å†™ç¨‹åºï¼Œåˆä¸ç”¨æ‹…å¿ƒç°æœ‰ç¯å¢ƒæ˜¯å¦æ”¯æŒã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ 1234567// è½¬ç å‰input.map(item =&gt; item + 1);// è½¬ç åinput.map(function (item) &#123; return item + 1;&#125;); ä¸Šé¢çš„åŸå§‹ä»£ç ç”¨äº†ç®­å¤´å‡½æ•°ï¼ŒBabel å°†å…¶è½¬ä¸ºæ™®é€šå‡½æ•°ï¼Œå°±èƒ½åœ¨ä¸æ”¯æŒç®­å¤´å‡½æ•°çš„ JavaScript ç¯å¢ƒæ‰§è¡Œäº†ã€‚ ä¸‹é¢çš„å‘½ä»¤åœ¨é¡¹ç›®ç›®å½•ä¸­ï¼Œå®‰è£… Babelã€‚ 1$ npm install --save-dev @babel/core é…ç½®æ–‡ä»¶.babelrcBabel çš„é…ç½®æ–‡ä»¶æ˜¯.babelrcï¼Œå­˜æ”¾åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ã€‚ä½¿ç”¨ Babel çš„ç¬¬ä¸€æ­¥ï¼Œå°±æ˜¯é…ç½®è¿™ä¸ªæ–‡ä»¶ã€‚ è¯¥æ–‡ä»¶ç”¨æ¥è®¾ç½®è½¬ç è§„åˆ™å’Œæ’ä»¶ï¼ŒåŸºæœ¬æ ¼å¼å¦‚ä¸‹ã€‚ 1234&#123; \"presets\": [], \"plugins\": []&#125; presetså­—æ®µè®¾å®šè½¬ç è§„åˆ™ï¼Œå®˜æ–¹æä¾›ä»¥ä¸‹çš„è§„åˆ™é›†ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦å®‰è£…ã€‚ 12345# æœ€æ–°è½¬ç è§„åˆ™$ npm install --save-dev @babel/preset-env# react è½¬ç è§„åˆ™$ npm install --save-dev @babel/preset-react ç„¶åï¼Œå°†è¿™äº›è§„åˆ™åŠ å…¥.babelrcã€‚ 1234567&#123; \"presets\": [ \"@babel/env\", \"@babel/preset-react\" ], \"plugins\": [] &#125; æ³¨æ„ï¼Œä»¥ä¸‹æ‰€æœ‰ Babel å·¥å…·å’Œæ¨¡å—çš„ä½¿ç”¨ï¼Œéƒ½å¿…é¡»å…ˆå†™å¥½.babelrcã€‚ å‘½ä»¤è¡Œè½¬ç  Babel æä¾›å‘½ä»¤è¡Œå·¥å…·@babel/cliï¼Œç”¨äºå‘½ä»¤è¡Œè½¬ç ã€‚ å®ƒçš„å®‰è£…å‘½ä»¤å¦‚ä¸‹ã€‚ 1$ npm install --save-dev @babel/cli åŸºæœ¬ç”¨æ³•å¦‚ä¸‹ã€‚ 1234567891011121314151617# è½¬ç ç»“æœè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º$ npx babel example.js# è½¬ç ç»“æœå†™å…¥ä¸€ä¸ªæ–‡ä»¶# --out-file æˆ– -o å‚æ•°æŒ‡å®šè¾“å‡ºæ–‡ä»¶$ npx babel example.js --out-file compiled.js# æˆ–è€…$ npx babel example.js -o compiled.js# æ•´ä¸ªç›®å½•è½¬ç # --out-dir æˆ– -d å‚æ•°æŒ‡å®šè¾“å‡ºç›®å½•$ npx babel src --out-dir lib# æˆ–è€…$ npx babel src -d lib# -s å‚æ•°ç”Ÿæˆsource mapæ–‡ä»¶$ npx babel src -d lib -s polyfillBabel é»˜è®¤åªè½¬æ¢æ–°çš„ JavaScript å¥æ³•ï¼ˆsyntaxï¼‰ï¼Œè€Œä¸è½¬æ¢æ–°çš„ APIï¼Œæ¯”å¦‚Iteratorã€Generatorã€Setã€Mapã€Proxyã€Reflectã€Symbolã€Promiseç­‰å…¨å±€å¯¹è±¡ï¼Œä»¥åŠä¸€äº›å®šä¹‰åœ¨å…¨å±€å¯¹è±¡ä¸Šçš„æ–¹æ³•ï¼ˆæ¯”å¦‚Object.assignï¼‰éƒ½ä¸ä¼šè½¬ç ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼ŒES6 åœ¨Arrayå¯¹è±¡ä¸Šæ–°å¢äº†Array.fromæ–¹æ³•ã€‚Babel å°±ä¸ä¼šè½¬ç è¿™ä¸ªæ–¹æ³•ã€‚å¦‚æœæƒ³è®©è¿™ä¸ªæ–¹æ³•è¿è¡Œï¼Œå¯ä»¥ä½¿ç”¨core-jså’Œregenerator-runtime(åè€…æä¾›generatorå‡½æ•°çš„è½¬ç )ï¼Œä¸ºå½“å‰ç¯å¢ƒæä¾›ä¸€ä¸ªå«ç‰‡ã€‚ å®‰è£…å‘½ä»¤å¦‚ä¸‹ã€‚ 1$ npm install --save-dev core-js regenerator-runtime ç„¶åï¼Œåœ¨è„šæœ¬å¤´éƒ¨ï¼ŒåŠ å…¥å¦‚ä¸‹ä¸¤è¡Œä»£ç ã€‚ 12345import 'core-js';import 'regenerator-runtime/runtime';// æˆ–è€…require('core-js');require('regenerator-runtime/runtime); Babel é»˜è®¤ä¸è½¬ç çš„ API éå¸¸å¤šï¼Œè¯¦ç»†æ¸…å•å¯ä»¥æŸ¥çœ‹babel-plugin-transform-runtimeæ¨¡å—çš„definitions.jsæ–‡ä»¶ã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Es6","slug":"Es6","permalink":"https://yangyfeng.github.io/blogpost/tags/Es6/"}]},{"title":"js ä¼˜åŒ–forå¾ªç¯-Duffè£…ç½®","slug":"å‰ç«¯å¹²è´§/js ä¼˜åŒ–forå¾ªç¯-Duffè£…ç½®","date":"2020-12-23T16:00:00.000Z","updated":"2021-03-27T06:24:34.632Z","comments":true,"path":"/posts/ef7302f6.html","link":"","permalink":"https://yangyfeng.github.io/posts/ef7302f6.html","excerpt":"","text":"å¾ªç¯æ˜¯ç¼–ç¨‹ä¸­å¸¸è§çš„ç»“æ„ï¼Œåœ¨javaScriptç¨‹åºä¸­åŒæ ·éšå¤„å¯è§ã€‚å½“æˆ‘ä»¬è¦å¤„ç†çš„æ•°æ®é›†å¾ˆå¤§æ—¶ï¼Œforå¾ªç¯çš„ä¼˜åŒ–å°±æ˜¾å¾—æ ¼å¤–é‡è¦äº†ã€‚ å¦‚ä¸‹æ˜¯ä¸€ä¸ªå¸¸è§çš„forå¾ªç¯ï¼š 123for(var i = 0; i &lt; values.length; i++) &#123; console.log(values[i])&#125; è¿™æ®µä»£ç ä¸­æ¯å¾ªç¯ä¸€æ¬¡éƒ½è¦è®¡ç®—ä¸€æ¬¡valuesçš„é•¿åº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†å¾ªç¯ç”±ié€’å¢æ”¹ä¸ºié€’å‡ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå°†ç»ˆæ­¢æ¡ä»¶values.l engthçš„O(n)è°ƒç”¨ç®€åŒ–æˆäº†O(1)è°ƒç”¨ï¼Œåˆæ¬¡ä¼˜åŒ–çš„ä»£ç å¦‚ä¸‹ï¼š 123for(var i = values.length -1; i &gt;= 0; i--)&#123; console.log(values[i])&#125; æˆ‘ä»¬è¿˜å¯ä»¥å°†å¾ªç¯æ”¹ä¸ºåæµ‹è¯•å¾ªç¯ï¼Œå¦‚ä¸‹ï¼š 123456var i = values.length - 1;if (i &gt; -1) &#123; do&#123; console.log(values[i]); &#125;while(--i &gt;= 0)&#125; ä»¥ä¸Šçš„ä»£ç ä¸»è¦æ˜¯å°†ç»ˆæ­¢æ¡ä»¶å’Œè‡ªå‡æ“ä½œç¬¦ç»„åˆæˆäº†å•ä¸ªè¯­å¥ï¼Œä¸è¿‡ä½¿ç”¨åæµ‹è¯•å¾ªç¯å¿…é¡»è¦ä¿è¯è¦å¤„ç†çš„å€¼å¿…é¡»æœ‰ä¸€ä¸ªã€‚ç©ºæ•°ç»„ä¼šå¯¼è‡´å¤šä½™çš„ä¸€æ¬¡å¾ªç¯ã€‚ ä»¥ä¸Šçš„ä¼˜åŒ–éƒ½æ˜¯åŸºäºç»ˆæ­¢æ¡ä»¶å’Œè‡ªå‡æ“ä½œï¼Œå¾ªç¯çš„æ¬¡æ•°ä¾ç„¶æ²¡æœ‰å˜åŒ–ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å‡å°‘å¾ªç¯çš„æ¬¡æ•°ï¼Œä»£ç è¿è¡Œé€Ÿåº¦æ˜¯ä¸æ˜¯ä¼šæ›´å¿«å‘¢ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä»‹ç»ä¸‹ä¸€ç§å«Duffè£…ç½®çš„æŠ€æœ¯ã€‚Duffè£…ç½®çš„åŸºæœ¬æ¦‚å¿µæ˜¯é€šè¿‡è®¡ç®—è¿­ä»£çš„æ¬¡æ•°æ˜¯å¦ä¸º8çš„å€æ•°å°†ä¸€ä¸ªå¾ªç¯å±•å¼€ä¸ºä¸€ç³»åˆ—è¯­å¥ã€‚è¯·çœ‹ä»¥ä¸‹ä»£ç ï¼š 12345678910111213141516var iterations = Math.ceil(values.length / 8);var startAt = values.length % 8;var i = 0;do&#123; switch(startAt)&#123; case 0: console.log(values[i++]); case 7: console.log(values[i++]); case 6: console.log(values[i++]); case 5: console.log(values[i++]); case 4: console.log(values[i++]); case 3: console.log(values[i++]); case 2: console.log(values[i++]); case 1: console.log(values[i++]); &#125; startAt = 0;&#125;while(--iterations &gt; 0) æˆ‘ä»¬å‡è®¾å¾ªç¯æ¬¡æ•°æ˜¯10æ¬¡ï¼Œåœ¨æ™®é€šçš„forå¾ªç¯ä¸­ï¼Œä¼šè¿›å…¥å¾ªç¯ä½“10æ¬¡ï¼Œæ¯ä¸€æ¬¡æ‰“å°å¯¹åº”çš„å€¼ã€‚è€Œåœ¨ä»¥ä¸Šçš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬è®¡ç®—å‡ºiterationsæ˜¯2ï¼ŒstartAtæ˜¯2ï¼Œç¬¬ä¸€æ¬¡è¿›å…¥switchè¯­å¥çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œä¸¤æ¬¡consoleè¯­å¥ï¼ŒstartAté‡ç½®ä¸º0ï¼Œiterationsè‡ªå‡ä¸º1ï¼Œç¬¬äºŒæ¬¡è¿›å…¥switchè¯­å¥æ—¶ï¼Œå°±,ä¼šæ‰§è¡Œ8æ¬¡consoleè¯­å¥ï¼Œ ç„¶åé€€å‡ºå¾ªç¯ã€‚ä»¥ä¸Šåªæ‰§è¡Œäº†ä¸¤æ¬¡å¾ªç¯ï¼Œæ‰“å°çš„æ¬¡æ•°ä¾ç„¶æ˜¯10æ¬¡ï¼Œæˆ‘ä»¬å‡å°‘äº†å¾ªç¯çš„æ¬¡æ•°å’Œå¤„ç†ç»ˆæ­¢æ¡ä»¶çš„é¢å¤–å¼€é”€ï¼Œåœ¨æ•°æ®é‡å¾ˆå¤§çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ä»£ç è¿è¡Œçš„æ›´å¿«ã€‚åŸºäºä»¥ä¸Šä»£ç ï¼ŒAndrew B.Kingæå‡ºäº†ä¸€ä¸ªæ›´å¿«çš„Duffè£…ç½®æŠ€æœ¯ï¼Œå°†do-whileå¾ªç¯åˆ†æˆä¸¤ä¸ªå•ç‹¬çš„å¾ªç¯ã€‚ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718var iterations = Math.floor(values.length / 8);var leftover = values.length % 8;var i = 0;if(leftover &gt; 0)&#123; do&#123; console.log(values[i++]); &#125;while(--leftover &gt; 0);&#125;do&#123; console.log(values[i++]); console.log(values[i++]); console.log(values[i++]); console.log(values[i++]); console.log(values[i++]); console.log(values[i++]); console.log(values[i++]); console.log(values[i++]);&#125;while(--iterations &gt; 0) ä»¥ä¸Šçš„ä»£ç æ²¡æœ‰switchè¯­å¥ï¼Œæ¯æ¬¡è¿›å…¥ç¬¬äºŒä¸ªdo-whileå¾ªç¯æ—¶ï¼Œæ‰§è¡Œ8æ¬¡consoleå³å¯ï¼Œè¿™ä¸ªæ–¹æ³•æ¯”å‡ ä¹æ¯”åŸå§‹çš„Duffè£…ç½®å®ç°å¿«ä¸Š40%ã€‚é’ˆå¯¹å¤§æ•°æ®é›†ä½¿ç”¨Duffè£…ç½®æŠ€æœ¯å¯ä»¥èŠ‚çœå¾ˆå¤šæ—¶é—´ï¼Œä½†å¯¹äºå°æ•°æ®é›†ï¼Œé¢å¤–çš„å¼€é”€åˆ™å¯èƒ½å¾—ä¸å¿å¤±ã€‚æˆ‘ä»¬å¯ä»¥å°†duffè£…ç½®æŠ€æœ¯å°è£…æˆä¸€ä¸ªç±»ä¼¼äºforEachçš„æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324Array.prototype.duffForEach = function (fn) &#123; const len = this.length; var num = Math.floor(len / 8); var leftover = len % 8; var i = 0; if (leftover &gt; 0) &#123; do &#123; fn(this[i], i++); &#125; while (--leftover &gt; 0); &#125; if (this.length &lt; 8) &#123; return &#125; do &#123; fn(this[i], i++); fn(this[i], i++); fn(this[i], i++); fn(this[i], i++); fn(this[i], i++); fn(this[i], i++); fn(this[i], i++); fn(this[i], i++); &#125; while (--num &gt; 0);&#125;; æˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€ä¸‹ï¼š 1234let arr = [1, 2, 3, 4, 5];arr.duffForEach((item, index) =&gt; &#123; console.log(item, index)&#125;) å¯ä»¥çœ‹åˆ°ï¼Œç»“æœä¸å‡ºæ„æ–™æ˜¯æ­£å¸¸çš„ åŸæ–‡åœ°å€","categories":[{"name":"æ·±å…¥å‰ç«¯","slug":"æ·±å…¥å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/æ·±å…¥å‰ç«¯/"}],"tags":[{"name":"ä»£ç ä¼˜åŒ–","slug":"ä»£ç ä¼˜åŒ–","permalink":"https://yangyfeng.github.io/blogpost/tags/ä»£ç ä¼˜åŒ–/"}]},{"title":"V8å¼•æ“æ˜¯å¦‚ä½•è¿è¡ŒJS","slug":"å‰ç«¯å¹²è´§/V8å¼•æ“æ˜¯å¦‚ä½•è¿è¡ŒJS","date":"2020-12-21T16:00:00.000Z","updated":"2021-03-27T06:24:34.631Z","comments":true,"path":"/posts/cf2c43d.html","link":"","permalink":"https://yangyfeng.github.io/posts/cf2c43d.html","excerpt":"","text":"ä»€ä¹ˆæ˜¯V8å¼•æ“ä¸€ä¸ªæ¥å—JavaScriptä»£ç ï¼Œç¼–è¯‘ä»£ç ç„¶åæ‰§è¡Œçš„C++ ç¨‹åºï¼Œç¼–è¯‘åçš„ä»£ç å¯ä»¥åœ¨å¤šç§æ“ä½œç³»ç»Ÿå¤šç§å¤„ç†å™¨ä¸Šè¿è¡Œã€‚ ä»‹ç» å“ªäº›ç¨‹åºç”¨åˆ°V8 Chromeæµè§ˆå™¨çš„JSå¼•æ“æ˜¯V8 Nodejsçš„è¿è¡Œæ—¶ç¯å¢ƒæ˜¯V8 electronçš„åº•å±‚å¼•æ“æ˜¯V8 è·¨å¹³å°æ¡Œé¢åº”ç”¨å¼€å‘å·¥å…· blinkæ˜¯æ¸²æŸ“å¼•æ“ï¼ŒV8æ˜¯JSå¼•æ“ è®¿é—®Domçš„æ¥å£æ˜¯ç”±Blinkæä¾›çš„ åŠŸèƒ½ æ¥æ”¶JavaScriptä»£ç ï¼Œç¼–è¯‘ä»£ç åæ‰§è¡ŒC++ç¨‹åºï¼Œç¼–è¯‘åçš„ä»£ç å¯ä»¥åœ¨å¤šç§æ“ä½œç³»ç»Ÿå¤šç§å¤„ç†å™¨ä¸Šè¿è¡Œã€‚ç¼–è¯‘å’Œæ‰§è¡ŒJSä»£ç ã€å¤„ç†è°ƒç”¨æ ˆã€å†…å­˜åˆ†é…ã€åƒåœ¾å›æ”¶ã€‚ ç¼–è¯‘å’Œæ‰§è¡ŒJSä»£ç  å¤„ç†è°ƒç”¨æ ˆ å†…å­˜åˆ†é… åƒåœ¾å›æ”¶ V8çš„jsç¼–è¯‘å’Œæ‰§è¡Œ è§£æå™¨ parser js â€“&gt; è§£ææˆåŠŸæŠ½è±¡è¯­æ³•æ ‘AST è§£é‡Šå™¨ interpreter AST â€“&gt; å­—èŠ‚ç bytecodeï¼Œä¹Ÿæœ‰ç›´æ¥æ‰§è¡Œå­—èŠ‚ç çš„èƒ½åŠ› ç¼–è¯‘å™¨ compiler bytecode â€“&gt; æ›´é«˜æ•ˆçš„æœºå™¨ç  V8ç‰ˆæœ¬5.9ä¹‹å‰æ²¡æœ‰è§£é‡Šå™¨ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªç¼–è¯‘å™¨ 5.9ç‰ˆæœ¬çš„V8 parser è§£é‡Šå™¨ç”ŸæˆæŠ½è±¡è¯­æ³•æ ‘AST compiler ç¼–è¯‘å™¨Full-codegen åŸºå‡†ç¼–è¯‘å™¨ ç›´æ¥ç”Ÿæˆæœºå™¨ç  è¿è¡Œä¸€æ®µæ—¶é—´åï¼Œç”±åˆ†æå™¨çº¿ç¨‹ä¼˜åŒ–jsä»£ç  compiler ç¼–è¯‘å™¨CrankShaft ä¼˜åŒ–ç¼–è¯‘å™¨ é‡æ–°ç”ŸæˆASTæå‡è¿è¡Œæ•ˆç‡ è¿™æ ·è®¾è®¡çš„ç¼ºç‚¹ æœºå™¨ç ä¼šå ç”¨å¤§é‡çš„å†…å­˜ ç¼ºå°‘ä¸­é—´å±‚æœºå™¨ç ï¼Œæ— æ³•å®ç°ä¸€äº›ä¼˜åŒ–ç­–ç•¥ æ— æ³•å¾ˆå¥½çš„æ”¯æŒå’Œä¼˜åŒ–JSçš„æ–°è¯­ç‰¹æ€§ï¼Œæ— æ³•æ‹¥æŠ±æœªæ¥ æ–°ç‰ˆæœ¬çš„V8 parser è§£æå™¨ ç”ŸæˆASTæŠ½è±¡è¯­æ³•æ ‘ interpreter è§£é‡Šå™¨ Ignition ç”ŸæˆbyteCodeå­—èŠ‚ç  å¹¶ç›´æ¥æ‰§è¡Œ æ¸…é™¤AST é‡Šæ”¾å†…å­˜ç©ºé—´ å¾—åˆ°25% - 50%çš„ç­‰æ•ˆæœºå™¨ä»£ç å¤§å° compiler è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè§£é‡Šå™¨æ”¶é›†ä¼˜åŒ–ä¿¡æ¯å‘é€ç»™ç¼–è¯‘å™¨TurboFan é‡æ–°ç”Ÿæˆæœºå™¨ç  æœ‰äº›çƒ­ç‚¹å‡½æ•°å˜æ›´ä¼šç”±ä¼˜åŒ–åçš„æœºå™¨ç è¿˜åŸæˆå­—èŠ‚ç  ä¹Ÿå°±æ˜¯deoptimization å›é€€å­—èŠ‚ç æ“ä½œæ‰§è¡Œ ä¼˜åŒ–ç‚¹ï¼š å€¼å£°æ˜æœªè°ƒç”¨ï¼Œä¸ä¼šè¢«è§£æç”ŸæˆAST å‡½æ•°åªè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œbytcodeç›´æ¥è¢«è§£é‡Šæ‰§è¡Œï¼Œä¸ä¼šè¿›å…¥åˆ°ç¼–è¯‘ä¼˜åŒ–é˜¶æ®µ å‡½æ•°è¢«è°ƒç”¨å¤šæ¬¡ï¼ŒIgnitonä¼šæ”¶é›†å‡½æ•°ç±»å‹ä¿¡æ¯ï¼Œå¯èƒ½ä¼šè¢«æ ‡è®°ä¸ºçƒ­ç‚¹å‡½æ•°ï¼Œå¯èƒ½è¢«ç¼–è¯‘æˆä¼˜åŒ–åçš„æœºå™¨ä»£ç  å¥½å¤„ï¼š ç”±äºä¸€å¼€å§‹ä¸éœ€è¦ç›´æ¥ç¼–è¯‘æˆæœºå™¨ç ï¼Œç”Ÿæˆäº†ä¸­é—´å±‚çš„å­—èŠ‚ç ï¼Œä»è€ŒèŠ‚çº¦äº†æ—¶é—´ ä¼˜åŒ–ç¼–è¯‘é˜¶æ®µï¼Œä¸éœ€è¦ä»æºç é‡æ–°è§£æ,ç›´æ¥é€šè¿‡å­—èŠ‚ç è¿›è¡Œä¼˜åŒ–ï¼Œä¹Ÿå¯ä»¥deoptimizationå›é€€æ“ä½œ 12345function sum(x,y)&#123;return x + y&#125;;sum(1,2);sum(3,4);sum(5,6);sum(\"7\",\"8\");//ä¼šå›é€€å­—èŠ‚ç æ“ä½œæ‰§è¡Œ åŸæ–‡åœ°å€","categories":[{"name":"æ·±å…¥å‰ç«¯","slug":"æ·±å…¥å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/æ·±å…¥å‰ç«¯/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"https://yangyfeng.github.io/blogpost/tags/Javascript/"},{"name":"JSè¿è¡ŒåŸç†","slug":"JSè¿è¡ŒåŸç†","permalink":"https://yangyfeng.github.io/blogpost/tags/JSè¿è¡ŒåŸç†/"},{"name":"V8å¼•æ“","slug":"V8å¼•æ“","permalink":"https://yangyfeng.github.io/blogpost/tags/V8å¼•æ“/"}]},{"title":"jsçš„äº‹ä»¶å¾ªç¯æ˜¯ä»€ä¹ˆ","slug":"å‰ç«¯å¹²è´§/jsçš„äº‹ä»¶å¾ªç¯æ˜¯ä»€ä¹ˆ","date":"2020-12-21T16:00:00.000Z","updated":"2021-03-27T06:24:34.633Z","comments":true,"path":"/posts/62b88241.html","link":"","permalink":"https://yangyfeng.github.io/posts/62b88241.html","excerpt":"","text":"äº‹ä»¶å¾ªç¯çš„æœºåˆ¶æ¦‚å¿µ å®ä»»åŠ¡ï¼šscript(æ•´ä¸ªä»£ç )ã€setTimeoutã€setIntervalã€setImmediateã€I/Oã€UI rendering å¾®ä»»åŠ¡ï¼špromiseã€Object.observeã€MutationObserve ä»»åŠ¡çš„ä¼˜å…ˆçº§ï¼šprocess.nextTick &gt; promise.then &gt; setTimeout &gt; setImmediate https://mp.weixin.qq.com/s/7k4skVdCIhTsTdEFmXyYLg","categories":[{"name":"æ·±å…¥å‰ç«¯","slug":"æ·±å…¥å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/æ·±å…¥å‰ç«¯/"}],"tags":[{"name":"EventLoop","slug":"EventLoop","permalink":"https://yangyfeng.github.io/blogpost/tags/EventLoop/"}]},{"title":"javascriptæ˜¯å¦‚ä½•è¢«è¿è¡Œçš„","slug":"å‰ç«¯å¹²è´§/javascriptæ˜¯å¦‚ä½•è¢«è¿è¡Œçš„","date":"2020-12-21T16:00:00.000Z","updated":"2021-03-27T06:24:34.632Z","comments":true,"path":"/posts/81adf3b6.html","link":"","permalink":"https://yangyfeng.github.io/posts/81adf3b6.html","excerpt":"JSçš„è¯­è¨€ç»„æˆ åŸºæœ¬è¯­æ³•ï¼šC æ•°æ®ç±»å‹ å†…å­˜ç®¡ç†ï¼šJava å‡½æ•°å¼ç¼–ç¨‹ï¼šScheme å‡½æ•°æ˜¯ç¬¬ä¸€ç­‰å…¬æ°‘ åŸå‹ç»§æ‰¿ï¼šSelf åŸºäºåŸå‹prototypeçš„ç»§æ‰¿æœºåˆ¶ å¥‡è‘©çš„JSå¯¹äºç†Ÿæ‚‰javascriptè¯­è¨€çš„å‰ç«¯å¼€å‘å°ä¼™ä¼´ï¼Œç›´æ¥ä¸Šæ¥ä¸¤å¼ å›¾ æ˜¯ä¸æ˜¯ç¬é—´æ„Ÿè§‰å¤´è„‘å‘çƒ­å‘¢ã€‚ ä¹‹æ‰€ä»¥ä¼šå‡ºç°è¿™äº›è¯¡å¼‚çš„é—®é¢˜ï¼Œæ˜¯å› ä¸ºjavascriptæ˜¯åœ¨è®¾è®¡ä¹‹åˆå¹¶æ²¡æœ‰è€ƒè™‘çš„å®Œå–„ï¼Œæ˜¯å€Ÿé‰´äº†å¤šç§è¯­è¨€çš„æ¨¡å¼ï¼ŒåŸºæœ¬æ˜¯èåˆäº†é¢å‘è¿‡ç¨‹å’Œé¢å‘å¯¹è±¡çš„ã€‚","text":"JSçš„è¯­è¨€ç»„æˆ åŸºæœ¬è¯­æ³•ï¼šC æ•°æ®ç±»å‹ å†…å­˜ç®¡ç†ï¼šJava å‡½æ•°å¼ç¼–ç¨‹ï¼šScheme å‡½æ•°æ˜¯ç¬¬ä¸€ç­‰å…¬æ°‘ åŸå‹ç»§æ‰¿ï¼šSelf åŸºäºåŸå‹prototypeçš„ç»§æ‰¿æœºåˆ¶ å¥‡è‘©çš„JSå¯¹äºç†Ÿæ‚‰javascriptè¯­è¨€çš„å‰ç«¯å¼€å‘å°ä¼™ä¼´ï¼Œç›´æ¥ä¸Šæ¥ä¸¤å¼ å›¾ æ˜¯ä¸æ˜¯ç¬é—´æ„Ÿè§‰å¤´è„‘å‘çƒ­å‘¢ã€‚ ä¹‹æ‰€ä»¥ä¼šå‡ºç°è¿™äº›è¯¡å¼‚çš„é—®é¢˜ï¼Œæ˜¯å› ä¸ºjavascriptæ˜¯åœ¨è®¾è®¡ä¹‹åˆå¹¶æ²¡æœ‰è€ƒè™‘çš„å®Œå–„ï¼Œæ˜¯å€Ÿé‰´äº†å¤šç§è¯­è¨€çš„æ¨¡å¼ï¼ŒåŸºæœ¬æ˜¯èåˆäº†é¢å‘è¿‡ç¨‹å’Œé¢å‘å¯¹è±¡çš„ã€‚ è¯­è¨€ç‰¹æ€§åŠ¨æ€ç±»å‹è¯­è¨€ JS ç¼–è¯‘ç¯å¢ƒJIT Just In Time Compilation é™æ€ç±»å‹è¯­è¨€ C++ ç¼–è¯‘ç¯å¢ƒ AOT Ahead Of Time JIT jså¼•æ“è¿ç”¨äº†ä¸€é¡¹æŠ€æœ¯å«è¿è¡Œæ—¶ç¼–è¯‘ JITjavascriptæ˜¯åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œåœ¨ç¼–è¯‘æ˜¯ä½¿ç”¨çš„æ˜¯JIT(just in time compilation) è¿è¡Œæ—¶ç¼–è¯‘æŠ€æœ¯ç™½è¯å°±æ˜¯ï¼šåœ¨è¿è¡Œæ—¶ç¼–è¯‘æˆæœºå™¨ä»£ç  AOT åœ¨è¿è¡Œå‰æå‰ç”Ÿæˆå¥½æœºå™¨ä»£ç  javascriptå¼•æ“ å°†javascriptä»£ç é«˜çº§è¯­è¨€è½¬åŒ–ä¸ºä½çº§è¯­è¨€ï¼ˆæœºå™¨è¯­è¨€ï¼‰æ¥æ‰§è¡Œ å¸¸ç”¨çš„æ‰§è¡Œjavascriptå¼•æ“ è°·æ­Œçš„v8å¼•æ“ï¼Œjavascriptcoreï¼Œspidermonkeyï¼Œquickjsï¼Œhermess(react nactive) è°·æ­ŒV8 è‹¹æœ - javaScriptCore ç«ç‹ - SpideMonkey QuickJs FaceBook - Hermes javascriptå¼•æ“çš„ç¼–è¯‘æµç¨‹ è¯´æ˜ï¼š javascriptä»£ç è§£æå™¨ï¼ˆparserï¼‰è§£ææˆæŠ½è±¡è¯­æ³•æ ‘ASTï¼Œé€šè¿‡è§£é‡Šå™¨ï¼ˆinterpreterï¼‰å°†ASTç¼–è¯‘ä¸ºå­—èŠ‚ç bytecode(è·¨å¹³å°çš„ä¸€ç§ä¸­é—´è¡¨ç¤ºï¼Œå¯ä»¥åœ¨ä¸åŒçš„æ“ä½œå¹³å°è¿è¡Œ),å­—èŠ‚ç æœ€åé€šè¿‡ç¼–è¯‘å™¨ï¼Œç”Ÿæˆæœºå™¨ä»£ç ã€‚V8åœ¨5.9ä¹‹å‰ æ˜¯æ²¡æœ‰å­—èŠ‚ç çš„ç¯èŠ‚ã€‚ parser - å°†jsæºç é€šè¿‡parserè§£æå™¨ç”ŸæˆAST æŠ½è±¡è¯­æ³•æ ‘ interpreter - é€šè¿‡è§£é‡Šå™¨å°†ASTç¼–ç¨‹æˆåŠŸå­—èŠ‚ç bytecode (å­—èŠ‚ç ä¸å¹³å°æ— å…³ï¼Œæ˜¯ä¸­é—´å±‚ï¼Œå¯ä»¥åœ¨å„ä¸ªå¹³å°ä¸Šè¿è¡Œ) compiler - æ ¹æ®å½“å‰å¹³å°ç¼–è¯‘å‡ºç›¸åº”çš„æœºå™¨ä»£ç ä¹Ÿå°±æ˜¯æ±‡ç¼–ä»£ç  å¸¸è§çš„æ“ä½œç³»ç»Ÿå¹³å°æœ‰ï¼šIA32 X64 ARM MIPS åŸæ–‡åœ°å€","categories":[{"name":"æ·±å…¥å‰ç«¯","slug":"æ·±å…¥å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/æ·±å…¥å‰ç«¯/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"https://yangyfeng.github.io/blogpost/tags/Javascript/"},{"name":"JSè¿è¡ŒåŸç†","slug":"JSè¿è¡ŒåŸç†","permalink":"https://yangyfeng.github.io/blogpost/tags/JSè¿è¡ŒåŸç†/"}]},{"title":"æµè§ˆå™¨æ˜¯å¦‚ä½•è¿ä½œçš„","slug":"å‰ç«¯å¹²è´§/æµè§ˆå™¨æ˜¯å¦‚ä½•è¿ä½œçš„","date":"2020-12-21T16:00:00.000Z","updated":"2021-03-27T06:24:34.634Z","comments":true,"path":"/posts/41e3ecae.html","link":"","permalink":"https://yangyfeng.github.io/posts/41e3ecae.html","excerpt":"æµè§ˆå™¨æ˜¯å¤šè¿›ç¨‹ç»“æ„çš„è¿›ç¨‹ æ“ä½œç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•å…ƒã€‚å¯ä»¥ç”³è¯·å’Œæ‹¥æœ‰è®¡ç®—æœºèµ„æºï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„åŸºæœ¬æ‰§è¡Œå®ä½“ã€‚ä¸¤ä¸ªè¿›ç¨‹åˆ†é…çš„èµ„æºå’Œå†…å­˜æ˜¯ç‹¬ç«‹ï¼Œå¦‚æœéœ€è¦é€šä¿¡å°±è¦ä½¿ç”¨è¿›ç¨‹é€šä¿¡ç®¡é“IPCæ¥ä¼ é€’ä¿¡æ¯ã€‚ çº¿ç¨‹ æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¹¶å‘å¤šä¸ªçº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚ æµè§ˆå™¨åŠŸèƒ½è¿›ç¨‹æ‹†è§£ æµè§ˆå™¨è¿›ç¨‹ æ§åˆ¶é™¤æ ‡ç­¾é¡µå¤–çš„ç”¨æˆ·ç•Œé¢ï¼ŒåŒ…æ‹¬åœ°å€ï¼Œä¹¦ç­¾ï¼Œåé€€ï¼Œå‰è¿›æŒ‰é’®ç­‰ï¼Œä»¥åŠè´Ÿè´£ä¸æµè§ˆå™¨å…¶ä»–è¿›ç¨‹è´Ÿè´£åè°ƒå·¥ä½œ ç¼“å­˜è¿›ç¨‹ è´Ÿè´£æ§åˆ¶æµè§ˆå™¨çš„å­˜å‚¨æ•°æ®çš„ç¼“å­˜å’Œè¯»å– ç½‘ç»œè¿›ç¨‹ å‘èµ·å’Œæ¥å—ç½‘ç»œè¯·æ±‚ æ¸²æŸ“å™¨è¿›ç¨‹ æ¸²æŸ“Tab æœ‰å¯èƒ½ä¼šä¸ºæ¯ä¸ªæ ‡ç­¾é¡µæ˜¯ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ GPUè¿›ç¨‹ æ•´ä¸ªæµè§ˆå™¨ç•Œé¢çš„æ¸²æŸ“ æ’ä»¶è¿›ç¨‹ æ§åˆ¶ç½‘ç«™ä½¿ç”¨çš„æ‰€æœ‰å†…ç½®æ’ä»¶ï¼Œä¾‹å¦‚ï¼šflash æµè§ˆå™¨ç»“æ„å›¾ è¯´æ˜ï¼š ç”¨æˆ·ç•Œé¢ï¼šå±•ç¤ºé™¤äº†æ ‡ç­¾é¡µçª—å£ä¹‹å¤–çš„å…¶ä»–ç”¨æˆ·ç”¨æˆ·ç•Œé¢å†…å®¹ æ¸²æŸ“å¼•æ“ï¼šæ¸²æŸ“ç”¨æˆ·è·å–æ•°æ®çš„æ¸²æŸ“å†…å®¹ã€‚ä¸€ä¸‹è¿˜æœ‰å¾ˆå¤šå°çš„åŠŸèƒ½æ¨¡å—ï¼Œå¦‚è´Ÿè´£ç½‘ç»œè¯·æ±‚çš„ç½‘ç»œæ¨¡å—ï¼Œç”¨äºè§£æå’Œæ‰§è¡Œjsçš„jsè§£é‡Šå™¨ æµè§ˆå™¨å¼•æ“ï¼šç”¨æˆ·ç•Œé¢å’Œæ¸²æŸ“å¼•æ“ä¹‹é—´ä¼ é€’æ•°æ® æ•°æ®æŒä¹…å±‚ï¼šå¸®åŠ©æµè§ˆå™¨å­˜å‚¨æŒä¹…æ•°æ®ï¼Œå¦‚cokieså’Œstorageã€‚ æˆ‘ä»¬ç§°å‘¼çš„å†…æ ¸å°±æ˜¯æŒ‡çš„æ¸²æŸ“å¼•æ“ï¼Œæ˜¯æ•´ä¸ªæµè§ˆå™¨çš„æ ¸å¿ƒå’Œçµé­‚ Chromiumä¼šç»™ç”¨æˆ·åˆ›å»ºçš„æ¯ä¸€ä¸ªè®¿é—®å®ä¾‹åˆ†é…ä¸€ä¸ªè¿›ç¨‹ï¼Œç¡®ä¿æ¯ä¸€ä¸ªé¡µé¢æ˜¯ç‹¬ç«‹å‘ˆç°çš„ï¼Œå¹¶ä¸”å¯¹æ¯ä¸ªç½‘ç«™çš„ç‹¬ç«‹è®¿é—®ä¹Ÿæ˜¯å½¼æ­¤éš”ç¦»çš„ã€‚è®¿é—®ä¸åŒç«™ç‚¹å’ŒåŒä¸€ç«™ç‚¹çš„ä¸åŒé¡µé¢éƒ½ä¼šåˆ›å»ºæ–°çš„è¿›ç¨‹ã€‚ä¸€ä¸ªæ ‡ç­¾å°±æ˜¯ä¸€ä¸ªæ–°çš„æ¸²æŸ“å™¨è¿›ç¨‹ã€‚","text":"æµè§ˆå™¨æ˜¯å¤šè¿›ç¨‹ç»“æ„çš„è¿›ç¨‹ æ“ä½œç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•å…ƒã€‚å¯ä»¥ç”³è¯·å’Œæ‹¥æœ‰è®¡ç®—æœºèµ„æºï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„åŸºæœ¬æ‰§è¡Œå®ä½“ã€‚ä¸¤ä¸ªè¿›ç¨‹åˆ†é…çš„èµ„æºå’Œå†…å­˜æ˜¯ç‹¬ç«‹ï¼Œå¦‚æœéœ€è¦é€šä¿¡å°±è¦ä½¿ç”¨è¿›ç¨‹é€šä¿¡ç®¡é“IPCæ¥ä¼ é€’ä¿¡æ¯ã€‚ çº¿ç¨‹ æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¹¶å‘å¤šä¸ªçº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚ æµè§ˆå™¨åŠŸèƒ½è¿›ç¨‹æ‹†è§£ æµè§ˆå™¨è¿›ç¨‹ æ§åˆ¶é™¤æ ‡ç­¾é¡µå¤–çš„ç”¨æˆ·ç•Œé¢ï¼ŒåŒ…æ‹¬åœ°å€ï¼Œä¹¦ç­¾ï¼Œåé€€ï¼Œå‰è¿›æŒ‰é’®ç­‰ï¼Œä»¥åŠè´Ÿè´£ä¸æµè§ˆå™¨å…¶ä»–è¿›ç¨‹è´Ÿè´£åè°ƒå·¥ä½œ ç¼“å­˜è¿›ç¨‹ è´Ÿè´£æ§åˆ¶æµè§ˆå™¨çš„å­˜å‚¨æ•°æ®çš„ç¼“å­˜å’Œè¯»å– ç½‘ç»œè¿›ç¨‹ å‘èµ·å’Œæ¥å—ç½‘ç»œè¯·æ±‚ æ¸²æŸ“å™¨è¿›ç¨‹ æ¸²æŸ“Tab æœ‰å¯èƒ½ä¼šä¸ºæ¯ä¸ªæ ‡ç­¾é¡µæ˜¯ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ GPUè¿›ç¨‹ æ•´ä¸ªæµè§ˆå™¨ç•Œé¢çš„æ¸²æŸ“ æ’ä»¶è¿›ç¨‹ æ§åˆ¶ç½‘ç«™ä½¿ç”¨çš„æ‰€æœ‰å†…ç½®æ’ä»¶ï¼Œä¾‹å¦‚ï¼šflash æµè§ˆå™¨ç»“æ„å›¾ è¯´æ˜ï¼š ç”¨æˆ·ç•Œé¢ï¼šå±•ç¤ºé™¤äº†æ ‡ç­¾é¡µçª—å£ä¹‹å¤–çš„å…¶ä»–ç”¨æˆ·ç”¨æˆ·ç•Œé¢å†…å®¹ æ¸²æŸ“å¼•æ“ï¼šæ¸²æŸ“ç”¨æˆ·è·å–æ•°æ®çš„æ¸²æŸ“å†…å®¹ã€‚ä¸€ä¸‹è¿˜æœ‰å¾ˆå¤šå°çš„åŠŸèƒ½æ¨¡å—ï¼Œå¦‚è´Ÿè´£ç½‘ç»œè¯·æ±‚çš„ç½‘ç»œæ¨¡å—ï¼Œç”¨äºè§£æå’Œæ‰§è¡Œjsçš„jsè§£é‡Šå™¨ æµè§ˆå™¨å¼•æ“ï¼šç”¨æˆ·ç•Œé¢å’Œæ¸²æŸ“å¼•æ“ä¹‹é—´ä¼ é€’æ•°æ® æ•°æ®æŒä¹…å±‚ï¼šå¸®åŠ©æµè§ˆå™¨å­˜å‚¨æŒä¹…æ•°æ®ï¼Œå¦‚cokieså’Œstorageã€‚ æˆ‘ä»¬ç§°å‘¼çš„å†…æ ¸å°±æ˜¯æŒ‡çš„æ¸²æŸ“å¼•æ“ï¼Œæ˜¯æ•´ä¸ªæµè§ˆå™¨çš„æ ¸å¿ƒå’Œçµé­‚ Chromiumä¼šç»™ç”¨æˆ·åˆ›å»ºçš„æ¯ä¸€ä¸ªè®¿é—®å®ä¾‹åˆ†é…ä¸€ä¸ªè¿›ç¨‹ï¼Œç¡®ä¿æ¯ä¸€ä¸ªé¡µé¢æ˜¯ç‹¬ç«‹å‘ˆç°çš„ï¼Œå¹¶ä¸”å¯¹æ¯ä¸ªç½‘ç«™çš„ç‹¬ç«‹è®¿é—®ä¹Ÿæ˜¯å½¼æ­¤éš”ç¦»çš„ã€‚è®¿é—®ä¸åŒç«™ç‚¹å’ŒåŒä¸€ç«™ç‚¹çš„ä¸åŒé¡µé¢éƒ½ä¼šåˆ›å»ºæ–°çš„è¿›ç¨‹ã€‚ä¸€ä¸ªæ ‡ç­¾å°±æ˜¯ä¸€ä¸ªæ–°çš„æ¸²æŸ“å™¨è¿›ç¨‹ã€‚ æ¸²æŸ“è¿›ç¨‹çš„è¿‡ç¨‹ ç½‘ç»œè¿›ç¨‹è·å–æ•°æ®åé€šè¿‡SafeBrowsingæ¥æ£€æŸ¥æ˜¯ä¸æ˜¯æ¶æ„ç«™ç‚¹ï¼Œå¦‚æœæ˜¯åˆ™ä¼šå±•ç¤ºä¸€ä¸ªè­¦å‘Šé¡µé¢å¹¶æç¤ºï¼Œæµè§ˆå™¨ä¼šé˜»æ­¢ä½ çš„è®¿é—®ã€‚SafeBrowsingï¼šè°·æ­Œå†…éƒ¨çš„ç«™ç‚¹å®‰å…¨æ£€æµ‹ç³»ç»Ÿè·å–æ•°æ®åç½‘ç»œçº¿ç¨‹é€šçŸ¥UIçº¿ç¨‹ï¼Œç„¶åUIçº¿ç¨‹åˆ›å»ºä¸€ä¸ªæ¸²æŸ“å™¨è¿›ç¨‹ï¼ˆrenderer threadï¼‰æ¥æ¸²æŸ“é¡µé¢ã€‚ æµè§ˆå™¨é€šè¿‡ç½‘ç»œè¯·æ±‚åè·å–htmlæ•°æ®ï¼Œé€šè¿‡tcpä¼ ç»™æ¸²æŸ“å™¨è¿›ç¨‹ï¼Œæ­£å¼è¿›å…¥æ¸²æŸ“æµç¨‹ã€‚ DOM - é€šè¿‡tokeniserè¿›è¡Œè¯æ³•åˆ†æå™¨ç”Ÿæˆæ ‡è®°ï¼Œæ ¹æ®è¯†åˆ«åçš„æ ‡è®°è¿›è¡Œdom treeæ„é€ ï¼Œåˆ›å»ºDOMå¯¹è±¡ã€‚ä¸»çº¿ç¨‹å°†htmlè§£ææ„é€ DOMæ ‘ style - æ ·å¼è®¡ç®—ï¼Œç”Ÿæˆcss tree layoutTree - dom+style æ ¹æ®domæ ‘å’Œæ ·å¼ç”ŸæˆlayoutTree paint -ç»˜åˆ¶ é€šè¿‡éå† Layout Treeç”Ÿæˆç»˜åˆ¶é¡ºåºè¡¨ã€‚å°†å›¾å½¢å—è½¬åŒ–ä¸ºåƒç´ ç‚¹ç»˜åˆ¶åœ¨å±å¹•ä¸Šï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšæ …æ ¼åŒ–ï¼ˆrasteringï¼‰ã€‚ laryer - å¸ƒå±€ ç„¶åæ ¹æ®ä¸»è¿›ç¨‹å°†layoutTree å’Œç»˜åˆ¶ä¿¡æ¯è¡¨ä¼ ç»™åˆæˆå™¨çº¿ç¨‹ åˆæˆå™¨çº¿ç¨‹ - å°†å¾—åˆ°çš„ä¿¡æ¯åˆ†å›¾å±‚åˆ†æˆæ›´å°çš„å›¾å— æ …æ ¼çº¿ç¨‹ - å°†æ›´å°çš„å›¾å—è¿›è¡Œæ …æ ¼åŒ–rasterï¼Œè¿”è¿˜ç»™åˆæˆå™¨çº¿ç¨‹draw quadså›¾å—ä¿¡æ¯ å­˜å‚¨åœ¨GPUä¸­ frame åˆæˆå™¨å¸§é€šè¿‡IPCå°†æ …æ ¼çº¿ç¨‹è¿”å›çš„å›¾å—åˆæˆå¸§äº¤ç»™æµè§ˆå™¨è¿›ç¨‹ æµè§ˆå™¨è¿›ç¨‹ æ”¶åˆ°ä¸€å¸§çš„å›¾åƒåä¼ ç»™GPUè¿›è¡Œæ¸²æŸ“ é‡æ’å½“æ”¹å˜domçš„å±æ€§æ—¶ï¼Œä¼šé‡æ–°è¿›è¡Œæ ·å¼è®¡ç®—ï¼Œä¼šé‡æ–°å¸ƒå±€å’Œç»˜åˆ¶é‡ç»˜å½“æ”¹å˜é¢œè‰²æ—¶ï¼Œåªä¼šå‘ç”Ÿæ ·å¼è®¡ç®—å’Œç»˜åˆ¶(layer)requestAnimationFrame()ä¼šå°†ä¸»çº¿ç¨‹çš„ä»»åŠ¡åˆ†æ•£åˆ°æ¯ä¸€å¸§çš„é—´éš”ï¼Œä»è€Œä¸å½±å“åŠ¨ç”»çš„æµç¨‹Fiberreactæœ€æ–°çš„æ¸²æŸ“å¼•æ“åˆ©ç”¨æµè§ˆå™¨çš„ç©ºé—²æ—¶é—´åšä¼˜åŒ–ã€‚ requestIdlCallbackï¼Œè¿™ä¸ªä¼šåœ¨æ¯ä¸€å¸§æœ€åçš„ç©ºä½™æ—¶é—´åˆ¤æ–­æ˜¯å¦è¿è¡Œï¼Œreact fiberåœ¨æ¯ä¸€ä¸ªå•å…ƒä»»åŠ¡æ‰§è¡Œå‰åˆ¤æ–­ç©ºä½™æ—¶é—´ä»¥åŠè®¾å®šçš„æœ€å¤§timeoutå€¼æ¥å†³å®šæ˜¯å¦æ‰§è¡Œã€‚Transformä¼šç›´æ¥è¿è¡Œåˆæˆå™¨çº¿ç¨‹ï¼Œæ‰€ä»¥ä¸ä¼šæ„ŸæŸ“ä¸»çº¿ç¨‹çš„æ¸²æŸ“åœ¨ç§»åŠ¨ç«¯ä½¿ç”¨3dè½¬æ¢å¯ä»¥ä¼˜åŒ–æ€§èƒ½ï¼ˆå¦‚æœè®¾å¤‡æœ‰3dåŠ é€Ÿå¼•æ“ GPU å¯ä»¥æé«˜æ€§èƒ½ , 2dè½¬æ¢æ˜¯æ— æ³•è°ƒç”¨GPUï¼Œ2Gæ˜¯é çš„CPUï¼‰ åŸæ–‡åœ°å€","categories":[{"name":"æ·±å…¥å‰ç«¯","slug":"æ·±å…¥å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/æ·±å…¥å‰ç«¯/"}],"tags":[{"name":"æµè§ˆå™¨è¿è¡ŒåŸç†","slug":"æµè§ˆå™¨è¿è¡ŒåŸç†","permalink":"https://yangyfeng.github.io/blogpost/tags/æµè§ˆå™¨è¿è¡ŒåŸç†/"}]},{"title":"ä»€ä¹ˆæ˜¯JSè°ƒç”¨æ ˆ","slug":"å‰ç«¯å¹²è´§/ä»€ä¹ˆæ˜¯JSè°ƒç”¨æ ˆ","date":"2020-12-21T16:00:00.000Z","updated":"2021-03-27T06:24:34.633Z","comments":true,"path":"/posts/9926a09c.html","link":"","permalink":"https://yangyfeng.github.io/posts/9926a09c.html","excerpt":"","text":"æ¦‚å¿µ æ ˆï¼šå…ˆè¿›åå‡ºï¼Œè¿›æ ˆï¼Œå‡ºæ ˆï¼Œä¸å †æ ˆä¸åŒ é˜Ÿåˆ—ï¼šå…ˆè¿›å…ˆå‡º è°ƒç”¨æ ˆæ˜¯JSå¼•æ“è¿½è¸ªå‡½æ•°æ‰§è¡Œæµç¨‹çš„ä¸€ç§æœºåˆ¶ï¼Œå½“æ‰§è¡Œç¯å¢ƒä¸­è°ƒç”¨äº†å¤šä¸ªå‡½æ•°æ—¶ï¼Œé€šè¿‡è¿™ç§æœºåˆ¶ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè¿½è¸ªåˆ°å“ªä¸ªå‡½æ•°æ­£åœ¨æ‰§è¡Œï¼Œæ‰§è¡Œçš„å‡½æ•°ä½“åˆè°ƒç”¨äº†å“ªä¸ªå‡½æ•° ä¾‹å­ è°ƒç”¨æ ˆï¼Œè°ƒç”¨å‡½æ•°æ‰§è¡Œæ‰å›å…¥æ ˆ push average() push sum() shift sum() shift average() push console.log() shift console.log() 123456789function sum(a, b) &#123; return a + b;&#125;function average(a, b) &#123; const aver = sum(a, b) / 2; return aver;&#125;const num = average(3, 5);console.log(num); tips ç”¨æ ˆæŒæŒç»­è¢«è°ƒç”¨ï¼Œä¼šå¯¼è‡´å†…å­˜æº¢å‡º åŸå› æ˜¯å› ä¸ºï¼ŒJSä¸»çº¿ç¨‹è¢«å ç”¨ä¼šé€ æˆå µå¡ï¼šäº‹ä»¶å¾ªç¯ï¼Œå¼‚æ­¥å›è°ƒ(å®ä»»åŠ¡ï¼Œå¾®ä»»åŠ¡ï¼Œé¢è¯•å¿…é—®å“¦)","categories":[{"name":"æ·±å…¥å‰ç«¯","slug":"æ·±å…¥å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/æ·±å…¥å‰ç«¯/"}],"tags":[{"name":"JSè¿è¡ŒåŸç†","slug":"JSè¿è¡ŒåŸç†","permalink":"https://yangyfeng.github.io/blogpost/tags/JSè¿è¡ŒåŸç†/"}]},{"title":"äº’è”ç½‘æ˜¯å¦‚ä½•è¿ä½œçš„","slug":"å‰ç«¯å¹²è´§/äº’è”ç½‘æ˜¯å¦‚ä½•è¿ä½œçš„","date":"2020-12-21T16:00:00.000Z","updated":"2021-03-27T06:24:34.633Z","comments":true,"path":"/posts/c35109d5.html","link":"","permalink":"https://yangyfeng.github.io/posts/c35109d5.html","excerpt":"äº’è”ç½‘æ‰€æœ‰çš„ä¼ è¾“éƒ½é€šè¿‡RCP/IPåè®®æ—æ¥ä¼ è¾“ï¼ŒTCP/IPæ˜¯é¢å‘è¿æ¥çš„å¯é å­—èŠ‚æµæœåŠ¡åè®® ä»€ä¹ˆæ˜¯åè®®åè®®æ˜¯ä¸€ç»„è§„åˆ™ï¼Œç”¨äºæŒ‡å®šè®¡ç®—æœºåº”è¯¥å¦‚ä½•é€šè¿‡ç½‘ç»œæ¥äº¤äº’é€šä¿¡ TCP/IPåè®®æ—æœ‰å››å±‚ åº”ç”¨å±‚ï¼šæä¾›ç‰¹å®šäºåº”ç”¨ç¨‹åºçš„åè®® HTTP FTP IMAP(é‚®ä»¶) ç½‘ç»œæ§åˆ¶å±‚ï¼š å‘é€æ•°æ®åŒ…åˆ°è®¡ç®—æœºä¸Šä½¿ç”¨ç‰¹å®šçš„ç«¯å£å·çš„åº”ç”¨ç¨‹åº ç½‘ç»œå±‚ï¼š ä½¿ç”¨IPåœ°å€å°†æ•°æ®åŒ…å‘é€åˆ°ç‰¹å®šçš„è®¡ç®— é“¾è·¯å±‚ï¼š å°†äºŒè¿›åˆ¶æ•°æ®åŒ…ä¸ç½‘ç»œä¿¡å·ç›¸äº’ä¹‹é—´è½¬æ¢ TCPçš„å¯é  tcpåœ¨å»ºç«‹è¿æ¥ä¼šè¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ï¼Œæ¯ä¸ªæ”¶åˆ°çš„æ•°æ®åŒ…éƒ½ä¼šå‘å‘é€æ–¹å‘é€ackç¡®è®¤ï¼Œå·²ç¡®ä¿å‘é€æˆåŠŸ IPçš„ä¼ è¾“ IPæ˜¯ä¸å¯é çš„æ— è¿æ¥åè®®ï¼Œå®ƒå¹¶ä¸å…³å¿ƒæ•°æ®åŒ…æ˜¯å¦åˆ°è¾¾ç›®çš„åœ°ï¼Œä¹Ÿä¸å…³ç³»è¿æ¥å’Œç«¯å£å·ï¼Œç›®çš„æ˜¯è¿æ¥åˆ°ç›®æ ‡IP TCPä¼ è¾“çš„è´¨é‡å’Œé¡ºåº å½“æ•°æ®åŒ…è¿‡å¤§ï¼Œåœ¨ç½‘ç»œå±‚ä¼šè¿›è¡Œåˆ†åŒ…ï¼Œåˆ†åŒ…åä¼ è¾“çš„é“¾è·¯ä¸ä¸€æ ·ï¼Œåˆ°è¾¾çš„æ—¶é—´ä¸ä¸€æ ·ï¼ŒTCPä¼šæ ¹æ®æ•°æ®åŒ…ä¸Šæºå¸¦åºåˆ—å·æ¥è¿›è¡Œæ’åºé‡ç»„ï¼Œå¦‚æœå‘é€æ–¹åœ¨ä¸€ä¸ªç‰¹å®šæ—¶é—´å†…ï¼ˆä¹Ÿå°±æ˜¯é‡è¯•æ—¶é—´ï¼‰æ²¡æœ‰æ¥å—åˆ°æ¥æ”¶æ–¹çš„ackç¡®è®¤ï¼Œä¼šå†æ¬¡é‡æ–°å‘é€ IPå’ŒIPåœ°å€çš„åŒºåˆ« Ipæ˜¯ä¸€ç§åè®® æœ‰ä¸¤ç§æ ‡å‡† IPv4 2^32æ¬¡æ–¹å’ŒIPv6 2^128 IPåœ°å€æ˜¯ä¸€ä¸²æ•°å­—192.0.0.1","text":"äº’è”ç½‘æ‰€æœ‰çš„ä¼ è¾“éƒ½é€šè¿‡RCP/IPåè®®æ—æ¥ä¼ è¾“ï¼ŒTCP/IPæ˜¯é¢å‘è¿æ¥çš„å¯é å­—èŠ‚æµæœåŠ¡åè®® ä»€ä¹ˆæ˜¯åè®®åè®®æ˜¯ä¸€ç»„è§„åˆ™ï¼Œç”¨äºæŒ‡å®šè®¡ç®—æœºåº”è¯¥å¦‚ä½•é€šè¿‡ç½‘ç»œæ¥äº¤äº’é€šä¿¡ TCP/IPåè®®æ—æœ‰å››å±‚ åº”ç”¨å±‚ï¼šæä¾›ç‰¹å®šäºåº”ç”¨ç¨‹åºçš„åè®® HTTP FTP IMAP(é‚®ä»¶) ç½‘ç»œæ§åˆ¶å±‚ï¼š å‘é€æ•°æ®åŒ…åˆ°è®¡ç®—æœºä¸Šä½¿ç”¨ç‰¹å®šçš„ç«¯å£å·çš„åº”ç”¨ç¨‹åº ç½‘ç»œå±‚ï¼š ä½¿ç”¨IPåœ°å€å°†æ•°æ®åŒ…å‘é€åˆ°ç‰¹å®šçš„è®¡ç®— é“¾è·¯å±‚ï¼š å°†äºŒè¿›åˆ¶æ•°æ®åŒ…ä¸ç½‘ç»œä¿¡å·ç›¸äº’ä¹‹é—´è½¬æ¢ TCPçš„å¯é  tcpåœ¨å»ºç«‹è¿æ¥ä¼šè¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ï¼Œæ¯ä¸ªæ”¶åˆ°çš„æ•°æ®åŒ…éƒ½ä¼šå‘å‘é€æ–¹å‘é€ackç¡®è®¤ï¼Œå·²ç¡®ä¿å‘é€æˆåŠŸ IPçš„ä¼ è¾“ IPæ˜¯ä¸å¯é çš„æ— è¿æ¥åè®®ï¼Œå®ƒå¹¶ä¸å…³å¿ƒæ•°æ®åŒ…æ˜¯å¦åˆ°è¾¾ç›®çš„åœ°ï¼Œä¹Ÿä¸å…³ç³»è¿æ¥å’Œç«¯å£å·ï¼Œç›®çš„æ˜¯è¿æ¥åˆ°ç›®æ ‡IP TCPä¼ è¾“çš„è´¨é‡å’Œé¡ºåº å½“æ•°æ®åŒ…è¿‡å¤§ï¼Œåœ¨ç½‘ç»œå±‚ä¼šè¿›è¡Œåˆ†åŒ…ï¼Œåˆ†åŒ…åä¼ è¾“çš„é“¾è·¯ä¸ä¸€æ ·ï¼Œåˆ°è¾¾çš„æ—¶é—´ä¸ä¸€æ ·ï¼ŒTCPä¼šæ ¹æ®æ•°æ®åŒ…ä¸Šæºå¸¦åºåˆ—å·æ¥è¿›è¡Œæ’åºé‡ç»„ï¼Œå¦‚æœå‘é€æ–¹åœ¨ä¸€ä¸ªç‰¹å®šæ—¶é—´å†…ï¼ˆä¹Ÿå°±æ˜¯é‡è¯•æ—¶é—´ï¼‰æ²¡æœ‰æ¥å—åˆ°æ¥æ”¶æ–¹çš„ackç¡®è®¤ï¼Œä¼šå†æ¬¡é‡æ–°å‘é€ IPå’ŒIPåœ°å€çš„åŒºåˆ« Ipæ˜¯ä¸€ç§åè®® æœ‰ä¸¤ç§æ ‡å‡† IPv4 2^32æ¬¡æ–¹å’ŒIPv6 2^128 IPåœ°å€æ˜¯ä¸€ä¸²æ•°å­—192.0.0.1 ç½‘ç»œä¼ è¾“ ä¸ªäººç”µè„‘ çŒ« local ISP äº’è”ç½‘æœåŠ¡æä¾›å•† regional ISP ç»è¿‡å¤šä¸ªä¸»å¹²ç½‘ç»œ NSP ç½‘ç»œæœåŠ¡æä¾›å•† å¤§å‹ç½‘ç»œ å–å¸¦å®½ç»™ISP NAP æ¯ä¸ªNSPè¿æ¥åˆ°è‡³å°‘ä¸‰ä¸ªç½‘ç»œè®¿é—®ç‚¹ ISP NSP æ‰€æœ‰ç½‘ç»œæä¾›éƒ½æºå¸¦è·¯ç”±å™¨ï¼Œæ¯ä¸ªè·¯ç”±æœ‰å½“å‰å­ç½‘ç»œipçš„è·¯ç”±è¡¨ï¼Œå½“åº•å±‚å‘ä¸Šå±‚å‘é€æ•°æ®æ—¶å€™ï¼Œæ‰¾ä¸åˆ°ä¼šä¾æ¬¡å‘ä¸Šæ‰¾ï¼Œå¯èƒ½ç”±ä¸€ä¸ªä¸»å¹²ç½‘ç»œè·³åˆ°å¦å¤–ä¸€ä¸ªä¸»å¹²ç½‘ç»œã€‚ ä¸ªäººå®¢æˆ·ç«¯è®¿é—®å“”å“©å“”å“©æœåŠ¡å™¨çš„è¿‡ç¨‹ è·¯ç”±å™¨è·¯ç”±å™¨æœåŠ¡æ£€æŸ¥è·¯ç”±è¡¨ä¸Šæ˜¯å¦æœ‰ç›®çš„åœ°çš„IPåœ°å€ï¼Œ å¦‚æœæœ‰ç›´æ¥å‘é€åˆ°å¯¹åº”çš„ç½‘ç»œï¼Œå¦åˆ™å‘ä¸Šå‘é€æ•°æ®ï¼Œåœ¨æ›´é«˜çš„å±‚çº§å¯»æ‰¾å¯¹ä¸€ä¸ªæ‹¥æœ‰è¯¥IPçš„è·¯ç”±å™¨ ç›´åˆ°æ‰¾åˆ°å¯¹åº”çš„ç½‘ç»œçš„IPåœ°å€ DNSæœåŠ¡å­˜åœ¨æ„ä¹‰æ˜¯IPåˆ«åï¼Œä¸è®©å…¬å¸ä¸¢å®¢æˆ·ï¼Œä¹Ÿå®¹æ˜“è®°ï¼ŒDNSæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå­˜å‚¨äº†åŸŸåå’ŒIPçš„å¯¹åº”å…³ç³» åŸæ–‡åœ°å€","categories":[{"name":"æ·±å…¥å‰ç«¯","slug":"æ·±å…¥å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/æ·±å…¥å‰ç«¯/"}],"tags":[{"name":"Http","slug":"Http","permalink":"https://yangyfeng.github.io/blogpost/tags/Http/"}]},{"title":"vueé¢è¯•é¢˜ï¼ˆ2ï¼‰","slug":"å‰ç«¯æ¯æ—¥ä¸€é¢˜/vueé¢è¯•é¢˜ï¼ˆ2ï¼‰","date":"2020-12-20T16:00:00.000Z","updated":"2021-03-27T06:24:34.637Z","comments":true,"path":"/posts/e210f74f.html","link":"","permalink":"https://yangyfeng.github.io/posts/e210f74f.html","excerpt":"v-ifå’Œv-forå“ªä¸ªä¼˜å…ˆçº§æ›´é«˜ï¼Ÿ åˆ†æï¼šæ­¤é¢˜è€ƒæŸ¥å¸¸è¯†ï¼Œæ–‡æ¡£ä¸­æ›¾æœ‰è¯¦ç»†è¯´æ˜ï¼›ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å®è·µé¢˜ç›®ï¼Œé¡¹ç›®ä¸­ç»å¸¸ä¼šé‡åˆ°ï¼Œèƒ½å¤Ÿçœ‹å‡ºé¢è¯•è€…åº”ç”¨èƒ½åŠ›ã€‚ æ€è·¯åˆ†æï¼šæ€»åˆ†æ€»æ¨¡å¼ å…ˆç»™å‡ºç»“è®º ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„ å®ƒä»¬èƒ½æ”¾ä¸€èµ·å— å¦‚æœä¸èƒ½ï¼Œé‚£åº”è¯¥æ€æ · æ€»ç»“ å›ç­”èŒƒä¾‹ï¼š v-forä¼˜å…ˆäºv-ifè¢«è§£æ æˆ‘æ›¾ç»åšè¿‡å®éªŒï¼ŒæŠŠå®ƒä»¬æ”¾åœ¨ä¸€èµ·ï¼Œè¾“å‡ºçš„æ¸²æŸ“å‡½æ•°ä¸­å¯ä»¥çœ‹å‡ºä¼šå…ˆæ‰§è¡Œå¾ªç¯å†åˆ¤æ–­æ¡ä»¶ å®è·µä¸­ä¹Ÿä¸åº”è¯¥æŠŠå®ƒä»¬æ”¾ä¸€èµ·ï¼Œå› ä¸ºå“ªæ€•æˆ‘ä»¬åªæ¸²æŸ“åˆ—è¡¨ä¸­ä¸€å°éƒ¨åˆ†å…ƒç´ ï¼Œä¹Ÿå¾—åœ¨æ¯æ¬¡é‡æ¸²æŸ“çš„æ—¶å€™éå†æ•´ä¸ªåˆ—è¡¨ã€‚ é€šå¸¸æœ‰ä¸¤ç§æƒ…å†µä¸‹å¯¼è‡´æˆ‘ä»¬è¿™æ ·åšï¼š ä¸ºäº†è¿‡æ»¤åˆ—è¡¨ä¸­çš„é¡¹ç›® (æ¯”å¦‚ v-for=&quot;user in users&quot; v-if=&quot;user.isActive&quot;)ã€‚æ­¤æ—¶å®šä¹‰ä¸€ä¸ªè®¡ç®—å±æ€§ (æ¯”å¦‚ activeUsers)ï¼Œè®©å…¶è¿”å›è¿‡æ»¤åçš„åˆ—è¡¨å³å¯ã€‚ ä¸ºäº†é¿å…æ¸²æŸ“æœ¬åº”è¯¥è¢«éšè—çš„åˆ—è¡¨ (æ¯”å¦‚ v-for=&quot;user in users&quot; v-if=&quot;shouldShowUsers&quot;)ã€‚æ­¤æ—¶æŠŠ v-if ç§»åŠ¨è‡³å®¹å™¨å…ƒç´ ä¸Š (æ¯”å¦‚ ulã€ol)å³å¯ã€‚ æ–‡æ¡£ä¸­æ˜ç¡®æŒ‡å‡ºæ°¸è¿œä¸è¦æŠŠ v-if å’Œ v-for åŒæ—¶ç”¨åœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Šï¼Œæ˜¾ç„¶è¿™æ˜¯ä¸€ä¸ªé‡è¦çš„æ³¨æ„äº‹é¡¹ã€‚ çœ‹è¿‡æºç é‡Œé¢å…³äºä»£ç ç”Ÿæˆçš„éƒ¨åˆ† çŸ¥å…¶æ‰€ä»¥ç„¶ï¼š åšä¸ªæµ‹è¯• 12345678910111213Æ’ anonymous() &#123; with(this) &#123; return _c('div', &#123; attrs: &#123; \"id\": \"app\" &#125; &#125;, _l((items), function(item) &#123; return (item.isActive) ? _c('div', &#123; key: item.id &#125;, [_v(\"\\n \" + _s(item.name) + \"\\n \")]) : _e() &#125;), 0) &#125;&#125; æºç ä¸­æ‰¾ç­”æ¡ˆ compiler/codegen/index.js","text":"v-ifå’Œv-forå“ªä¸ªä¼˜å…ˆçº§æ›´é«˜ï¼Ÿ åˆ†æï¼šæ­¤é¢˜è€ƒæŸ¥å¸¸è¯†ï¼Œæ–‡æ¡£ä¸­æ›¾æœ‰è¯¦ç»†è¯´æ˜ï¼›ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å®è·µé¢˜ç›®ï¼Œé¡¹ç›®ä¸­ç»å¸¸ä¼šé‡åˆ°ï¼Œèƒ½å¤Ÿçœ‹å‡ºé¢è¯•è€…åº”ç”¨èƒ½åŠ›ã€‚ æ€è·¯åˆ†æï¼šæ€»åˆ†æ€»æ¨¡å¼ å…ˆç»™å‡ºç»“è®º ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„ å®ƒä»¬èƒ½æ”¾ä¸€èµ·å— å¦‚æœä¸èƒ½ï¼Œé‚£åº”è¯¥æ€æ · æ€»ç»“ å›ç­”èŒƒä¾‹ï¼š v-forä¼˜å…ˆäºv-ifè¢«è§£æ æˆ‘æ›¾ç»åšè¿‡å®éªŒï¼ŒæŠŠå®ƒä»¬æ”¾åœ¨ä¸€èµ·ï¼Œè¾“å‡ºçš„æ¸²æŸ“å‡½æ•°ä¸­å¯ä»¥çœ‹å‡ºä¼šå…ˆæ‰§è¡Œå¾ªç¯å†åˆ¤æ–­æ¡ä»¶ å®è·µä¸­ä¹Ÿä¸åº”è¯¥æŠŠå®ƒä»¬æ”¾ä¸€èµ·ï¼Œå› ä¸ºå“ªæ€•æˆ‘ä»¬åªæ¸²æŸ“åˆ—è¡¨ä¸­ä¸€å°éƒ¨åˆ†å…ƒç´ ï¼Œä¹Ÿå¾—åœ¨æ¯æ¬¡é‡æ¸²æŸ“çš„æ—¶å€™éå†æ•´ä¸ªåˆ—è¡¨ã€‚ é€šå¸¸æœ‰ä¸¤ç§æƒ…å†µä¸‹å¯¼è‡´æˆ‘ä»¬è¿™æ ·åšï¼š ä¸ºäº†è¿‡æ»¤åˆ—è¡¨ä¸­çš„é¡¹ç›® (æ¯”å¦‚ v-for=&quot;user in users&quot; v-if=&quot;user.isActive&quot;)ã€‚æ­¤æ—¶å®šä¹‰ä¸€ä¸ªè®¡ç®—å±æ€§ (æ¯”å¦‚ activeUsers)ï¼Œè®©å…¶è¿”å›è¿‡æ»¤åçš„åˆ—è¡¨å³å¯ã€‚ ä¸ºäº†é¿å…æ¸²æŸ“æœ¬åº”è¯¥è¢«éšè—çš„åˆ—è¡¨ (æ¯”å¦‚ v-for=&quot;user in users&quot; v-if=&quot;shouldShowUsers&quot;)ã€‚æ­¤æ—¶æŠŠ v-if ç§»åŠ¨è‡³å®¹å™¨å…ƒç´ ä¸Š (æ¯”å¦‚ ulã€ol)å³å¯ã€‚ æ–‡æ¡£ä¸­æ˜ç¡®æŒ‡å‡ºæ°¸è¿œä¸è¦æŠŠ v-if å’Œ v-for åŒæ—¶ç”¨åœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Šï¼Œæ˜¾ç„¶è¿™æ˜¯ä¸€ä¸ªé‡è¦çš„æ³¨æ„äº‹é¡¹ã€‚ çœ‹è¿‡æºç é‡Œé¢å…³äºä»£ç ç”Ÿæˆçš„éƒ¨åˆ† çŸ¥å…¶æ‰€ä»¥ç„¶ï¼š åšä¸ªæµ‹è¯• 12345678910111213Æ’ anonymous() &#123; with(this) &#123; return _c('div', &#123; attrs: &#123; \"id\": \"app\" &#125; &#125;, _l((items), function(item) &#123; return (item.isActive) ? _c('div', &#123; key: item.id &#125;, [_v(\"\\n \" + _s(item.name) + \"\\n \")]) : _e() &#125;), 0) &#125;&#125; æºç ä¸­æ‰¾ç­”æ¡ˆ compiler/codegen/index.js ä½ çŸ¥é“keyçš„ä½œç”¨å—ï¼Ÿåˆ†æï¼šè¿™æ˜¯ä¸€é“ç‰¹åˆ«å¸¸è§çš„é—®é¢˜ï¼Œä¸»è¦è€ƒæŸ¥å¤§å®¶å¯¹è™šæ‹ŸDOMå’Œpatchç»†èŠ‚çš„æŒæ¡ç¨‹åº¦ï¼Œèƒ½å¤Ÿåæ˜ é¢è¯•è€…ç†è§£å±‚æ¬¡ã€‚ æ€è·¯åˆ†æï¼šæ€»åˆ†æ€»æ¨¡å¼ ç»™å‡ºç»“è®ºï¼Œkeyçš„ä½œç”¨æ˜¯ç”¨äºä¼˜åŒ–patchæ€§èƒ½ keyçš„å¿…è¦æ€§ å®é™…ä½¿ç”¨æ–¹å¼ æ€»ç»“ï¼šå¯ä»æºç å±‚é¢æè¿°ä¸€ä¸‹vueå¦‚ä½•åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦ç›¸åŒ å›ç­”èŒƒä¾‹ï¼š keyçš„ä½œç”¨ä¸»è¦æ˜¯ä¸ºäº†æ›´é«˜æ•ˆçš„æ›´æ–°è™šæ‹ŸDOMã€‚ vueåœ¨patchè¿‡ç¨‹ä¸­åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦æ˜¯ç›¸åŒèŠ‚ç‚¹æ˜¯keyæ˜¯ä¸€ä¸ªå¿…è¦æ¡ä»¶ï¼Œæ¸²æŸ“ä¸€ç»„åˆ—è¡¨æ—¶ï¼Œkeyå¾€å¾€æ˜¯å”¯ä¸€æ ‡è¯†ï¼Œæ‰€ä»¥å¦‚æœä¸å®šä¹‰keyçš„è¯ï¼Œvueåªèƒ½è®¤ä¸ºæ¯”è¾ƒçš„ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯åŒä¸€ä¸ªï¼Œå“ªæ€•å®ƒä»¬å®é™…ä¸Šä¸æ˜¯ï¼Œè¿™å¯¼è‡´äº†é¢‘ç¹æ›´æ–°å…ƒç´ ï¼Œä½¿å¾—æ•´ä¸ªpatchè¿‡ç¨‹æ¯”è¾ƒä½æ•ˆï¼Œå½±å“æ€§èƒ½ã€‚ å®é™…ä½¿ç”¨ä¸­åœ¨æ¸²æŸ“ä¸€ç»„åˆ—è¡¨æ—¶keyå¿…é¡»è®¾ç½®ï¼Œè€Œä¸”å¿…é¡»æ˜¯å”¯ä¸€æ ‡è¯†ï¼Œåº”è¯¥é¿å…ä½¿ç”¨æ•°ç»„ç´¢å¼•ä½œä¸ºkeyï¼Œè¿™å¯èƒ½å¯¼è‡´ä¸€äº›éšè”½çš„bugï¼›vueä¸­åœ¨ä½¿ç”¨ç›¸åŒæ ‡ç­¾å…ƒç´ è¿‡æ¸¡åˆ‡æ¢æ—¶ï¼Œä¹Ÿä¼šä½¿ç”¨keyå±æ€§ï¼Œå…¶ç›®çš„ä¹Ÿæ˜¯ä¸ºäº†è®©vueå¯ä»¥åŒºåˆ†å®ƒä»¬ï¼Œå¦åˆ™vueåªä¼šæ›¿æ¢å…¶å†…éƒ¨å±æ€§è€Œä¸ä¼šè§¦å‘è¿‡æ¸¡æ•ˆæœã€‚ ä»æºç ä¸­å¯ä»¥çŸ¥é“ï¼Œvueåˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦ç›¸åŒæ—¶ä¸»è¦åˆ¤æ–­ä¸¤è€…çš„keyå’Œå…ƒç´ ç±»å‹ç­‰ï¼Œå› æ­¤å¦‚æœä¸è®¾ç½®keyï¼Œå®ƒçš„å€¼å°±æ˜¯undefinedï¼Œåˆ™å¯èƒ½æ°¸è¿œè®¤ä¸ºè¿™æ˜¯ä¸¤ä¸ªç›¸åŒèŠ‚ç‚¹ï¼Œåªèƒ½å»åšæ›´æ–°æ“ä½œï¼Œè¿™é€ æˆäº†å¤§é‡çš„domæ›´æ–°æ“ä½œï¼Œæ˜æ˜¾æ˜¯ä¸å¯å–çš„ã€‚ æµ‹è¯•ä»£ç  ä½¿ç”¨key: 123456789101112131415161718192021// é¦–æ¬¡å¾ªç¯patch AA B C D EA B F C D E// ç¬¬2æ¬¡å¾ªç¯patch BB C D EB F C D E// ç¬¬3æ¬¡å¾ªç¯patch EC D EF C D E// ç¬¬4æ¬¡å¾ªç¯patch DC DF C D// ç¬¬5æ¬¡å¾ªç¯patch CC F C// oldChå…¨éƒ¨å¤„ç†ç»“æŸï¼ŒnewChä¸­å‰©ä¸‹çš„Fï¼Œåˆ›å»ºFå¹¶æ’å…¥åˆ°Cå‰é¢ ä¸ä½¿ç”¨key æºç ä¸­æ‰¾ç­”æ¡ˆ src\\core\\vdom\\patch.js - sameVnode() ä½ äº†è§£vueä¸­çš„diffç®—æ³•å—ï¼Ÿé¢˜ç›®åˆ†æï¼švueåŸºäºè™šæ‹ŸDOMåšæ›´æ–°ï¼Œdiffåˆæ˜¯å…¶æ ¸å¿ƒéƒ¨åˆ†ï¼Œå› æ­¤å¸¸è¢«é—®é“ï¼Œæ­¤é¢˜è€ƒæŸ¥é¢è¯•è€…æ·±åº¦ã€‚ ç­”é¢˜æ€è·¯ï¼š3w1h å®šä¹‰diff å®ƒçš„å¿…è¦æ€§ å®ƒåœ¨å“ªé‡Œè¢«ä½¿ç”¨ å®ƒå¦‚ä½•è¿ä½œ æå‡ï¼šè¯´ä¸€äº›ç»†èŠ‚ å›ç­”èŒƒä¾‹ï¼š diffç®—æ³•æ˜¯è™šæ‹ŸDOMæŠ€æœ¯çš„äº§ç‰©ï¼Œvueé‡Œé¢å®é™…å«åšpatchï¼Œå®ƒçš„æ ¸å¿ƒå®ç°æ¥è‡ªäºsnabbdomï¼›é€šè¿‡æ–°æ—§è™šæ‹ŸDOMä½œå¯¹æ¯”ï¼ˆå³patchï¼‰ï¼Œå°†å˜åŒ–çš„åœ°æ–¹è½¬æ¢ä¸ºDOMæ“ä½œ åœ¨vue 1ä¸­æ˜¯æ²¡æœ‰patchçš„ï¼Œå› ä¸ºç•Œé¢ä¸­æ¯ä¸ªä¾èµ–éƒ½æœ‰ä¸“é—¨çš„watcherè´Ÿè´£æ›´æ–°ï¼Œè¿™æ ·é¡¹ç›®è§„æ¨¡å˜å¤§å°±ä¼šæˆä¸ºæ€§èƒ½ç“¶é¢ˆï¼Œvue 2ä¸­ä¸ºäº†é™ä½watcherç²’åº¦ï¼Œæ¯ä¸ªç»„ä»¶åªæœ‰ä¸€ä¸ªwatcherï¼Œä½†æ˜¯å½“éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼Œæ€æ ·æ‰èƒ½ç²¾ç¡®æ‰¾åˆ°å‘ç”Ÿå˜åŒ–çš„åœ°æ–¹ï¼Ÿè¿™å°±éœ€è¦å¼•å…¥patchæ‰è¡Œã€‚ ç»„ä»¶ä¸­æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯¹åº”çš„watcherä¼šé€šçŸ¥æ›´æ–°å¹¶æ‰§è¡Œå…¶æ›´æ–°å‡½æ•°ï¼Œå®ƒä¼šæ‰§è¡Œæ¸²æŸ“å‡½æ•°è·å–å…¨æ–°è™šæ‹Ÿdomï¼šnewVnodeï¼Œæ­¤æ—¶å°±ä¼šæ‰§è¡Œpatchæ¯”å¯¹ä¸Šæ¬¡æ¸²æŸ“ç»“æœoldVnodeå’Œæ–°çš„æ¸²æŸ“ç»“æœnewVnodeã€‚ patchè¿‡ç¨‹éµå¾ªæ·±åº¦ä¼˜å…ˆã€åŒå±‚æ¯”è¾ƒçš„ç­–ç•¥ï¼›ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æ¯”è¾ƒæ—¶ï¼Œå¦‚æœå®ƒä»¬æ‹¥æœ‰å­èŠ‚ç‚¹ï¼Œä¼šå…ˆæ¯”è¾ƒå­èŠ‚ç‚¹ï¼›æ¯”è¾ƒä¸¤ç»„å­èŠ‚ç‚¹æ—¶ï¼Œä¼šå‡è®¾å¤´å°¾èŠ‚ç‚¹å¯èƒ½ç›¸åŒå…ˆåšå°è¯•ï¼Œæ²¡æœ‰æ‰¾åˆ°ç›¸åŒèŠ‚ç‚¹åæ‰æŒ‰ç…§é€šç”¨æ–¹å¼éå†æŸ¥æ‰¾ï¼›æŸ¥æ‰¾ç»“æŸå†æŒ‰æƒ…å†µå¤„ç†å‰©ä¸‹çš„èŠ‚ç‚¹ï¼›å€ŸåŠ©keyé€šå¸¸å¯ä»¥éå¸¸ç²¾ç¡®æ‰¾åˆ°ç›¸åŒèŠ‚ç‚¹ï¼Œå› æ­¤æ•´ä¸ªpatchè¿‡ç¨‹éå¸¸é«˜æ•ˆã€‚ vueä¸­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡æ–¹å¼ï¼Ÿ é¢˜ç›®åˆ†æï¼š vueæ˜¯ç»„ä»¶åŒ–å¼€å‘æ¡†æ¶ï¼Œæ‰€ä»¥å¯¹äºvueåº”ç”¨æ¥è¯´ç»„ä»¶é—´çš„æ•°æ®é€šä¿¡éå¸¸é‡è¦ã€‚æ­¤é¢˜ä¸»è¦è€ƒæŸ¥å¤§å®¶vueåŸºæœ¬åŠŸï¼Œå¯¹äºvueåŸºç¡€apiè¿ç”¨ç†Ÿç»ƒåº¦ã€‚å¦å¤–ä¸€äº›è¾¹ç•ŒçŸ¥è¯†å¦‚provide/inject/$attrs/$listenersåˆ™ä½“ç°äº†é¢è¯•è€…çš„çŸ¥è¯†é¢ã€‚ æ€è·¯åˆ†æï¼šæ€»åˆ† æ€»è¿°çŸ¥é“çš„æ‰€æœ‰æ–¹å¼ æŒ‰ç»„ä»¶å…³ç³»é˜è¿°ä½¿ç”¨åœºæ™¯ å›ç­”èŒƒä¾‹ï¼š ç»„ä»¶é€šä¿¡æ–¹å¼å¤§ä½“æœ‰ä»¥ä¸‹8ç§ï¼š props $emit/$on $children/$parent $attrs/$listeners ref $root eventbus vuex æ ¹æ®ç»„ä»¶ä¹‹é—´å…³ç³»è®¨è®ºç»„ä»¶é€šä¿¡æœ€ä¸ºæ¸…æ™°æœ‰æ•ˆ çˆ¶å­ç»„ä»¶ props $emit/$on $parent / $children ref $attrs / $listeners å…„å¼Ÿç»„ä»¶ $parent eventbus vuex è·¨å±‚çº§å…³ç³» provide/inject $root eventbus vuex ç®€å•è¯´ä¸€è¯´ä½ å¯¹vuexç†è§£ï¼Ÿ åˆ†æï¼šæ­¤é¢˜è€ƒæŸ¥å®è·µèƒ½åŠ›ï¼Œèƒ½è¯´å‡ºç”¨æ³•åªèƒ½60åˆ†ã€‚æ›´é‡è¦çš„æ˜¯å¯¹vuexè®¾è®¡ç†å¿µå’Œå®ç°åŸç†çš„è§£è¯»ã€‚ å›ç­”ç­–ç•¥ï¼š3w1h é¦–å…ˆç»™vuexä¸‹ä¸€ä¸ªå®šä¹‰ vuexè§£å†³äº†å“ªäº›é—®é¢˜ï¼Œè§£è¯»ç†å¿µ ä»€ä¹ˆæ—¶å€™æˆ‘ä»¬éœ€è¦vuex ä½ çš„å…·ä½“ç”¨æ³• ç®€è¿°åŸç†ï¼Œæå‡å±‚çº§ é¦–å…ˆæ˜¯å®˜ç½‘å®šä¹‰ï¼š Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚ å›ç­”èŒƒä¾‹ï¼š vuexæ˜¯vueä¸“ç”¨çš„çŠ¶æ€ç®¡ç†åº“ã€‚å®ƒä»¥å…¨å±€æ–¹å¼é›†ä¸­ç®¡ç†åº”ç”¨çš„çŠ¶æ€ï¼Œå¹¶ä¸”å¯ä»¥ä¿è¯çŠ¶æ€å˜æ›´çš„å¯é¢„æµ‹æ€§ã€‚ vuexä¸»è¦è§£å†³çš„é—®é¢˜æ˜¯å¤šç»„ä»¶ä¹‹é—´çŠ¶æ€å…±äº«çš„é—®é¢˜ï¼Œåˆ©ç”¨å„ç§ç»„ä»¶é€šä¿¡æ–¹å¼ï¼Œæˆ‘ä»¬è™½ç„¶èƒ½å¤Ÿåšåˆ°çŠ¶æ€å…±äº«ï¼Œä½†æ˜¯å¾€å¾€éœ€è¦åœ¨å¤šä¸ªç»„ä»¶ä¹‹é—´ä¿æŒçŠ¶æ€çš„ä¸€è‡´æ€§ï¼Œè¿™ç§æ¨¡å¼å¾ˆå®¹æ˜“å‡ºç°é—®é¢˜ï¼Œä¹Ÿä¼šä½¿ç¨‹åºé€»è¾‘å˜å¾—å¤æ‚ã€‚vuexé€šè¿‡æŠŠç»„ä»¶çš„å…±äº«çŠ¶æ€æŠ½å–å‡ºæ¥ï¼Œä»¥å…¨å±€å•ä¾‹æ¨¡å¼ç®¡ç†ï¼Œè¿™æ ·ä»»ä½•ç»„ä»¶éƒ½èƒ½ç”¨ä¸€è‡´çš„æ–¹å¼è·å–å’Œä¿®æ”¹çŠ¶æ€ï¼Œå“åº”å¼çš„æ•°æ®ä¹Ÿèƒ½å¤Ÿä¿è¯ç®€æ´çš„å•å‘æ•°æ®æµåŠ¨ï¼Œæˆ‘ä»¬çš„ä»£ç å°†å˜å¾—æ›´ç»“æ„åŒ–ä¸”æ˜“ç»´æŠ¤ã€‚ vuexå¹¶éå¿…é¡»çš„ï¼Œå®ƒå¸®æˆ‘ä»¬ç®¡ç†å…±äº«çŠ¶æ€ï¼Œä½†å´å¸¦æ¥æ›´å¤šçš„æ¦‚å¿µå’Œæ¡†æ¶ã€‚å¦‚æœæˆ‘ä»¬ä¸æ‰“ç®—å¼€å‘å¤§å‹å•é¡µåº”ç”¨æˆ–è€…æˆ‘ä»¬çš„åº”ç”¨å¹¶æ²¡æœ‰å¤§é‡å…¨å±€çš„çŠ¶æ€éœ€è¦ç»´æŠ¤ï¼Œå®Œå…¨æ²¡æœ‰ä½¿ç”¨vuexçš„å¿…è¦ã€‚ä¸€ä¸ªç®€å•çš„store æ¨¡å¼å°±è¶³å¤Ÿäº†ã€‚åä¹‹ï¼ŒVuex å°†ä¼šæˆä¸ºè‡ªç„¶è€Œç„¶çš„é€‰æ‹©ã€‚å¼•ç”¨ Redux çš„ä½œè€… Dan Abramov çš„è¯è¯´å°±æ˜¯ï¼šFlux æ¶æ„å°±åƒçœ¼é•œï¼šæ‚¨è‡ªä¼šçŸ¥é“ä»€ä¹ˆæ—¶å€™éœ€è¦å®ƒã€‚ æˆ‘åœ¨ä½¿ç”¨vuexè¿‡ç¨‹ä¸­æœ‰å¦‚ä¸‹ç†è§£ï¼šé¦–å…ˆæ˜¯å¯¹æ ¸å¿ƒæ¦‚å¿µçš„ç†è§£å’Œè¿ç”¨ï¼Œå°†å…¨å±€çŠ¶æ€æ”¾å…¥stateå¯¹è±¡ä¸­ï¼Œå®ƒæœ¬èº«ä¸€æ£µçŠ¶æ€æ ‘ï¼Œç»„ä»¶ä¸­ä½¿ç”¨storeå®ä¾‹çš„stateè®¿é—®è¿™äº›çŠ¶æ€ï¼›ç„¶åæœ‰é…å¥—çš„mutationæ–¹æ³•ä¿®æ”¹è¿™äº›çŠ¶æ€ï¼Œå¹¶ä¸”åªèƒ½ç”¨mutationä¿®æ”¹çŠ¶æ€ï¼Œåœ¨ç»„ä»¶ä¸­è°ƒç”¨commitæ–¹æ³•æäº¤mutationï¼›å¦‚æœåº”ç”¨ä¸­æœ‰å¼‚æ­¥æ“ä½œæˆ–è€…å¤æ‚é€»è¾‘ç»„åˆï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™actionï¼Œæ‰§è¡Œç»“æŸå¦‚æœæœ‰çŠ¶æ€ä¿®æ”¹ä»ç„¶éœ€è¦æäº¤mutationï¼Œç»„ä»¶ä¸­è°ƒç”¨è¿™äº›actionä½¿ç”¨dispatchæ–¹æ³•æ´¾å‘ã€‚æœ€åæ˜¯æ¨¡å—åŒ–ï¼Œé€šè¿‡modulesé€‰é¡¹ç»„ç»‡æ‹†åˆ†å‡ºå»çš„å„ä¸ªå­æ¨¡å—ï¼Œåœ¨è®¿é—®çŠ¶æ€æ—¶æ³¨æ„æ·»åŠ å­æ¨¡å—çš„åç§°ï¼Œå¦‚æœå­æ¨¡å—æœ‰è®¾ç½®namespaceï¼Œé‚£ä¹ˆåœ¨æäº¤mutationå’Œæ´¾å‘actionæ—¶è¿˜éœ€è¦é¢å¤–çš„å‘½åç©ºé—´å‰ç¼€ã€‚ vuexåœ¨å®ç°å•é¡¹æ•°æ®æµæ—¶éœ€è¦åšåˆ°æ•°æ®çš„å“åº”å¼ï¼Œé€šè¿‡æºç çš„å­¦ä¹ å‘ç°æ˜¯å€Ÿç”¨äº†vueçš„æ•°æ®å“åº”åŒ–ç‰¹æ€§å®ç°çš„ï¼Œå®ƒä¼šåˆ©ç”¨Vueå°†stateä½œä¸ºdataå¯¹å…¶è¿›è¡Œå“åº”åŒ–å¤„ç†ï¼Œä»è€Œä½¿å¾—è¿™äº›çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œèƒ½å¤Ÿå¯¼è‡´ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚ vue-routerä¸­å¦‚ä½•ä¿æŠ¤è·¯ç”±ï¼Ÿ æ­¤é¢˜æ˜¯è€ƒæŸ¥é¡¹ç›®å®è·µèƒ½åŠ›ï¼Œé¡¹ç›®ä¸­åŸºæœ¬éƒ½æœ‰è·¯ç”±å®ˆå«çš„éœ€æ±‚ï¼Œä¿æŠ¤æŒ‡å®šè·¯ç”±è€ƒæŸ¥çš„å°±æ˜¯è¿™ä¸ªçŸ¥è¯†ç‚¹ã€‚ ç­”é¢˜æ•´ä½“æ€è·¯ï¼š é˜è¿°vue-routerä¸­è·¯ç”±ä¿æŠ¤ç­–ç•¥ æè¿°å…·ä½“å®ç°æ–¹å¼ ç®€å•è¯´ä¸€ä¸‹å®ƒä»¬æ˜¯æ€ä¹ˆç”Ÿæ•ˆçš„ å›ç­”èŒƒä¾‹ï¼š vue-routerä¸­ä¿æŠ¤è·¯ç”±å®‰å…¨é€šå¸¸ä½¿ç”¨å¯¼èˆªå®ˆå«æ¥åšï¼Œé€šè¿‡è®¾ç½®è·¯ç”±å¯¼èˆªé’©å­å‡½æ•°çš„æ–¹å¼æ·»åŠ å®ˆå«å‡½æ•°ï¼Œåœ¨é‡Œé¢åˆ¤æ–­ç”¨æˆ·çš„ç™»å½•çŠ¶æ€å’Œæƒé™ï¼Œä»è€Œè¾¾åˆ°ä¿æŠ¤æŒ‡å®šè·¯ç”±çš„ç›®çš„ã€‚ å…·ä½“å®ç°æœ‰å‡ ä¸ªå±‚çº§ï¼šå…¨å±€å‰ç½®å®ˆå«beforeEachã€è·¯ç”±ç‹¬äº«å®ˆå«beforeEnteræˆ–ç»„ä»¶å†…å®ˆå«beforeRouteEnterã€‚ä»¥å…¨å±€å®ˆå«ä¸ºä¾‹æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨router.beforeEach((to,from,next)=&gt;{})æ–¹å¼è®¾ç½®å®ˆå«ï¼Œæ¯æ¬¡è·¯ç”±å¯¼èˆªæ—¶ï¼Œéƒ½ä¼šæ‰§è¡Œè¯¥å®ˆå«ï¼Œä»è€Œæ£€æŸ¥å½“å‰ç”¨æˆ·æ˜¯å¦å¯ä»¥ç»§ç»­å¯¼èˆªï¼Œé€šè¿‡ç»™nextå‡½æ•°ä¼ é€’å¤šç§å‚æ•°è¾¾åˆ°ä¸åŒçš„ç›®çš„ï¼Œæ¯”å¦‚å¦‚æœç¦æ­¢ç”¨æˆ·ç»§ç»­å¯¼èˆªå¯ä»¥ä¼ é€’next(false)ï¼Œæ­£å¸¸æ”¾è¡Œå¯ä»¥ä¸ä¼ é€’å‚æ•°ï¼Œä¼ é€’pathå­—ç¬¦ä¸²å¯ä»¥é‡å®šå‘åˆ°ä¸€ä¸ªæ–°çš„åœ°å€ç­‰ç­‰ã€‚ è¿™äº›é’©å­å‡½æ•°ä¹‹æ‰€ä»¥èƒ½å¤Ÿç”Ÿæ•ˆï¼Œä¹Ÿå’Œvue-routerå·¥ä½œæ–¹å¼æœ‰å…³ï¼ŒåƒbeforeEachåªæ˜¯æ³¨å†Œä¸€ä¸ªhookï¼Œå½“è·¯ç”±å‘ç”Ÿå˜åŒ–ï¼Œrouterå‡†å¤‡å¯¼èˆªä¹‹å‰ä¼šæ‰¹é‡æ‰§è¡Œè¿™äº›hooksï¼Œå¹¶ä¸”æŠŠç›®æ ‡è·¯ç”±toï¼Œå½“å‰è·¯ç”±fromï¼Œä»¥åŠåç»­å¤„ç†å‡½æ•°nextä¼ é€’ç»™æˆ‘ä»¬è®¾ç½®çš„hookã€‚ å¯èƒ½çš„è¿½é—®ï¼š 1ã€èƒ½ä¸èƒ½è¯´è¯´å…¨å±€å®ˆå«ã€è·¯ç”±ç‹¬äº«å®ˆå«å’Œç»„ä»¶å†…å®ˆå«åŒºåˆ«ï¼Ÿ ä½œç”¨èŒƒå›´ ç»„ä»¶å®ä¾‹çš„è·å– 12345beforeRouteEnter(to,from,next) &#123; next(vm =&gt; &#123; &#125;)&#125; åç§°/æ•°é‡/é¡ºåº å¯¼èˆªè¢«è§¦å‘ã€‚ åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ç¦»å¼€å®ˆå«ã€‚ è°ƒç”¨å…¨å±€çš„ beforeEach å®ˆå«ã€‚ åœ¨é‡ç”¨çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteUpdate å®ˆå« (2.2+)ã€‚ åœ¨è·¯ç”±é…ç½®é‡Œè°ƒç”¨ beforeEnterã€‚ è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶ã€‚ åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteEnterã€‚ è°ƒç”¨å…¨å±€çš„ beforeResolve å®ˆå« (2.5+)ã€‚ å¯¼èˆªè¢«ç¡®è®¤ã€‚ è°ƒç”¨å…¨å±€çš„ afterEach é’©å­ã€‚ è§¦å‘ DOM æ›´æ–°ã€‚ ç”¨åˆ›å»ºå¥½çš„å®ä¾‹è°ƒç”¨ beforeRouteEnter å®ˆå«ä¸­ä¼ ç»™ next çš„å›è°ƒå‡½æ•°ã€‚ 2ã€ä½ é¡¹ç›®ä¸­çš„è·¯ç”±å®ˆå«æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ 3ã€å‰åç«¯è·¯ç”±ä¸€æ ·å—ï¼Ÿ 4ã€å‰ç«¯è·¯ç”±æ˜¯ç”¨ä»€ä¹ˆæ–¹å¼å®ç°çš„ï¼Ÿ 5ã€ä½ å‰é¢æåˆ°çš„nextæ–¹æ³•æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ ä½ äº†è§£å“ªäº›Vueæ€§èƒ½ä¼˜åŒ–æ–¹æ³•ï¼Ÿ ç­”é¢˜æ€è·¯ï¼šæ ¹æ®é¢˜ç›®æè¿°ï¼Œè¿™é‡Œä¸»è¦æ¢è®¨Vueä»£ç å±‚é¢çš„ä¼˜åŒ– è·¯ç”±æ‡’åŠ è½½ 12345const router = new VueRouter(&#123; routes: [ &#123; path: '/foo', component: () =&gt; import('./Foo.vue') &#125; ]&#125;) keep-aliveç¼“å­˜é¡µé¢ 1234567&lt;template&gt; &lt;div id=&quot;app&quot;&gt; &lt;keep-alive&gt; &lt;router-view/&gt; &lt;/keep-alive&gt; &lt;/div&gt;&lt;/template&gt; ä½¿ç”¨v-showå¤ç”¨DOM 1234567891011&lt;template&gt; &lt;div class=&quot;cell&quot;&gt; &lt;!--è¿™ç§æƒ…å†µç”¨v-showå¤ç”¨DOMï¼Œæ¯”v-ifæ•ˆæœå¥½--&gt; &lt;div v-show=&quot;value&quot; class=&quot;on&quot;&gt; &lt;Heavy :n=&quot;10000&quot;/&gt; &lt;/div&gt; &lt;section v-show=&quot;!value&quot; class=&quot;off&quot;&gt; &lt;Heavy :n=&quot;10000&quot;/&gt; &lt;/section&gt; &lt;/div&gt;&lt;/template&gt; v-for éå†é¿å…åŒæ—¶ä½¿ç”¨ v-if 1234567891011121314151617181920&lt;template&gt; &lt;ul&gt; &lt;li v-for=&quot;user in activeUsers&quot; :key=&quot;user.id&quot;&gt; &#123;&#123; user.name &#125;&#125; &lt;/li&gt; &lt;/ul&gt;&lt;/template&gt;&lt;script&gt; export default &#123; computed: &#123; activeUsers: function () &#123; return this.users.filter(function (user) &#123; return user.isActive &#125;) &#125; &#125; &#125;&lt;/script&gt; é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ– å¦‚æœåˆ—è¡¨æ˜¯çº¯ç²¹çš„æ•°æ®å±•ç¤ºï¼Œä¸ä¼šæœ‰ä»»ä½•æ”¹å˜ï¼Œå°±ä¸éœ€è¦åšå“åº”åŒ– 123456789export default &#123; data: () =&gt; (&#123; users: [] &#125;), async created() &#123; const users = await axios.get(\"/api/users\"); this.users = Object.freeze(users); &#125;&#125;; å¦‚æœæ˜¯å¤§æ•°æ®é•¿åˆ—è¡¨ï¼Œå¯é‡‡ç”¨è™šæ‹Ÿæ»šåŠ¨ï¼Œåªæ¸²æŸ“å°‘éƒ¨åˆ†åŒºåŸŸçš„å†…å®¹ 123456789101112&lt;recycle-scroller class=&quot;items&quot; :items=&quot;items&quot; :item-size=&quot;24&quot;&gt; &lt;template v-slot=&quot;&#123; item &#125;&quot;&gt; &lt;FetchItemView :item=&quot;item&quot; @vote=&quot;voteItem(item)&quot; /&gt; &lt;/template&gt;&lt;/recycle-scroller&gt; å‚è€ƒvue-virtual-scrollerã€vue-virtual-scroll-list äº‹ä»¶çš„é”€æ¯ Vue ç»„ä»¶é”€æ¯æ—¶ï¼Œä¼šè‡ªåŠ¨è§£ç»‘å®ƒçš„å…¨éƒ¨æŒ‡ä»¤åŠäº‹ä»¶ç›‘å¬å™¨ï¼Œä½†æ˜¯ä»…é™äºç»„ä»¶æœ¬èº«çš„äº‹ä»¶ã€‚ 123456created() &#123; this.timer = setInterval(this.refresh, 2000)&#125;,beforeDestroy() &#123; clearInterval(this.timer)&#125; å›¾ç‰‡æ‡’åŠ è½½ å¯¹äºå›¾ç‰‡è¿‡å¤šçš„é¡µé¢ï¼Œä¸ºäº†åŠ é€Ÿé¡µé¢åŠ è½½é€Ÿåº¦ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦å°†é¡µé¢å†…æœªå‡ºç°åœ¨å¯è§†åŒºåŸŸå†…çš„å›¾ç‰‡å…ˆä¸åšåŠ è½½ï¼Œ ç­‰åˆ°æ»šåŠ¨åˆ°å¯è§†åŒºåŸŸåå†å»åŠ è½½ã€‚ 1&lt;img v-lazy=&quot;/static/img/1.png&quot;&gt; å‚è€ƒé¡¹ç›®ï¼švue-lazyload ç¬¬ä¸‰æ–¹æ’ä»¶æŒ‰éœ€å¼•å…¥ åƒelement-uiè¿™æ ·çš„ç¬¬ä¸‰æ–¹ç»„ä»¶åº“å¯ä»¥æŒ‰éœ€å¼•å…¥é¿å…ä½“ç§¯å¤ªå¤§ã€‚ 12345import Vue from 'vue';import &#123; Button, Select &#125; from 'element-ui'; Vue.use(Button) Vue.use(Select) æ— çŠ¶æ€çš„ç»„ä»¶æ ‡è®°ä¸ºå‡½æ•°å¼ç»„ä»¶ 123456789101112&lt;template functional&gt; &lt;div class=&quot;cell&quot;&gt; &lt;div v-if=&quot;props.value&quot; class=&quot;on&quot;&gt;&lt;/div&gt; &lt;section v-else class=&quot;off&quot;&gt;&lt;/section&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; props: [&apos;value&apos;]&#125;&lt;/script&gt; å­ç»„ä»¶åˆ†å‰² 1234567891011121314151617181920&lt;template&gt; &lt;div&gt; &lt;ChildComp/&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; components: &#123; ChildComp: &#123; methods: &#123; heavy () &#123; /* è€—æ—¶ä»»åŠ¡ */ &#125; &#125;, render (h) &#123; return h(&apos;div&apos;, this.heavy()) &#125; &#125; &#125;&#125;&lt;/script&gt; å˜é‡æœ¬åœ°åŒ– 123456789101112131415161718192021222324&lt;template&gt; &lt;div :style=&quot;&#123; opacity: start / 300 &#125;&quot;&gt; &#123;&#123; result &#125;&#125; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import &#123; heavy &#125; from &apos;@/utils&apos;export default &#123; props: [&apos;start&apos;], computed: &#123; base () &#123; return 42 &#125;, result () &#123; const base = this.base // ä¸è¦é¢‘ç¹å¼•ç”¨this.base let result = this.start for (let i = 0; i &lt; 1000; i++) &#123; result += heavy(base) &#125; return result &#125; &#125;&#125;&lt;/script&gt; SSR è¯´ä¸€è¯´ä½ å¯¹vueå“åº”å¼ç†è§£ï¼Ÿ çƒ‚å¤§è¡—çš„é—®é¢˜ï¼Œä½†å´ä¸æ˜¯æ¯ä¸ªäººéƒ½èƒ½å›ç­”åˆ°ä½ã€‚å› ä¸ºå¦‚æœä½ åªæ˜¯çœ‹çœ‹åˆ«äººå†™çš„ç½‘æ–‡ï¼Œé€šå¸¸æ²¡ä»€ä¹ˆåº•æ°”ï¼Œä¹Ÿç»ä¸ä½é¢è¯•å®˜æ¨æ•²ï¼Œä½†åƒæˆ‘ä»¬è¿™æ ·å³çœ‹è¿‡æºç è¿˜é€ è¿‡è½®å­çš„ï¼Œå›ç­”è¿™ä¸ªé—®é¢˜å°±ä¼šæ¯”è¾ƒæœ‰åº•æ°”ã€‚ ç­”é¢˜æ€è·¯ï¼š å•¥æ˜¯å“åº”å¼ï¼Ÿ ä¸ºä»€ä¹ˆvueéœ€è¦å“åº”å¼ï¼Ÿ å®ƒèƒ½ç»™æˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆå¥½å¤„ï¼Ÿ vueçš„å“åº”å¼æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿæœ‰å“ªäº›ä¼˜ç¼ºç‚¹ï¼Ÿ vue3ä¸­çš„å“åº”å¼çš„æ–°å˜åŒ– å›ç­”èŒƒä¾‹ï¼š æ‰€è°“æ•°æ®å“åº”å¼å°±æ˜¯èƒ½å¤Ÿä½¿æ•°æ®å˜åŒ–å¯ä»¥è¢«æ£€æµ‹å¹¶å¯¹è¿™ç§å˜åŒ–åšå‡ºå“åº”çš„æœºåˆ¶ã€‚ mvvmæ¡†æ¶ä¸­è¦è§£å†³çš„ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜æ˜¯è¿æ¥æ•°æ®å±‚å’Œè§†å›¾å±‚ï¼Œé€šè¿‡æ•°æ®é©±åŠ¨åº”ç”¨ï¼Œæ•°æ®å˜åŒ–ï¼Œè§†å›¾æ›´æ–°ï¼Œè¦åšåˆ°è¿™ç‚¹çš„å°±éœ€è¦å¯¹æ•°æ®åšå“åº”å¼å¤„ç†ï¼Œè¿™æ ·ä¸€æ—¦æ•°æ®å‘ç”Ÿå˜åŒ–å°±å¯ä»¥ç«‹å³åšå‡ºæ›´æ–°å¤„ç†ã€‚ ä»¥vueä¸ºä¾‹è¯´æ˜ï¼Œé€šè¿‡æ•°æ®å“åº”å¼åŠ ä¸Šè™šæ‹ŸDOMå’Œpatchç®—æ³•ï¼Œå¯ä»¥ä½¿æˆ‘ä»¬åªéœ€è¦æ“ä½œæ•°æ®ï¼Œå®Œå…¨ä¸ç”¨æ¥è§¦ç¹ççš„domæ“ä½œï¼Œä»è€Œå¤§å¤§æå‡å¼€å‘æ•ˆç‡ï¼Œé™ä½å¼€å‘éš¾åº¦ã€‚ vue2ä¸­çš„æ•°æ®å“åº”å¼ä¼šæ ¹æ®æ•°æ®ç±»å‹æ¥åšä¸åŒå¤„ç†ï¼Œå¦‚æœæ˜¯å¯¹è±¡åˆ™é‡‡ç”¨Object.defineProperty()çš„æ–¹å¼å®šä¹‰æ•°æ®æ‹¦æˆªï¼Œå½“æ•°æ®è¢«è®¿é—®æˆ–å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæˆ‘ä»¬æ„ŸçŸ¥å¹¶ä½œå‡ºå“åº”ï¼›å¦‚æœæ˜¯æ•°ç»„åˆ™é€šè¿‡è¦†ç›–è¯¥æ•°ç»„åŸå‹çš„æ–¹æ³•ï¼Œæ‰©å±•å®ƒçš„7ä¸ªå˜æ›´æ–¹æ³•ï¼Œä½¿è¿™äº›æ–¹æ³•å¯ä»¥é¢å¤–çš„åšæ›´æ–°é€šçŸ¥ï¼Œä»è€Œä½œå‡ºå“åº”ã€‚è¿™ç§æœºåˆ¶å¾ˆå¥½çš„è§£å†³äº†æ•°æ®å“åº”åŒ–çš„é—®é¢˜ï¼Œä½†åœ¨å®é™…ä½¿ç”¨ä¸­ä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹ï¼šæ¯”å¦‚åˆå§‹åŒ–æ—¶çš„é€’å½’éå†ä¼šé€ æˆæ€§èƒ½æŸå¤±ï¼›æ–°å¢æˆ–åˆ é™¤å±æ€§æ—¶éœ€è¦ç”¨æˆ·ä½¿ç”¨Vue.set/deleteè¿™æ ·ç‰¹æ®Šçš„apiæ‰èƒ½ç”Ÿæ•ˆï¼›å¯¹äºes6ä¸­æ–°äº§ç”Ÿçš„Mapã€Setè¿™äº›æ•°æ®ç»“æ„ä¸æ”¯æŒç­‰é—®é¢˜ã€‚ ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œvue3é‡æ–°ç¼–å†™äº†è¿™ä¸€éƒ¨åˆ†çš„å®ç°ï¼šåˆ©ç”¨ES6çš„Proxyæœºåˆ¶ä»£ç†è¦å“åº”åŒ–çš„æ•°æ®ï¼Œå®ƒæœ‰å¾ˆå¤šå¥½å¤„ï¼Œç¼–ç¨‹ä½“éªŒæ˜¯ä¸€è‡´çš„ï¼Œä¸éœ€è¦ä½¿ç”¨ç‰¹æ®Šapiï¼Œåˆå§‹åŒ–æ€§èƒ½å’Œå†…å­˜æ¶ˆè€—éƒ½å¾—åˆ°äº†å¤§å¹…æ”¹å–„ï¼›å¦å¤–ç”±äºå“åº”åŒ–çš„å®ç°ä»£ç æŠ½å–ä¸ºç‹¬ç«‹çš„reactivityåŒ…ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ›´çµæ´»çš„ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬ç”šè‡³ä¸éœ€è¦å¼•å…¥vueéƒ½å¯ä»¥ä½“éªŒã€‚ ä½ å¦‚æœæƒ³è¦æ‰©å±•æŸä¸ªVueç»„ä»¶æ—¶ä¼šæ€ä¹ˆåšï¼Ÿ æ­¤é¢˜å±äºå®è·µé¢˜ï¼Œç€é‡è€ƒå¯Ÿå¤§å®¶å¯¹vueå¸¸ç”¨apiä½¿ç”¨ç†Ÿç»ƒåº¦ï¼Œç­”é¢˜æ—¶ä¸ä»…è¦åˆ—å‡ºè¿™äº›è§£å†³æ–¹æ¡ˆï¼ŒåŒæ—¶æœ€å¥½è¯´å‡ºä»–ä»¬å¼‚åŒã€‚ ç­”é¢˜æ€è·¯ï¼š æŒ‰ç…§é€»è¾‘æ‰©å±•å’Œå†…å®¹æ‰©å±•æ¥åˆ—ä¸¾ï¼Œé€»è¾‘æ‰©å±•æœ‰ï¼šmixinsã€extendsã€composition apiï¼›å†…å®¹æ‰©å±•æœ‰slotsï¼› åˆ†åˆ«è¯´å‡ºä»–ä»¬ä½¿ç”¨ä½¿ç”¨æ–¹æ³•ã€åœºæ™¯å·®å¼‚å’Œé—®é¢˜ã€‚ ä½œä¸ºæ‰©å±•ï¼Œè¿˜å¯ä»¥è¯´è¯´vue3ä¸­æ–°å¼•å…¥çš„composition apiå¸¦æ¥çš„å˜åŒ– å›ç­”èŒƒä¾‹ï¼š å¸¸è§çš„ç»„ä»¶æ‰©å±•æ–¹æ³•æœ‰ï¼šmixinsï¼Œslotsï¼Œextendsç­‰ æ··å…¥mixinsæ˜¯åˆ†å‘ Vue ç»„ä»¶ä¸­å¯å¤ç”¨åŠŸèƒ½çš„éå¸¸çµæ´»çš„æ–¹å¼ã€‚æ··å…¥å¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚å½“ç»„ä»¶ä½¿ç”¨æ··å…¥å¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··å…¥å¯¹è±¡çš„é€‰é¡¹å°†è¢«æ··å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ã€‚ 12345678910111213// å¤ç”¨ä»£ç ï¼šå®ƒæ˜¯ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œé€‰é¡¹å’Œç»„ä»¶é‡Œé¢ä¸€æ ·const mymixin = &#123; methods: &#123; dosomething()&#123;&#125; &#125;&#125;// å…¨å±€æ··å…¥ï¼šå°†æ··å…¥å¯¹è±¡ä¼ å…¥Vue.mixin(mymixin)// å±€éƒ¨æ··å…¥ï¼šåšæ•°ç»„é¡¹è®¾ç½®åˆ°mixinsé€‰é¡¹ï¼Œä»…ä½œç”¨äºå½“å‰ç»„ä»¶const Comp = &#123; mixins: [mymixin]&#125; æ’æ§½ä¸»è¦ç”¨äºvueç»„ä»¶ä¸­çš„å†…å®¹åˆ†å‘ï¼Œä¹Ÿå¯ä»¥ç”¨äºç»„ä»¶æ‰©å±•ã€‚ å­ç»„ä»¶Child 123&lt;div&gt; &lt;slot&gt;è¿™ä¸ªå†…å®¹ä¼šè¢«çˆ¶ç»„ä»¶ä¼ é€’çš„å†…å®¹æ›¿æ¢&lt;/slot&gt;&lt;/div&gt; çˆ¶ç»„ä»¶Parent 123&lt;div&gt; &lt;Child&gt;æ¥è‡ªè€çˆ¹çš„å†…å®¹&lt;/Child&gt;&lt;/div&gt; å¦‚æœè¦ç²¾ç¡®åˆ†å‘åˆ°ä¸åŒä½ç½®å¯ä»¥ä½¿ç”¨å…·åæ’æ§½ï¼Œå¦‚æœè¦ä½¿ç”¨å­ç»„ä»¶ä¸­çš„æ•°æ®å¯ä»¥ä½¿ç”¨ä½œç”¨åŸŸæ’æ§½ã€‚ ç»„ä»¶é€‰é¡¹ä¸­è¿˜æœ‰ä¸€ä¸ªä¸å¤ªå¸¸ç”¨çš„é€‰é¡¹extendsï¼Œä¹Ÿå¯ä»¥èµ·åˆ°æ‰©å±•ç»„ä»¶çš„ç›®çš„ 123456789101112// æ‰©å±•å¯¹è±¡const myextends = &#123; methods: &#123; dosomething()&#123;&#125; &#125;&#125;// ç»„ä»¶æ‰©å±•ï¼šåšæ•°ç»„é¡¹è®¾ç½®åˆ°extendsé€‰é¡¹ï¼Œä»…ä½œç”¨äºå½“å‰ç»„ä»¶// è·Ÿæ··å…¥çš„ä¸åŒæ˜¯å®ƒåªèƒ½æ‰©å±•å•ä¸ªå¯¹è±¡// å¦å¤–å¦‚æœå’Œæ··å…¥å‘ç”Ÿå†²çªï¼Œè¯¥é€‰é¡¹ä¼˜å…ˆçº§è¾ƒé«˜ï¼Œä¼˜å…ˆèµ·ä½œç”¨const Comp = &#123; extends: myextends&#125; æ··å…¥çš„æ•°æ®å’Œæ–¹æ³•ä¸èƒ½æ˜ç¡®åˆ¤æ–­æ¥æºä¸”å¯èƒ½å’Œå½“å‰ç»„ä»¶å†…å˜é‡äº§ç”Ÿå‘½åå†²çªï¼Œvue3ä¸­å¼•å…¥çš„composition apiï¼Œå¯ä»¥å¾ˆå¥½è§£å†³è¿™äº›é—®é¢˜ï¼Œåˆ©ç”¨ç‹¬ç«‹å‡ºæ¥çš„å“åº”å¼æ¨¡å—å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç¼–å†™ç‹¬ç«‹é€»è¾‘å¹¶æä¾›å“åº”å¼çš„æ•°æ®ï¼Œç„¶ååœ¨setupé€‰é¡¹ä¸­æœ‰æœºç»„åˆä½¿ç”¨ã€‚ä¾‹å¦‚ï¼š 123456789101112// å¤ç”¨é€»è¾‘1function useXX() &#123;&#125;// å¤ç”¨é€»è¾‘2function useYY() &#123;&#125;// é€»è¾‘ç»„åˆconst Comp = &#123; setup() &#123; const &#123;xx&#125; = useXX() const &#123;yy&#125; = useYY() return &#123;xx, yy&#125; &#125;&#125; å¯èƒ½çš„è¿½é—® : Vue.extendæ–¹æ³•ä½ ç”¨è¿‡å—ï¼Ÿå®ƒèƒ½ç”¨æ¥åšç»„ä»¶æ‰©å±•å—ï¼Ÿ Vue2å’ŒVue3ä¸­çš„å“åº”å¼åŸç†å¯¹æ¯”ï¼Œåˆ†åˆ«çš„å…·ä½“å®ç°æ€è·¯æ­¤é¢˜éå¸¸å¥½ï¼Œæ—¢è€ƒå¯Ÿæ·±åº¦åˆè€ƒå¯Ÿå¹¿åº¦ï¼Œé¢è¯•è€…è¦å¯¹ä¸¤ä¸ªç‰ˆæœ¬çš„å“åº”å¼åŸç†éƒ½æœ‰æ·±å…¥ç†è§£æ‰èƒ½ç­”å¥½ã€‚ ç­”é¢˜æ€è·¯ï¼š å¯ä»¥å…ˆè¯´vue2å“åº”å¼åŸç† ç„¶åè¯´å‡ºå®ƒçš„é—®é¢˜ æœ€åè¯´å‡ºvue3æ˜¯æ€ä¹ˆè§£å†³çš„ å›ç­”èŒƒä¾‹ï¼š vue2æ•°æ®å“åº”å¼å®ç°æ ¹æ®å¯¹è±¡ç±»å‹åšä¸åŒå¤„ç†ï¼Œå¦‚æœæ˜¯objectï¼Œåˆ™é€šè¿‡Object.defineProperty(obj,key,descriptor)æ‹¦æˆªå¯¹è±¡å±æ€§è®¿é—® 1234567891011function defineReactive(obj, key, val) &#123; Object.defineProperty(obj, key, &#123; get() &#123; return val &#125;, set(v) &#123; val = v notify() &#125; &#125;)&#125; å¦‚æœæ˜¯æ•°ç»„ï¼Œåˆ™è¦†ç›–æ•°ç»„çš„7ä¸ªå˜æ›´æ–¹æ³•å®ç°å˜æ›´é€šçŸ¥ 123456789101112const arrayProto = Array.prototypeconst arrayMethods = Object.create(arrayProto);['push','pop','shift','unshift','splice','sort','reverse'] .forEach(function (method) &#123; const original = arrayProto[method] def(arrayMethods, method, function mutator (...args) &#123; const result = original.apply(this, args) notify() return result &#125;)&#125;) å¯ä»¥çœ‹åˆ°vue2ä¸­æœ‰å‡ ä¸ªé—®é¢˜ï¼š åˆå§‹åŒ–æ—¶éœ€è¦éå†å¯¹è±¡æ‰€æœ‰keyï¼Œå¦‚æœå¯¹è±¡å±‚çº§è¾ƒæ·±ï¼Œæ€§èƒ½ä¸å¥½ é€šçŸ¥æ›´æ–°è¿‡ç¨‹éœ€è¦ç»´æŠ¤å¤§é‡depå®ä¾‹å’Œwatcherå®ä¾‹ï¼Œé¢å¤–å ç”¨å†…å­˜è¾ƒå¤š åŠ¨æ€æ–°å¢ã€åˆ é™¤å¯¹è±¡å±æ€§æ— æ³•æ‹¦æˆªï¼Œåªèƒ½ç”¨ç‰¹å®šset/delete apiä»£æ›¿ ä¸æ”¯æŒæ–°çš„Mapã€Setç­‰æ•°æ®ç»“æ„ vue3ä¸­ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œä½¿ç”¨åŸç”Ÿçš„Proxyä»£æ›¿ï¼š 12345678910111213141516function defineReactive(obj) &#123; return new Proxy(obj, &#123; get(target, key) &#123; track(target, key) return Reflect.get(target, key) &#125;, set(target, key, val) &#123; Reflect.set(target, key, val) trigger(target, key) &#125;, deleteProperty(target, key) &#123; Reflect.deleteProperty(target, key) trigger(target, key) &#125; &#125;)&#125; å¯ä»¥åŒæ—¶æ”¯æŒobjectå’Œarrayï¼ŒåŠ¨æ€å±æ€§å¢ã€åˆ éƒ½å¯ä»¥æ‹¦æˆªï¼Œæ–°å¢æ•°æ®ç»“æ„å‡æ”¯æŒï¼Œå¯¹è±¡åµŒå¥—å±æ€§è¿è¡Œæ—¶é€’å½’ï¼Œç”¨åˆ°æ‰ä»£ç†ï¼Œä¹Ÿä¸éœ€è¦ç»´æŠ¤ç‰¹åˆ«å¤šçš„ä¾èµ–å…³ç³»ï¼Œæ€§èƒ½å–å¾—å¾ˆå¤§è¿›æ­¥ã€‚ é¢è¯•é¢˜å‰–æ","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"},{"name":"é¢è¯•é¢˜","slug":"é¢è¯•é¢˜","permalink":"https://yangyfeng.github.io/blogpost/tags/é¢è¯•é¢˜/"}]},{"title":"é¢è¯•é¢˜é›†é”¦ï¼ˆ2ï¼‰","slug":"å‰ç«¯æ¯æ—¥ä¸€é¢˜/é¢è¯•é¢˜é›†é”¦ï¼ˆ2ï¼‰","date":"2020-12-16T16:00:00.000Z","updated":"2021-03-27T06:24:34.639Z","comments":true,"path":"/posts/63fad71d.html","link":"","permalink":"https://yangyfeng.github.io/posts/63fad71d.html","excerpt":"","text":"webå®‰å…¨æ”»å‡»æ‰‹æ®µæœ‰å“ªäº›ï¼Ÿä»¥åŠå¦‚ä½•é˜²èŒƒå¸¸è§çš„æœ‰xss, csrf, sqlæ³¨å…¥ xss(cross site scripting) è·¨ç«™è„šæœ¬æ”»å‡» å®šä¹‰: æŒ‡æ”»å‡»è€…åœ¨ç½‘é¡µåµŒå…¥è„šæœ¬ï¼Œç”¨æˆ·æµè§ˆç½‘é¡µè§¦å‘æ¶æ„è„šæœ¬æ‰§è¡Œ XSSæ”»å‡»åˆ†ä¸º3ç±»ï¼šå­˜å‚¨å‹ï¼ˆæŒä¹…å‹ï¼‰ã€åå°„å‹ï¼ˆéæŒä¹…å‹ï¼‰ã€åŸºäºDOM å¦‚ä½•é˜²èŒƒ: è®¾ç½®HttpOnlyä»¥é¿å…cookieåŠ«æŒçš„å±é™©è¿‡æ»¤ï¼Œå¯¹è¯¸å¦‚&lt;script&gt;ã€&lt;img&gt;ã€&lt;a&gt;ç­‰æ ‡ç­¾è¿›è¡Œè¿‡æ»¤ç¼–ç ï¼Œåƒä¸€äº›å¸¸è§çš„ç¬¦å·ï¼Œå¦‚&lt;&gt;åœ¨è¾“å…¥çš„æ—¶å€™è¦å¯¹å…¶è¿›è¡Œè½¬æ¢ç¼–ç é™åˆ¶ï¼Œå¯¹äºä¸€äº›å¯ä»¥é¢„æœŸçš„è¾“å…¥å¯ä»¥é€šè¿‡é™åˆ¶é•¿åº¦å¼ºåˆ¶æˆªæ–­æ¥è¿›è¡Œé˜²å¾¡ csrf(cross site request forgery) è·¨ç«™è¯·æ±‚ä¼ªé€  å®šä¹‰: æ˜¯ä¸€ç§åŠ«æŒå—ä¿¡ä»»ç”¨æˆ·å‘æœåŠ¡å™¨å‘é€éé¢„æœŸè¯·æ±‚çš„æ”»å‡»æ–¹å¼ å¦‚ä½•é˜²èŒƒ: éªŒè¯ HTTP Referer å­—æ®µè¯·æ±‚åœ°å€ä¸­æ·»åŠ  token å¹¶éªŒè¯HTTP å¤´ä¸­è‡ªå®šä¹‰å±æ€§å¹¶éªŒè¯ sqlæ³¨å…¥(SQL injection) å®šä¹‰: åœ¨æœªæˆæƒæƒ…å†µä¸‹ï¼Œéæ³•è®¿é—®æ•°æ®åº“ä¿¡æ¯ å¦‚ä½•é˜²èŒƒ: æœç»ç”¨æˆ·æäº¤çš„å‚æ•°å…¥åº“å¹¶ä¸”æ‰§è¡Œåœ¨ä»£ç å±‚ï¼Œä¸å‡†å‡ºç°sqlè¯­å¥åœ¨webè¾“å…¥å‚æ•°å¤„ï¼Œå¯¹æ‰€æœ‰çš„å‚æ•°åšsqlè½¬ä¹‰ä¸Šçº¿æµ‹è¯•ï¼Œéœ€è¦ä½¿ç”¨sqlè‡ªåŠ¨æ³¨å…¥å·¥å…·è¿›è¡Œæ‰€æœ‰çš„é¡µé¢sqlæ³¨å…¥æµ‹è¯• å‰ç«¯ä¼˜åŒ–æ‰‹æ®µæœ‰å“ªäº›ï¼Ÿ é™æ€èµ„æºåˆå¹¶å‹ç¼©(js,css, images) è¯·æ±‚æ•°é‡ä¼˜åŒ– Gzipå‹ç¼© å¸¦å®½ä¼˜åŒ– CDN å°±è¿‘èŠ‚ç‚¹ï¼Œå‡å°‘DNSæŸ¥æ‰¾ æŒ‰éœ€åŠ è½½ lazyload å‡å°‘è¯·æ±‚ éª¨æ¶å± ä¼˜åŒ–ç™½å± webç¼“å­˜ ç¼“å­˜ajaxæ•°æ® å‡å°‘é‡ç»˜å’Œé‡æ’ æ‰¹é‡æ›´æ–°ï¼¤ï¼¯ï¼­æ ·å¼ é¡µé¢ç»“æ„ å°†æ ·å¼è¡¨æ”¾åœ¨é¡¶éƒ¨ï¼Œå°†è„šæœ¬æ”¾åœ¨åº•éƒ¨ï¼Œå°½æ—©åˆ·æ–°æ–‡æ¡£çš„è¾“å‡º å¦‚ä½•ç†è§£es6ä¸­çš„Decoratorï¼ˆè£…é¥°å™¨ï¼‰ï¼Ÿå®šä¹‰ Decoratoræ˜¯ES7ä¸­çš„ææ¡ˆï¼Œæ¦‚å¿µå€Ÿé‰´äºpythonï¼Œ å®ƒä½œç”¨äºä¸€ä¸ªç›®æ ‡ç±»ä¸ºå…¶æ·»åŠ å±æ€§äºæ–¹æ³• æˆ‘ä»¬ç”¨ä¸€ä¸ªæ¯”å–»æ¥ç†è§£Decorator, æŠŠå­™æ‚Ÿç©ºçœ‹æˆæ˜¯ä¸€ä¸ªç±»ï¼Œé‚£ä¹ˆæ£’å­å°±æ˜¯è£…é¥°å™¨ä¸ºå…¶è£…å¤‡çš„æ­¦å™¨ ä»£ç ç†è§£: 123456789101112131415161718@stickclass Monkey &#123; &#125;function stick(target) &#123;// ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯ç›®æ ‡ç±»çš„æœ¬èº« target.ATK = 100000&#125;Monkey.ATK// ä¸ºæ‚Ÿç©ºè£…å¤‡äº†æ£’å­ï¼Œæ”»å‡»åŠ›æé«˜äº†100000// å¦‚æœä¸€ä¸ªå‚æ•°ä¸å¤Ÿç”¨ï¼Œå¯ä»¥åœ¨è£…é¥°å™¨å¤–å±‚å†åŒ…ä¸€å±‚function stick(atk) &#123; return function (targt) &#123; target.ATK = atk &#125;&#125;@stick(200000)// è¿™æ ·æˆ‘ä»¬å°±ä¸ºæ‚Ÿç©ºå¢åŠ äº†200000æ”»å‡»åŠ›class Monkey &#123; &#125; Decorator ä¸ä»…èƒ½ä¿®é¥°ç±»ï¼Œä¹Ÿèƒ½ä¿®é¥°ç±»çš„æ–¹æ³• 123456class Monkey &#123; @setName name() &#123; this.name = 'å­™æ‚Ÿç©º' &#125;&#125; Decorator åªèƒ½ä¿®é¥°ç±»åŠç±»çš„æ–¹æ³•,ä¸èƒ½ä¿®é¥°äºå‡½æ•°,å› ä¸ºå­˜åœ¨å‡½æ•°æå‡ Mixin åœ¨ä¿®é¥°å™¨åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å®ç°mixin(æ··å…¥),æ„æ€åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­æ··å…¥å¦ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³• ä»£ç ç¤ºä¾‹: 12345678910111213141516171819export function mixins(...list) &#123; return function (target) &#123; Object.assign(target.prototype, ...list) &#125;&#125;const skill = &#123; shapeshifting() &#123; console.log('72å˜') &#125;&#125;@mixins(skill)class Monkey &#123;&#125;Object.assign(Monkey.prototype, skill)const swk = new Monkey()swk.shapeshifting() // 72å˜ ä½¿ç”¨Decoratorçš„å¥½å¤„ æ‰©å±•åŠŸèƒ½ï¼Œç›¸å¯¹äºç»§æ‰¿å¢åŠ äº†æ›´å¤šçš„çµæ´»æ€§ ä»£ç å¯è¯»æ€§æ›´é«˜ï¼Œè£…é¥°å™¨æ­£ç¡®å‘½åç›¸å½“äºæ³¨é‡Š","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"é¢è¯•é¢˜","slug":"é¢è¯•é¢˜","permalink":"https://yangyfeng.github.io/blogpost/tags/é¢è¯•é¢˜/"}]},{"title":"æ·±å…¥å‰ç«¯æ¨¡å—åŒ–","slug":"å‰ç«¯å·¥ç¨‹åŒ–/æ·±å…¥å‰ç«¯æ¨¡å—åŒ–","date":"2020-12-15T16:00:00.000Z","updated":"2021-03-27T06:24:34.630Z","comments":true,"path":"/posts/c00659d0.html","link":"","permalink":"https://yangyfeng.github.io/posts/c00659d0.html","excerpt":"ä»€ä¹ˆæ˜¯å‰ç«¯çš„æ¨¡å—åŒ–ï¼Ÿç†è§£çš„ä¸å¤ªé€å½»ã€‚ å¹³å¸¸ä¸€ç›´ç”¨çš„ä¹Ÿåªæœ‰ES6æ¨¡å—åŒ–ï¼Œå¯¹äºå…¶ä»–å‡ ç§æ¨¡å—åŒ–è§„èŒƒç”¨çš„ä¹Ÿå°‘ï¼Œç†è§£ä¸å¤Ÿæ·±ï¼Œä½†æ˜¯ç»å¸¸ä¼šè§åˆ°ä¸€äº›é¢è¯•é¢˜æ˜¯é—®è¿™å‡ ç§æ¨¡å—åŒ–è§„èŒƒçš„åŒºåˆ«ï¼Œæ‰€ä»¥è¿™æ¬¡åšä¸€ä¸ªæ•´ç†æ€»ç»“ ä¸€ã€å¯¹äºæ¨¡å—åŒ–çš„ç†è§£1ã€ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿæ¨¡å—åŒ–å¼€å‘æ˜¯ä¸€ç§ç®¡ç†æ–¹å¼ï¼Œæ˜¯ä¸€ç§ç”Ÿäº§æ–¹å¼ï¼Œä¸€ç§è§£å†³é—®é¢˜çš„æ–¹æ¡ˆï¼Œä¸€ä¸ªæ¨¡å—å°±æ˜¯å®ç°ç‰¹å®šåŠŸèƒ½çš„æ–‡ä»¶ï¼Œæœ‰äº†æ¨¡å—ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´æ–¹ä¾¿åœ°ä½¿ç”¨åˆ«äººçš„ä»£ç ï¼Œæƒ³è¦ä»€ä¹ˆåŠŸèƒ½ï¼Œå°±åŠ è½½ä»€ä¹ˆæ¨¡å—ï¼Œä½†æ˜¯æ¨¡å—å¼€å‘éœ€è¦éµå¾ªä¸€å®šçš„è§„èŒƒï¼Œå¦åˆ™å°±éƒ½ä¹±å¥—äº†ï¼Œå› æ­¤ï¼Œæ‰æœ‰äº†åæ¥å¤§å®¶ç†Ÿæ‚‰çš„AMDè§„èŒƒï¼ŒCMDè§„èŒƒï¼Œä»¥åŠES6è‡ªå¸¦çš„æ¨¡å—åŒ–è§„èŒƒ 2ã€æ¨¡å—åŒ–å¸¦æ¥çš„å¥½å¤„ï¼Ÿ è§£å†³å‘½åå†²çª æä¾›å¤ç”¨æ€§ æé«˜ä»£ç å¯ç»´æŠ¤æ€§ çµæ´»æ¶æ„ï¼Œç„¦ç‚¹åˆ†ç¦»ï¼Œæ–¹ä¾¿æ¨¡å—é—´ç»„åˆã€åˆ†è§£ å¤šäººåä½œäº’ä¸å¹²æ‰° 3ã€æ¨¡å—åŒ–è§„èŒƒçš„å‘å±•è¿›ç¨‹ åŸå§‹å†™æ³•ï¼ˆå…¨å±€functionï¼‰ æ¨¡å—å°±æ˜¯å®ç°ç‰¹å®š**åŠŸèƒ½çš„ä¸€ç»„æ–¹æ³•ï¼Œåªè¦æŠŠä¸åŒçš„å‡½æ•°ï¼ˆä»¥åŠè®°å½•çŠ¶æ€çš„å˜é‡ï¼‰ç®€å•çš„æ”¾åœ¨ä¸€èµ·ï¼Œå°±ç®—æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚ 123456function m1 () &#123; // ...&#125;function m2 () &#123; // ...&#125; è¿™æ ·å†™ä¸Šé¢çš„å‡½æ•° m1() å’Œ m2() ï¼Œç»„æˆäº†ä¸€ä¸ªæ¨¡å—ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ç›´æ¥è°ƒç”¨å°±å¯ä»¥äº†ã€‚ ä½†æ˜¯å¸¦æ¥çš„é—®é¢˜ä¹Ÿå¾ˆæ˜æ˜¾ï¼š&quot;æ±¡æŸ“&quot;äº†å…¨å±€å˜é‡ ï¼Œæ— æ³•ä¿è¯ä¸ä¸å…¶ä»–æ¨¡å—å‘ç”Ÿå˜é‡åå†²çªï¼Œè€Œä¸”æ¨¡å—æˆå‘˜ä¹‹é—´çœ‹ä¸å‡ºç›´æ¥å…³ç³» namespaceå†™æ³•ï¼ˆç®€å•å¯¹è±¡ï¼‰ ä¸ºäº†è§£å†³ä¸Šé¢å†™æ³•å¸¦æ¥çš„ç¼ºç‚¹ï¼Œå¯ä»¥å§æ¨¡å—å†™æˆä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€æœ‰çš„æ¨¡å—æˆå‘˜éƒ½æ”¾åˆ°è¿™ä¸ªå¯¹è±¡é‡Œé¢ï¼Œè¿™æ ·å‡å°‘äº†å…¨å±€å˜é‡ï¼Œå‡å°‘å‘½åå†²çª 123456789101112131415161718const myModule = new Object(&#123; count: 0, m1: function () &#123; console.log('m1:' + this.count); &#125;, m2: function () &#123; console.log('m2:' + this.count) &#125;&#125;)// è°ƒç”¨myModule.m1() // m1:0// æ”¹å˜æ¨¡å—å†…éƒ¨çŠ¶æ€myModule.count = 5;myModule.m1() // m1:5 ä¸Šé¢çš„å‡½æ•° m1 å’Œ m2 ï¼Œéƒ½å°è£…åœ¨myModuleå¯¹è±¡é‡Œã€‚ä½¿ç”¨çš„æ—¶å€™ï¼Œå°±æ˜¯è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„å±æ€§ã€‚ä½†æ˜¯ï¼Œè¿™æ ·çš„å†™æ³•ä¼šæš´éœ²æ‰€æœ‰æ¨¡å—æˆå‘˜ï¼Œå†…éƒ¨çŠ¶æ€å¯ä»¥è¢«å¤–éƒ¨æ”¹å†™ã€‚æ¯”å¦‚ï¼Œå¤–éƒ¨ä»£ç å¯ä»¥ç›´æ¥æ”¹å˜å†…éƒ¨è®¡æ•°å™¨çš„å€¼ã€‚ ç«‹å³æ‰§è¡Œå‡½æ•°å†™æ³•ï¼ˆåŒ¿åå‡½æ•°è‡ªæ‰§è¡Œ ï¼Œé—­åŒ…ï¼‰ 12345678910111213const myModule = (function () &#123; let count = 0; let m1 = function () &#123; console.log('m1:' + count) &#125;; let m2 = function () &#123; console.log('m2:' + count) &#125; return &#123; m1, m2 &#125;;&#125;)()// è¿™æ ·å†™åœ¨å¤–é¢å°±æ— æ³•è¯»å–å†…éƒ¨çš„ count å˜é‡console.log(myModule.count); // undefined ç«‹å³æ‰§è¡Œå‡½æ•°å¢å¼º(å¼•å…¥ä¾èµ–) 12345const myModule = (function ($) &#123; // è¿™é‡Œé¢å°±å¯ä»¥ä½¿ç”¨JQuery&#125;)(JQuery)// è¿™æ ·åšé™¤äº†ä¿è¯æ¨¡å—çš„ç‹¬ç«‹æ€§ï¼Œè¿˜ä½¿å¾—æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»å˜å¾—æ˜æ˜¾","text":"ä»€ä¹ˆæ˜¯å‰ç«¯çš„æ¨¡å—åŒ–ï¼Ÿç†è§£çš„ä¸å¤ªé€å½»ã€‚ å¹³å¸¸ä¸€ç›´ç”¨çš„ä¹Ÿåªæœ‰ES6æ¨¡å—åŒ–ï¼Œå¯¹äºå…¶ä»–å‡ ç§æ¨¡å—åŒ–è§„èŒƒç”¨çš„ä¹Ÿå°‘ï¼Œç†è§£ä¸å¤Ÿæ·±ï¼Œä½†æ˜¯ç»å¸¸ä¼šè§åˆ°ä¸€äº›é¢è¯•é¢˜æ˜¯é—®è¿™å‡ ç§æ¨¡å—åŒ–è§„èŒƒçš„åŒºåˆ«ï¼Œæ‰€ä»¥è¿™æ¬¡åšä¸€ä¸ªæ•´ç†æ€»ç»“ ä¸€ã€å¯¹äºæ¨¡å—åŒ–çš„ç†è§£1ã€ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿæ¨¡å—åŒ–å¼€å‘æ˜¯ä¸€ç§ç®¡ç†æ–¹å¼ï¼Œæ˜¯ä¸€ç§ç”Ÿäº§æ–¹å¼ï¼Œä¸€ç§è§£å†³é—®é¢˜çš„æ–¹æ¡ˆï¼Œä¸€ä¸ªæ¨¡å—å°±æ˜¯å®ç°ç‰¹å®šåŠŸèƒ½çš„æ–‡ä»¶ï¼Œæœ‰äº†æ¨¡å—ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´æ–¹ä¾¿åœ°ä½¿ç”¨åˆ«äººçš„ä»£ç ï¼Œæƒ³è¦ä»€ä¹ˆåŠŸèƒ½ï¼Œå°±åŠ è½½ä»€ä¹ˆæ¨¡å—ï¼Œä½†æ˜¯æ¨¡å—å¼€å‘éœ€è¦éµå¾ªä¸€å®šçš„è§„èŒƒï¼Œå¦åˆ™å°±éƒ½ä¹±å¥—äº†ï¼Œå› æ­¤ï¼Œæ‰æœ‰äº†åæ¥å¤§å®¶ç†Ÿæ‚‰çš„AMDè§„èŒƒï¼ŒCMDè§„èŒƒï¼Œä»¥åŠES6è‡ªå¸¦çš„æ¨¡å—åŒ–è§„èŒƒ 2ã€æ¨¡å—åŒ–å¸¦æ¥çš„å¥½å¤„ï¼Ÿ è§£å†³å‘½åå†²çª æä¾›å¤ç”¨æ€§ æé«˜ä»£ç å¯ç»´æŠ¤æ€§ çµæ´»æ¶æ„ï¼Œç„¦ç‚¹åˆ†ç¦»ï¼Œæ–¹ä¾¿æ¨¡å—é—´ç»„åˆã€åˆ†è§£ å¤šäººåä½œäº’ä¸å¹²æ‰° 3ã€æ¨¡å—åŒ–è§„èŒƒçš„å‘å±•è¿›ç¨‹ åŸå§‹å†™æ³•ï¼ˆå…¨å±€functionï¼‰ æ¨¡å—å°±æ˜¯å®ç°ç‰¹å®š**åŠŸèƒ½çš„ä¸€ç»„æ–¹æ³•ï¼Œåªè¦æŠŠä¸åŒçš„å‡½æ•°ï¼ˆä»¥åŠè®°å½•çŠ¶æ€çš„å˜é‡ï¼‰ç®€å•çš„æ”¾åœ¨ä¸€èµ·ï¼Œå°±ç®—æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚ 123456function m1 () &#123; // ...&#125;function m2 () &#123; // ...&#125; è¿™æ ·å†™ä¸Šé¢çš„å‡½æ•° m1() å’Œ m2() ï¼Œç»„æˆäº†ä¸€ä¸ªæ¨¡å—ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ç›´æ¥è°ƒç”¨å°±å¯ä»¥äº†ã€‚ ä½†æ˜¯å¸¦æ¥çš„é—®é¢˜ä¹Ÿå¾ˆæ˜æ˜¾ï¼š&quot;æ±¡æŸ“&quot;äº†å…¨å±€å˜é‡ ï¼Œæ— æ³•ä¿è¯ä¸ä¸å…¶ä»–æ¨¡å—å‘ç”Ÿå˜é‡åå†²çªï¼Œè€Œä¸”æ¨¡å—æˆå‘˜ä¹‹é—´çœ‹ä¸å‡ºç›´æ¥å…³ç³» namespaceå†™æ³•ï¼ˆç®€å•å¯¹è±¡ï¼‰ ä¸ºäº†è§£å†³ä¸Šé¢å†™æ³•å¸¦æ¥çš„ç¼ºç‚¹ï¼Œå¯ä»¥å§æ¨¡å—å†™æˆä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€æœ‰çš„æ¨¡å—æˆå‘˜éƒ½æ”¾åˆ°è¿™ä¸ªå¯¹è±¡é‡Œé¢ï¼Œè¿™æ ·å‡å°‘äº†å…¨å±€å˜é‡ï¼Œå‡å°‘å‘½åå†²çª 123456789101112131415161718const myModule = new Object(&#123; count: 0, m1: function () &#123; console.log('m1:' + this.count); &#125;, m2: function () &#123; console.log('m2:' + this.count) &#125;&#125;)// è°ƒç”¨myModule.m1() // m1:0// æ”¹å˜æ¨¡å—å†…éƒ¨çŠ¶æ€myModule.count = 5;myModule.m1() // m1:5 ä¸Šé¢çš„å‡½æ•° m1 å’Œ m2 ï¼Œéƒ½å°è£…åœ¨myModuleå¯¹è±¡é‡Œã€‚ä½¿ç”¨çš„æ—¶å€™ï¼Œå°±æ˜¯è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„å±æ€§ã€‚ä½†æ˜¯ï¼Œè¿™æ ·çš„å†™æ³•ä¼šæš´éœ²æ‰€æœ‰æ¨¡å—æˆå‘˜ï¼Œå†…éƒ¨çŠ¶æ€å¯ä»¥è¢«å¤–éƒ¨æ”¹å†™ã€‚æ¯”å¦‚ï¼Œå¤–éƒ¨ä»£ç å¯ä»¥ç›´æ¥æ”¹å˜å†…éƒ¨è®¡æ•°å™¨çš„å€¼ã€‚ ç«‹å³æ‰§è¡Œå‡½æ•°å†™æ³•ï¼ˆåŒ¿åå‡½æ•°è‡ªæ‰§è¡Œ ï¼Œé—­åŒ…ï¼‰ 12345678910111213const myModule = (function () &#123; let count = 0; let m1 = function () &#123; console.log('m1:' + count) &#125;; let m2 = function () &#123; console.log('m2:' + count) &#125; return &#123; m1, m2 &#125;;&#125;)()// è¿™æ ·å†™åœ¨å¤–é¢å°±æ— æ³•è¯»å–å†…éƒ¨çš„ count å˜é‡console.log(myModule.count); // undefined ç«‹å³æ‰§è¡Œå‡½æ•°å¢å¼º(å¼•å…¥ä¾èµ–) 12345const myModule = (function ($) &#123; // è¿™é‡Œé¢å°±å¯ä»¥ä½¿ç”¨JQuery&#125;)(JQuery)// è¿™æ ·åšé™¤äº†ä¿è¯æ¨¡å—çš„ç‹¬ç«‹æ€§ï¼Œè¿˜ä½¿å¾—æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»å˜å¾—æ˜æ˜¾ äºŒã€æ¨¡å—åŒ–è§„èŒƒ1. CommonJS(1)ç®€ä»‹Node åº”ç”¨ç”±æ¨¡å—ç»„æˆï¼Œé‡‡ç”¨ CommonJS æ¨¡å—è§„èŒƒã€‚æ¯ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæœ‰è‡ªå·±çš„ä½œç”¨åŸŸã€‚åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢å®šä¹‰çš„å˜é‡ã€å‡½æ•°ã€ç±»ï¼Œéƒ½æ˜¯ç§æœ‰çš„ï¼Œå¯¹å…¶ä»–æ–‡ä»¶ä¸å¯è§ã€‚åœ¨æœåŠ¡å™¨ç«¯ï¼Œæ¨¡å—çš„åŠ è½½æ˜¯è¿è¡Œæ—¶åŒæ­¥åŠ è½½çš„ï¼›åœ¨æµè§ˆå™¨ç«¯ï¼Œæ¨¡å—éœ€è¦æå‰ç¼–è¯‘æ‰“åŒ…å¤„ç†ã€‚ (2)ç‰¹ç‚¹ æ‰€æœ‰ä»£ç éƒ½è¿è¡Œåœ¨æ¨¡å—ä½œç”¨åŸŸï¼Œä¸ä¼šæ±¡æŸ“å…¨å±€ä½œç”¨åŸŸã€‚ æ¨¡å—å¯ä»¥å¤šæ¬¡åŠ è½½ï¼Œä½†æ˜¯åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶è¿è¡Œä¸€æ¬¡ï¼Œç„¶åè¿è¡Œç»“æœå°±è¢«ç¼“å­˜äº†ï¼Œä»¥åå†åŠ è½½ï¼Œå°±ç›´æ¥è¯»å–ç¼“å­˜ç»“æœã€‚è¦æƒ³è®©æ¨¡å—å†æ¬¡è¿è¡Œï¼Œå¿…é¡»æ¸…é™¤ç¼“å­˜ã€‚ æ¨¡å—åŠ è½½çš„é¡ºåºï¼ŒæŒ‰ç…§å…¶åœ¨ä»£ç ä¸­å‡ºç°çš„é¡ºåºã€‚ (3)åŸºæœ¬è¯­æ³•12æš´éœ²æ¨¡å—ï¼šmodule.exports = valueæˆ–exports.xxx = valueå¼•å…¥æ¨¡å—ï¼šrequire(xxx),å¦‚æœæ˜¯ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œxxxä¸ºæ¨¡å—åï¼›å¦‚æœæ˜¯è‡ªå®šä¹‰æ¨¡å—ï¼Œxxxä¸ºæ¨¡å—æ–‡ä»¶è·¯å¾„ CommonJSæš´éœ²çš„æ¨¡å—åˆ°åº•æ˜¯ä»€ä¹ˆ? CommonJSè§„èŒƒè§„å®šï¼Œæ¯ä¸ªæ¨¡å—å†…éƒ¨ï¼Œmoduleå˜é‡ä»£è¡¨å½“å‰æ¨¡å—ã€‚è¿™ä¸ªå˜é‡æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„exportså±æ€§ï¼ˆå³module.exportsï¼‰æ˜¯å¯¹å¤–çš„æ¥å£ã€‚åŠ è½½æŸä¸ªæ¨¡å—ï¼Œå…¶å®æ˜¯åŠ è½½è¯¥æ¨¡å—çš„module.exportså±æ€§ã€‚ 1234567// example.jslet count = 5;let incrementCount = function () &#123; return ++count&#125;module.exports.count = count;module.exports.incrementCount = incrementCount; 1234// require.jsconst example = require('./example.js');console.log(example.count); // 5console.log(example.incrementCount()); // 6 requireå‘½ä»¤ç”¨äºåŠ è½½æ¨¡å—æ–‡ä»¶ã€‚requireå‘½ä»¤çš„åŸºæœ¬åŠŸèƒ½æ˜¯ï¼Œè¯»å…¥å¹¶æ‰§è¡Œä¸€ä¸ªJavaScriptæ–‡ä»¶ï¼Œç„¶åè¿”å›è¯¥æ¨¡å—çš„exportså¯¹è±¡ã€‚å¦‚æœæ²¡æœ‰å‘ç°æŒ‡å®šæ¨¡å—ï¼Œä¼šæŠ¥é”™ã€‚ (4)æ¨¡å—çš„åŠ è½½æœºåˆ¶CommonJSæ¨¡å—çš„åŠ è½½æœºåˆ¶æ˜¯ï¼Œè¾“å…¥çš„æ˜¯è¢«è¾“å‡ºçš„å€¼çš„æ‹·è´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦è¾“å‡ºä¸€ä¸ªå€¼ï¼Œæ¨¡å—å†…éƒ¨çš„å˜åŒ–å°±å½±å“ä¸åˆ°è¿™ä¸ªå€¼ã€‚è¿™ç‚¹ä¸ES6æ¨¡å—åŒ–æœ‰é‡å¤§å·®å¼‚ï¼ˆES6è¾“å…¥çš„æ˜¯å€¼çš„å¼•ç”¨ï¼‰ 1234567// example.jslet count = 5;let incrementCount = function () &#123; return ++count&#125;module.exports = &#123; count, incrementCount &#125;; 1234567// require.jsconst example = require('./example.js');console.log(example.count); // 5example.incrementCount();console.log(example.count); // 5 2. AMD(1)ç®€ä»‹CommonJSè§„èŒƒåŠ è½½æ¨¡å—æ˜¯åŒæ­¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åŠ è½½å®Œæˆï¼Œæ‰èƒ½æ‰§è¡Œåé¢çš„æ“ä½œã€‚ AMDæ˜¯â€Asynchronous Module Definitionâ€çš„ç¼©å†™ï¼Œæ„æ€å°±æ˜¯â€å¼‚æ­¥æ¨¡å—å®šä¹‰â€ã€‚å®ƒé‡‡ç”¨å¼‚æ­¥æ–¹å¼åŠ è½½æ¨¡å—ï¼Œæ‰€æœ‰ä¾èµ–è¿™ä¸ªæ¨¡å—çš„è¯­å¥ï¼Œéƒ½å®šä¹‰åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œç­‰åˆ°åŠ è½½å®Œæˆä¹‹åï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°æ‰ä¼šè¿è¡Œã€‚ ç”±äºNode.jsä¸»è¦ç”¨äºæœåŠ¡å™¨ç¼–ç¨‹ï¼Œæ¨¡å—æ–‡ä»¶ä¸€èˆ¬éƒ½å·²ç»å­˜åœ¨äºæœ¬åœ°ç¡¬ç›˜ï¼Œæ‰€ä»¥åŠ è½½èµ·æ¥æ¯”è¾ƒå¿«ï¼Œä¸ç”¨è€ƒè™‘éåŒæ­¥åŠ è½½çš„æ–¹å¼ï¼Œæ‰€ä»¥CommonJSè§„èŒƒæ¯”è¾ƒé€‚ç”¨ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ˜¯æµè§ˆå™¨ç¯å¢ƒï¼Œè¦ä»æœåŠ¡å™¨ç«¯åŠ è½½æ¨¡å—ï¼Œè¿™æ—¶å°±å¿…é¡»é‡‡ç”¨éåŒæ­¥æ¨¡å¼ï¼Œå› æ­¤æµè§ˆå™¨ç«¯ä¸€èˆ¬é‡‡ç”¨AMDè§„èŒƒã€‚ æ­¤å¤–AMDè§„èŒƒæ¯”CommonJSè§„èŒƒåœ¨æµè§ˆå™¨ç«¯å®ç°è¦æ¥ç€æ—©ã€‚ (2)åŸºæœ¬è¯­æ³•1234567/*** @param id* @param dependencies* @param factory*/define(id?: String, dependencies?: String[], factory: Function|Object); id æ˜¯æ¨¡å—çš„åå­—ï¼Œå®ƒæ˜¯å¯é€‰çš„å‚æ•°ã€‚ dependencies æŒ‡å®šäº†æ‰€è¦ä¾èµ–çš„æ¨¡å—åˆ—è¡¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¹Ÿæ˜¯å¯é€‰çš„å‚æ•°ï¼Œæ¯ä¸ªä¾èµ–çš„æ¨¡å—çš„è¾“å‡ºå°†ä½œä¸ºå‚æ•°ä¸€æ¬¡ä¼ å…¥ factory ä¸­ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®š dependenciesï¼Œé‚£ä¹ˆå®ƒçš„é»˜è®¤å€¼æ˜¯ [â€œrequireâ€, â€œexportsâ€, â€œmoduleâ€]ã€‚ factory æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œå®ƒåŒ…è£¹äº†æ¨¡å—çš„å…·ä½“å®ç°ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°æˆ–è€…å¯¹è±¡ã€‚å¦‚æœæ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆå®ƒçš„è¿”å›å€¼å°±æ˜¯æ¨¡å—çš„è¾“å‡ºæ¥å£æˆ–å€¼ã€‚ (3)ç”¨ä¾‹å®šä¹‰ä¸€ä¸ªåä¸º myModule çš„æ¨¡å—ï¼Œå®ƒä¾èµ– jQuery æ¨¡å—ï¼š 1234567define('myModule', ['jquery'], function($) &#123; // $ æ˜¯ jquery æ¨¡å—çš„è¾“å‡º $('body').text('hello world');&#125;);// ä½¿ç”¨require(['myModule'], function(myModule) &#123;&#125;); ä¾èµ–å¤šä¸ªæ¨¡å—çš„å®šä¹‰ï¼š 1234define(['jquery', './math.js'], function($, math) &#123; // $ å’Œ math ä¸€æ¬¡ä¼ å…¥ factory $('body').text('hello world');&#125;); æ¨¡å—è¾“å‡ºï¼š 123456789define(['jquery'], function($) &#123; var HelloWorldize = function(selector)&#123; $(selector).text('hello world'); &#125;; // HelloWorldize æ˜¯è¯¥æ¨¡å—è¾“å‡ºçš„å¯¹å¤–æ¥å£ return HelloWorldize;&#125;); åœ¨æ¨¡å—å®šä¹‰å†…éƒ¨å¼•ç”¨ä¾èµ–ï¼š 1234define(function(require) &#123; var $ = require('jquery'); $('body').text('hello world');&#125;); 3. CMD(1)ç®€ä»‹CMDè§„èŒƒä¸“é—¨ç”¨äºæµè§ˆå™¨ç«¯ï¼Œæ¨¡å—çš„åŠ è½½æ˜¯å¼‚æ­¥çš„ï¼Œæ¨¡å—ä½¿ç”¨æ—¶æ‰ä¼šåŠ è½½æ‰§è¡Œã€‚CMDè§„èŒƒæ•´åˆäº†CommonJSå’ŒAMDè§„èŒƒçš„ç‰¹ç‚¹ã€‚åœ¨ Sea.js ä¸­ï¼Œæ‰€æœ‰ JavaScript æ¨¡å—éƒ½éµå¾ª CMDæ¨¡å—å®šä¹‰è§„èŒƒã€‚ (2)åŸºæœ¬è¯­æ³•123456/*** @param &#123;String&#125; id* @param &#123;Array&#125; dependencies* @param &#123;Function | Object | String&#125; factory*/define(id?, dependencies?, factory) factory ä¸ºå¯¹è±¡ã€å­—ç¬¦ä¸²æ—¶ï¼Œè¡¨ç¤ºæ¨¡å—çš„æ¥å£å°±æ˜¯è¯¥å¯¹è±¡ã€å­—ç¬¦ä¸²ã€‚ 123define(&#123; \"foo\": \"bar\" &#125;);define('I am a template. My name is &#123;&#123;name&#125;&#125;.'); factory ä¸ºå‡½æ•°æ—¶ï¼Œè¡¨ç¤ºæ˜¯æ¨¡å—çš„æ„é€ æ–¹æ³•ã€‚æ‰§è¡Œè¯¥æ„é€ æ–¹æ³•ï¼Œå¯ä»¥å¾—åˆ°æ¨¡å—å‘å¤–æä¾›çš„æ¥å£ã€‚factory æ–¹æ³•åœ¨æ‰§è¡Œæ—¶ï¼Œé»˜è®¤ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šrequireã€exports å’Œ moduleï¼š 123456define(function(require, exports, module) &#123; // æ¨¡å—ä»£ç &#125;); (3)ç®€å•ç”¨ä¾‹å®šä¹‰æ²¡æœ‰ä¾èµ–çš„æ¨¡å—ï¼š 1234define(function(require, exports, module)&#123; exports.xxx = value module.exports = value&#125;) å®šä¹‰æœ‰ä¾èµ–çš„æ¨¡å—ï¼š 123456789define(function(require, exports, module)&#123; //å¼•å…¥ä¾èµ–æ¨¡å—(åŒæ­¥) var module2 = require('./module2') //å¼•å…¥ä¾èµ–æ¨¡å—(å¼‚æ­¥) require.async('./module3', function (m3) &#123; &#125;) //æš´éœ²æ¨¡å— exports.xxx = value&#125;) 4. ES6æ¨¡å—åŒ–(1) ç®€ä»‹ES6 æ¨¡å—çš„è®¾è®¡æ€æƒ³æ˜¯å°½é‡çš„é™æ€åŒ–ï¼Œä½¿å¾—ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ã€‚ CommonJS å’Œ AMD æ¨¡å—ï¼Œéƒ½åªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šè¿™äº›ä¸œè¥¿ã€‚æ¯”å¦‚ï¼ŒCommonJS æ¨¡å—å°±æ˜¯å¯¹è±¡ï¼Œè¾“å…¥æ—¶å¿…é¡»æŸ¥æ‰¾å¯¹è±¡å±æ€§ã€‚ ES6 æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡exportå‘½ä»¤æ˜¾å¼æŒ‡å®šè¾“å‡ºçš„ä»£ç ï¼Œå†é€šè¿‡importå‘½ä»¤è¾“å…¥ã€‚ (2) åŸºæœ¬è¯­æ³•exportå‘½ä»¤ç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£ï¼Œimportå‘½ä»¤ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½ã€‚ 1234567891011121314/** å®šä¹‰æ¨¡å— **/var basicNum = 0;var add = function (a, b) &#123; return a + b;&#125;;export &#123; basicNum, add &#125;;/** å¼•ç”¨æ¨¡å— **/import &#123; basicNum, add &#125; from './math';function test(ele) &#123; ele.textContent = add(99 + basicNum);&#125; å¯¼å‡ºæ¨¡å—è¿˜å¯ä»¥æœ‰ç§é»˜è®¤å¯¼å‡ºçš„å†™æ³• module.export : 123456789// export-default.jsexport default function () &#123; console.log('foo');&#125;// æ¨¡å—é»˜è®¤è¾“å‡º, å…¶ä»–æ¨¡å—åŠ è½½è¯¥æ¨¡å—æ—¶ï¼Œimportå‘½ä»¤å¯ä»¥ä¸ºè¯¥åŒ¿åå‡½æ•°æŒ‡å®šä»»æ„åå­—ã€‚// import-default.jsimport customName from './export-default'; customName(); // 'foo' (3) ES6 æ¨¡å—ä¸ CommonJS æ¨¡å—çš„å·®å¼‚ CommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ã€‚ CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼Œ ES6 æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„å¼•ç”¨ å·®å¼‚ä¸€ï¼š æ˜¯å› ä¸º CommonJS åŠ è½½çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆå³module.exportså±æ€§ï¼‰ï¼Œè¯¥å¯¹è±¡åªæœ‰åœ¨è„šæœ¬è¿è¡Œå®Œæ‰ä¼šç”Ÿæˆã€‚è€Œ ES6 æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œå®ƒçš„å¯¹å¤–æ¥å£åªæ˜¯ä¸€ç§é™æ€å®šä¹‰ï¼Œåœ¨ä»£ç é™æ€è§£æé˜¶æ®µå°±ä¼šç”Ÿæˆã€‚ å·®å¼‚äºŒï¼š 123456789101112// export.jsexport let num = 5;export let incrementNum = function() &#123; ++num;&#125;;// import.jsimport &#123; num, num2, incrementNum &#125; from '../export.js';console.log(num); // 5console.log(incrementNum());console.log(num); // 6 ä»ä¸Šé¢æˆ‘ä»¬ä¸éš¾çœ‹å‡º ES6 æ¨¡å—åŒ– ä¸ä¸Šé¢CommonJSä¸ä¸€æ ·çš„åœ°æ–¹ ES6 æ¨¡å—æ˜¯åŠ¨æ€å¼•ç”¨ï¼Œå¹¶ä¸”ä¸ä¼šç¼“å­˜å€¼ï¼Œæ¨¡å—é‡Œé¢çš„å˜é‡ç»‘å®šå…¶æ‰€åœ¨çš„æ¨¡å—ã€‚CommonJSè¾“å…¥çš„æ˜¯å€¼çš„æ‹·è´ï¼ˆåŸå§‹ç±»å‹ï¼‰ï¼Œå¦‚æœæ˜¯å‡½æ•°ã€å¯¹è±¡ï¼Œä¹Ÿæ˜¯ç”¨çš„å¼•ç”¨ ä¸‰ã€æ€»ç»“ CommonJSè§„èŒƒä¸»è¦ç”¨äºæœåŠ¡ç«¯ç¼–ç¨‹ï¼ŒåŠ è½½æ¨¡å—æ˜¯åŒæ­¥çš„ï¼Œè¿™å¹¶ä¸é€‚åˆåœ¨æµè§ˆå™¨ç¯å¢ƒï¼Œå› ä¸ºåŒæ­¥æ„å‘³ç€é˜»å¡åŠ è½½ï¼Œæµè§ˆå™¨èµ„æºæ˜¯å¼‚æ­¥åŠ è½½çš„ï¼Œå› æ­¤æœ‰äº†AMD CMDè§£å†³æ–¹æ¡ˆã€‚ AMDè§„èŒƒåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­å¼‚æ­¥åŠ è½½æ¨¡å—ï¼Œè€Œä¸”å¯ä»¥å¹¶è¡ŒåŠ è½½å¤šä¸ªæ¨¡å—ã€‚ä¸è¿‡ï¼ŒAMDè§„èŒƒå¼€å‘æˆæœ¬é«˜ï¼Œä»£ç çš„é˜…è¯»å’Œä¹¦å†™æ¯”è¾ƒå›°éš¾ï¼Œæ¨¡å—å®šä¹‰æ–¹å¼çš„è¯­ä¹‰ä¸é¡ºç•…ã€‚ CMDè§„èŒƒä¸AMDè§„èŒƒå¾ˆç›¸ä¼¼ï¼Œéƒ½ç”¨äºæµè§ˆå™¨ç¼–ç¨‹ï¼Œä¾èµ–å°±è¿‘ï¼Œå»¶è¿Ÿæ‰§è¡Œï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ¨Node.jsä¸­è¿è¡Œã€‚ä¸è¿‡ï¼Œä¾èµ– SPM æ‰“åŒ…ï¼Œæ¨¡å—çš„åŠ è½½é€»è¾‘åé‡ ES6 åœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ä¸Šï¼Œå®ç°äº†æ¨¡å—åŠŸèƒ½ï¼Œè€Œä¸”å®ç°å¾—ç›¸å½“ç®€å•ï¼Œå®Œå…¨å¯ä»¥å–ä»£ CommonJS å’Œ AMD è§„èŒƒï¼Œæˆä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šç”¨çš„æ¨¡å—è§£å†³æ–¹æ¡ˆã€‚ å‰ç«¯æ¨¡å—åŒ–è¯¦è§£(å®Œæ•´ç‰ˆ)","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯å·¥ç¨‹åŒ–","slug":"å‰ç«¯å·¥ç¨‹åŒ–","permalink":"https://yangyfeng.github.io/blogpost/tags/å‰ç«¯å·¥ç¨‹åŒ–/"},{"name":"æ¨¡å—åŒ–","slug":"æ¨¡å—åŒ–","permalink":"https://yangyfeng.github.io/blogpost/tags/æ¨¡å—åŒ–/"}]},{"title":"æ·±å…¥webpack","slug":"å‰ç«¯å·¥ç¨‹åŒ–/æ·±å…¥webpack","date":"2020-12-15T16:00:00.000Z","updated":"2021-03-27T06:24:34.629Z","comments":true,"path":"/posts/a441c8bd.html","link":"","permalink":"https://yangyfeng.github.io/posts/a441c8bd.html","excerpt":"","text":"å®ç°æ­¥éª¤ï¼š0ã€è¯»å–webpack.config.js 1ã€è§£ææ–‡ä»¶ä¾èµ– 2ã€æ›¿æ¢requireä¸ºwebpack_require 3ã€æœ¬åœ°ä½¿ç”¨{}å­˜å‚¨æ‰€æœ‰çš„æ–‡ä»¶ï¼Œç„¶åé€šè¿‡ä½¿ç”¨ä¸ºwebpack_requireè·å–æ–‡ä»¶å†…å®¹ï¼Œæ‰§è¡Œå‡½æ•°æ–¹å¼ä¸ºevelçš„åŒ…è£¹ä»£ç å­—ç¬¦ä¸² ä»£ç å®ç°index.js 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485#! /usr/bin/env node// è¯»å–configconst path = require('path')const fs = require('fs')// é»˜è®¤é…ç½®const defaultConfig = &#123; entry: './src/index.js', output: &#123; filename: 'build.js' &#125;&#125;// æœ€ç»ˆçš„é…ç½®const config = &#123; ...defaultConfig, ...require(path.resolve('./mywebpack.config.js'))&#125;class MyWebPack &#123; constructor(config) &#123; this.config = config this.entry = config.entry // æ ¹ç›®å½• this.root = process.cwd() // å­˜å‚¨æ‰€æœ‰ä»£ç  this.modules = &#123;&#125; &#125; start() &#123; console.log('è§£æä¾èµ–') const entryPath = path.resolve(this.root, this.entry) this.createModule(entryPath, this.entry) // ç”Ÿæˆæ–°æ–‡ä»¶ this.generaleFile() &#125; // ä»£ç å­—ç¬¦ä¸² generaleModuleString() &#123; let fnTmp = '' for (const name in this.modules) &#123; fnTmp += `\"$&#123;name&#125;\":$&#123;this.modules[name].replace(/\\r|\\n/g, \"\")&#125;,` &#125; fnTmp = fnTmp.substring(0, fnTmp.length - 1) return `&#123;$&#123;fnTmp&#125;&#125;` &#125; // ç”Ÿæˆæ–°æ–‡ä»¶ generaleFile() &#123; let template = fs.readFileSync(path.resolve(__dirname, './template.js'), 'utf-8') this.template = template.replace('__entry__', this.entry).replace('__modules_content__', this.generaleModuleString()) fs.mkdirSync(\"./mydist\"); fs.writeFileSync('./mydist/' + this.config.output.filename, this.template) console.log('å†™å…¥æ–‡ä»¶å®Œæ¯•'); &#125; // åˆ›å»ºä¾èµ– createModule(modulePath, name) &#123; // å‡ºç°äº†å¾ªç¯ä¾èµ– // if (this.modules[modulePath]) return const fileContent = fs.readFileSync(modulePath, 'utf-8') // æ›¿æ¢åçš„ä»£ç å’Œä¾èµ–æ•°ç»„ const &#123; code, deps &#125; = this.parse(fileContent, path.dirname(name)) this.modules[name] = `function (module, module.exports, __mywebpack_require__) &#123; eval(\\`$&#123;code&#125;\\`) &#125;` // å¾ªç¯è·å–æ‰€æœ‰ä¾èµ–æ•°ç»„çš„å†…å®¹ deps.forEach(dep =&gt; &#123; this.createModule(path.join(this.root, dep), './' + dep) &#125;) console.log(this.modules) &#125; // æ–‡ä»¶è§£æ parse(code, parent) &#123; let deps = [] let r = /require\\('(.*)'\\)/g // require('xxx') å°†requireæ›¿æ¢__mywebpack_require__ code = code.replace(r, function (match, arg) &#123; const retPath = path.join(parent, arg.replace(/'|\"/g, '')) deps.push(retPath) return `__mywebpack_require__(\"./$&#123;retPath&#125;\")` &#125;) return &#123; code, deps &#125; &#125;&#125;const mywebpack = new MyWebPack(config)mywebpack.start() template.js 12345678910111213141516171819!function (modules) &#123; // ç¼“å­˜ const installModules = &#123;&#125; // æ›¿æ¢åçš„require function __mywebpack_require__(moduleId) &#123; // æ˜¯å¦ç¼“å­˜ if (installModules[moduleId]) &#123; return installModules[moduleId].exports &#125; let modules = installModules[moduleId] = &#123; exports: &#123;&#125; &#125; modules[moduleId].call(modules.exports, module, exports, __mywebpack_require__) return module.exports &#125; // å…¥å£ return __mywebpack_require__(\"__entry__\")&#125;(__modules_content__)","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Webpack","slug":"Webpack","permalink":"https://yangyfeng.github.io/blogpost/tags/Webpack/"},{"name":"å‰ç«¯å·¥ç¨‹åŒ–","slug":"å‰ç«¯å·¥ç¨‹åŒ–","permalink":"https://yangyfeng.github.io/blogpost/tags/å‰ç«¯å·¥ç¨‹åŒ–/"}]},{"title":"ä¸ºä»€ä¹ˆå‰ç«¯éœ€è¦å­¦ä¹ node","slug":"Node/ä¸ºä»€ä¹ˆå‰ç«¯éœ€è¦å­¦ä¹ node","date":"2020-12-14T16:00:00.000Z","updated":"2021-03-27T06:24:34.618Z","comments":true,"path":"/posts/fbba48cc.html","link":"","permalink":"https://yangyfeng.github.io/posts/fbba48cc.html","excerpt":"","text":"ç†è§£è§£å†³è·¨åŸŸã€tokené‰´æƒã€Rsetfulé£æ ¼ã€XSSã€CSRFç­‰é—®é¢˜ï¼Œå­¦ä¹ åç«¯çš„æ€ç»´ã€‚ï¼ˆä¸åç«¯æœ‰æ•ˆæ²Ÿé€šï¼‰ å¦‚ä½•åªç”¨jsè¯­è¨€å¦‚ä½•å¼€å‘ä¸€ä¸ªå…¨æ ˆçš„åº”ç”¨ï¼ˆå¿«é€Ÿå¼€å‘å…¨æ ˆåº”ç”¨ï¼‰ å­¦ä¹ å…¨æ ˆå’Œæ¶æ„æ€ç»´çš„æœ‰æ•ˆé€”å¾„ï¼ˆè·µè¡Œå·¥ç¨‹åŒ–æ€æƒ³ï¼‰","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/åç«¯/"}],"tags":[{"name":"Node","slug":"Node","permalink":"https://yangyfeng.github.io/blogpost/tags/Node/"}]},{"title":"vueæ€§èƒ½ä¼˜åŒ–","slug":"Vue/vueæ€§èƒ½ä¼˜åŒ–","date":"2020-12-10T16:00:00.000Z","updated":"2021-04-29T09:36:32.443Z","comments":true,"path":"/posts/93532fe.html","link":"","permalink":"https://yangyfeng.github.io/posts/93532fe.html","excerpt":"1ã€ä½¿ç”¨å•æ–‡ä»¶ç»„ä»¶æˆ‘ä»¬å†™çš„tmplateé…ç½®ï¼Œå®é™…ä¸Šéœ€è¦ç¼–è¯‘ä¸ºrenderå‡½æ•°åœ¨æ‰§è¡Œçš„ å½“ä½¿ç”¨DOMå†…æ¨¡æ¿æˆ–è€…JSå†…çš„å­—ç¬¦ä¸²æ¨¡æ¿æ—¶ï¼Œæ¨¡æ¿ä¼šåœ¨è¿è¡Œæ—¶è¢«ç¼–è¯‘ä¸ºrenderå‡½æ•°ï¼Œé€šå¸¸æƒ…å†µè¿™ä¸ªè¿‡ç¨‹å·²ç»è¶³å¤Ÿå¿«ä¹ï¼Œä½†æ˜¯å¯¹æ€§èƒ½æ•æ„Ÿçš„åº”ç”¨è¿˜æ˜¯æœ‰å½±å“çš„ã€‚ é¢„ç¼–è¯‘æ¨¡æ¿æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨å•æ–‡ä»¶ç»„ä»¶ï¼Œå•æ–‡ä»¶ç»„ä»¶å°†ç›¸å…³çš„æ„å»ºè®¾ç½®è‡ªåŠ¨é¢„ç¼–è¯‘å¥½äº†ï¼Œæ‰€ä»¥æ„å»ºçš„ä»£ç å·²ç»åŒ…å«äº†ç¼–è¯‘å‡ºæ¥çš„renderå‡½æ•°äº†ï¼Œè€Œä¸æ˜¯åŸå§‹çš„æ¨¡æ¿å­—ç¬¦ä¸²äº†ï¼Œå‡å°‘äº†é‡æ–°ç¼–è¯‘çš„è¿‡ç¨‹äº†ã€‚ï¼ˆå•æ–‡ä»¶ç»„ä»¶å¯¼å…¥ä½¿ç”¨ç›´æ¥ä½¿ç”¨vue-loaderæ¥å¤„ç†ï¼Œæ²¡æœ‰vue-tmplateçš„å‡ºæ¥ï¼Œä½¿ç”¨èµ·æ¥ä¼šè¶³å¤Ÿå¿«é€Ÿçš„ã€‚ï¼‰","text":"1ã€ä½¿ç”¨å•æ–‡ä»¶ç»„ä»¶æˆ‘ä»¬å†™çš„tmplateé…ç½®ï¼Œå®é™…ä¸Šéœ€è¦ç¼–è¯‘ä¸ºrenderå‡½æ•°åœ¨æ‰§è¡Œçš„ å½“ä½¿ç”¨DOMå†…æ¨¡æ¿æˆ–è€…JSå†…çš„å­—ç¬¦ä¸²æ¨¡æ¿æ—¶ï¼Œæ¨¡æ¿ä¼šåœ¨è¿è¡Œæ—¶è¢«ç¼–è¯‘ä¸ºrenderå‡½æ•°ï¼Œé€šå¸¸æƒ…å†µè¿™ä¸ªè¿‡ç¨‹å·²ç»è¶³å¤Ÿå¿«ä¹ï¼Œä½†æ˜¯å¯¹æ€§èƒ½æ•æ„Ÿçš„åº”ç”¨è¿˜æ˜¯æœ‰å½±å“çš„ã€‚ é¢„ç¼–è¯‘æ¨¡æ¿æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨å•æ–‡ä»¶ç»„ä»¶ï¼Œå•æ–‡ä»¶ç»„ä»¶å°†ç›¸å…³çš„æ„å»ºè®¾ç½®è‡ªåŠ¨é¢„ç¼–è¯‘å¥½äº†ï¼Œæ‰€ä»¥æ„å»ºçš„ä»£ç å·²ç»åŒ…å«äº†ç¼–è¯‘å‡ºæ¥çš„renderå‡½æ•°äº†ï¼Œè€Œä¸æ˜¯åŸå§‹çš„æ¨¡æ¿å­—ç¬¦ä¸²äº†ï¼Œå‡å°‘äº†é‡æ–°ç¼–è¯‘çš„è¿‡ç¨‹äº†ã€‚ï¼ˆå•æ–‡ä»¶ç»„ä»¶å¯¼å…¥ä½¿ç”¨ç›´æ¥ä½¿ç”¨vue-loaderæ¥å¤„ç†ï¼Œæ²¡æœ‰vue-tmplateçš„å‡ºæ¥ï¼Œä½¿ç”¨èµ·æ¥ä¼šè¶³å¤Ÿå¿«é€Ÿçš„ã€‚ï¼‰ 2ã€ä½¿ç”¨Objaec.freeze()æå‡æ€§èƒ½å‚è€ƒvueæºç ï¼Œå®šä¹‰å“åº”å¼çš„æ—¶å€™ï¼Œå¦‚æœfreezeåçš„æ•°æ®ï¼Œä¸ä¼šåŠ ä¸Šsetterå’Œgetter https://github.com/vuejs/vue/blob/dev/src/core/observer/index.js 1234const property = Object.getOwnPropertyDescriptor(obj, key)if (property &amp;&amp; property.configurable === false) &#123; return&#125; 3ã€æ‰å¹³åŒ–æ•°æ®storestoreæ•°æ®æ‰å¹³åŒ–ï¼Œå‡å°‘æ•°æ®å±‚çº§åµŒå¥—ï¼Œå‡å°‘éå†ã€‚ 4ã€åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–å¦‚æœçš„æˆ‘ä»¬çš„åº”ç”¨å­˜åœ¨æ— é™é•¿æˆ–è€…æ— é™æ»šåŠ¨çš„é•¿åˆ—è¡¨ï¼Œé‚£ä¹ˆé‡‡ç”¨ çª—å£åŒ–çš„æŠ€æœ¯æ¥ä¼˜åŒ–ï¼Œåªéœ€è¦æ¸²æŸ“å°‘éƒ¨åˆ†åŒºåŸŸçš„å†…å®¹ï¼Œå‡å°‘é‡æ–°æ¸²æŸ“ç»„ä»¶å’Œåˆ›å»ºdomèŠ‚ç‚¹çš„æ—¶é—´ã€‚ vue-virtual-scroll-list vue-virtual-scroller å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„ä¸¤ä¸ªåº“æ¥å¤„ç† 5ã€éª¨æ¶å± webpackéª¨æ¶å±çš„å®è·µæ–¹æ¡ˆ: https://www.jianshu.com/p/ec4bf33ab2c8 6ã€ ssræœåŠ¡ç«¯æ¸²æŸ“ å®ç°æ–¹æ¡ˆå¯ä»¥é‡‡ç”¨nuxt.js 7ã€ è·¯ç”±æ‡’åŠ è½½https://router.vuejs.org/zh/guide/advanced/lazy-loading.html 8ã€ gzipã€ç¼“å­˜æ§åˆ¶ã€cdnå¼€å¯GZIP ä½“ç§¯å¯¹æ¯”å›¾ï¼š1541KB vs 466KB è€—æ—¶å¯¹æ¯”å›¾ï¼š333ms vs 225ms æ“ä½œæ­¥éª¤ï¼š 1ã€å®‰è£…åŒ…ï¼ˆæ–°ç‰ˆæœ¬çš„å¥½åƒé…ç½®è¿˜è¦æ”¹~~ï¼‰ npm install --save-dev compression-webpack-plugin 2ã€webpackçš„é…ç½® 123productionGzip: true,productionGzipExtensions: ['js', 'css'] 3ã€nginxæ·»åŠ é…ç½®ï¼š 12345678server &#123; gzip on; #å¼€å¯æˆ–å…³é—­gzip on off gzip_static on; gzip_disable \"msie6\"; #ä¸ä½¿ç”¨gzip IE6 gzip_min_length 100k; #gzipå‹ç¼©æœ€å°æ–‡ä»¶å¤§å°ï¼Œè¶…å‡ºè¿›è¡Œå‹ç¼©ï¼ˆè‡ªè¡Œè°ƒèŠ‚ï¼‰ gzip_types text/plain application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png; #å‹ç¼©æ–‡ä»¶ç±»å‹ ...&#125; CNDåŠ é€Ÿ vueæ‰“åŒ…æ–‡ä»¶ä¼šé»˜è®¤æŠŠæ‰€æœ‰çš„ç¬¬ä¸‰æ–¹ä»£ç æ‰“åŒ…åˆ°ä¸€ä¸ªvendor.jsä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠéƒ¨åˆ†è¶…å¤§çš„æ–‡ä»¶å‰¥ç¦»å‡ºæ¥ï¼Œä½¿ç”¨cndèµ„æºã€‚å¦‚å›¾ï¼Œæˆ‘ä»¬å°†vue/vuex/vue-router/axiosåˆ†ç¦»å‡ºæ¥é™ä½vendor.jsçš„å‹åŠ›ã€‚ 1ã€å¼•å…¥å¤–éƒ¨èµ„æºCDN 2ã€webpackå¤„ç†ï¼ˆåˆ«åå¤„ç†ï¼‰ keyï¼šè¦å¼•å…¥çš„èµ„æºåç§°ï¼›valueï¼šæ¨¡å—æä¾›ç»™å¤–éƒ¨å¼•ç”¨çš„åç§° 3ã€å»é™¤å¼•ç”¨ï¼Œå¦‚æœæƒ³é¿å…å…¨å±€æ±¡æŸ“ï¼Œå¯å¦‚ä¸‹å®šä¹‰","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"},{"name":"æ€§èƒ½ä¼˜åŒ–","slug":"æ€§èƒ½ä¼˜åŒ–","permalink":"https://yangyfeng.github.io/blogpost/tags/æ€§èƒ½ä¼˜åŒ–/"}]},{"title":"vueé¢è¯•é¢˜ï¼ˆ1ï¼‰","slug":"å‰ç«¯æ¯æ—¥ä¸€é¢˜/vueé¢è¯•é¢˜ï¼ˆ1ï¼‰","date":"2020-12-10T16:00:00.000Z","updated":"2021-03-27T06:24:34.636Z","comments":true,"path":"/posts/f0a558a1.html","link":"","permalink":"https://yangyfeng.github.io/posts/f0a558a1.html","excerpt":"VueåŒå‘ç»‘å®šå®ç°åŸç†ï¼Ÿvueå®ç°æ•°æ®åŒå‘ç»‘å®šä¸»è¦æ˜¯ï¼šé‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ï¼Œé€šè¿‡ Object.defineProperty() æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterï¼Œgetterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘ç›¸åº”ç›‘å¬å›è°ƒã€‚å½“æŠŠä¸€ä¸ªæ™®é€š Javascript å¯¹è±¡ä¼ ç»™ Vue å®ä¾‹æ¥ä½œä¸ºå®ƒçš„ data é€‰é¡¹æ—¶ï¼ŒVue å°†éå†å®ƒçš„å±æ€§ï¼Œç”¨ Object.defineProperty() å°†å®ƒä»¬è½¬ä¸º getter/setterã€‚ç”¨æˆ·çœ‹ä¸åˆ° getter/setterï¼Œä½†æ˜¯åœ¨å†…éƒ¨å®ƒä»¬è®© Vue è¿½è¸ªä¾èµ–ï¼Œåœ¨å±æ€§è¢«è®¿é—®å’Œä¿®æ”¹æ—¶é€šçŸ¥å˜åŒ–ã€‚ vueçš„æ•°æ®åŒå‘ç»‘å®š å°†MVVMä½œä¸ºæ•°æ®ç»‘å®šçš„å…¥å£ï¼Œæ•´åˆObserverï¼ŒCompileå’ŒWatcherä¸‰è€…ï¼Œé€šè¿‡Observeræ¥ç›‘å¬è‡ªå·±çš„modelçš„æ•°æ®å˜åŒ–ï¼Œé€šè¿‡Compileæ¥è§£æç¼–è¯‘æ¨¡æ¿æŒ‡ä»¤ï¼ˆvueä¸­æ˜¯ç”¨æ¥è§£æ åŒèŠ±æ‹¬å¼§ï¼‰ï¼Œæœ€ç»ˆåˆ©ç”¨watcheræ­èµ·observerå’ŒCompileä¹‹é—´çš„é€šä¿¡æ¡¥æ¢ï¼Œè¾¾åˆ°æ•°æ®å˜åŒ– â€”&gt;è§†å›¾æ›´æ–°ï¼›è§†å›¾äº¤äº’å˜åŒ–ï¼ˆinputï¼‰â€”&gt;æ•°æ®modelå˜æ›´åŒå‘ç»‘å®šæ•ˆæœã€‚ Observer å¯¹æ‰€æœ‰æ•°æ®çš„å±æ€§è¿›è¡Œç›‘å¬ Compile å¯¹æ¯ä¸ªå…ƒç´ èŠ‚ç‚¹çš„æŒ‡ä»¤è¿›è¡Œæ‰«æè·Ÿè§£æ,æ ¹æ®æŒ‡ä»¤æ¨¡æ¿æ›¿æ¢æ•°æ®,ä»¥åŠç»‘å®šç›¸åº”çš„æ›´æ–°å‡½æ•° Watcher ä½œä¸ºè¿æ¥Observer è·Ÿ Compile ä¹‹é—´çš„æ¡¥æ¢, èƒ½å¤Ÿè®¢é˜…æ¥æ”¶åˆ°æ¯ä¸ªå±æ€§å˜åŠ¨çš„é€šçŸ¥,æ‰§è¡Œç›¸åº”çš„å›è°ƒå‡½æ•° ä»£ç ç†è§£: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697const Dep = function() &#123; this.subs = []&#125;;Dep.prototype = &#123; addSub: function(sub) &#123; this.subs.push(sub) &#125;, notify: function() &#123; this.subs.forEach(sub = &gt; &#123; sub.update() &#125;) &#125;,&#125;;const Watcher = function(vm, node, name) &#123; Dep.target = this; this.name = name; this.node = node; this.vm = vm; this.update(); Dep.target = null&#125;;Watcher.prototype = &#123; update: function() &#123; this.get(); this.node.nodeValue = this.value &#125;, get: function() &#123; this.value = this.vm[this.name] &#125;,&#125;;const compile = function(node, vm) &#123; if (node.nodeType === 1) &#123; let attr = node.attributes; for (let i = 0; i &lt; attr.length; i++) &#123; if (attr[i].nodeName === 'v-model') &#123; let name = attr[i].nodeValue; node.addEventListener('input', e = &gt; &#123; vm[name] = node.value &#125;); node.value = vm[name]; node.removeAttribute('v-model') &#125; &#125; &#125; if (node.nodeType === 3) &#123; if (/\\&#123;\\&#123;(.*)\\&#125;\\&#125;/.test(node.nodeValue)) &#123; let name = RegExp.$1; name = name.trim(); node.nodeValue = vm[name]; new Watcher(vm, node, name) &#125; &#125;&#125;;const observe = data = &gt; &#123; if (!data || typeof data !== 'object') return 3344; Object.keys(data).forEach(key = &gt; defineReactive(data, key, data[key]))&#125;;const defineReactive = (data, key, value) = &gt; &#123; const dep = new Dep(); observe(value); Object.defineProperty(data, key, &#123; get: () = &gt; &#123; if (Dep.target) dep.addSub(Dep.target); return value &#125;, set: function(newValue) &#123; console.log(`æ•°æ®å·²å‘ç”Ÿå˜åŒ–ï¼Œæ–°çš„å€¼ä¸º$ &#123; newValue &#125;`); value = newValue; dep.notify() &#125;, &#125;)&#125;;function nodeToFragment(node, vm) &#123; let flag = document.createDocumentFragment(); let child; while ((child = node.firstChild)) &#123; compile(child, vm); flag.appendChild(child) &#125; return flag&#125;function Vue(options) &#123; let data = this.data = options.data; observe(data, this); let id = options.el; let dom = nodeToFragment(document.getElementById(id), data); document.getElementById(id).appendChild(dom)&#125;let vm = new Vue(&#123; el: 'app', data: &#123; text: 'example text', &#125;,&#125;); é¢˜ç›®åˆ†æï¼šåŒå‘ç»‘å®šæ˜¯vueçš„ç‰¹è‰²ä¹‹ä¸€ï¼Œå¼€å‘ä¸­å¿…ç„¶ä¼šç”¨åˆ°çš„çŸ¥è¯†ç‚¹ï¼Œç„¶è€Œæ­¤é¢˜è¿˜é—®äº†å®ç°åŸç†ï¼Œå‡çº§ä¸ºæ·±åº¦è€ƒæŸ¥ã€‚ æ€è·¯åˆ†æï¼š3w1h ç»™å‡ºåŒç»‘å®šä¹‰ åŒç»‘å¸¦æ¥çš„å¥½å¤„ åœ¨å“ªä½¿ç”¨åŒç»‘ ä½¿ç”¨æ–¹å¼ æ‰©å±•ï¼šä½¿ç”¨ç»†èŠ‚ã€åŸç†å®ç°æè¿° å›ç­”èŒƒä¾‹ï¼š vueä¸­åŒå‘ç»‘å®šæ˜¯ä¸€ä¸ªæŒ‡ä»¤v-modelï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªåŠ¨æ€å€¼åˆ°è§†å›¾ï¼ŒåŒæ—¶è§†å›¾ä¸­å˜åŒ–èƒ½æ”¹å˜è¯¥å€¼ã€‚v-modelæ˜¯è¯­æ³•ç³–ï¼Œé»˜è®¤æƒ…å†µä¸‹ç›¸å½“äº:valueå’Œ@inputã€‚ ä½¿ç”¨v-modelå¯ä»¥å‡å°‘å¤§é‡ç¹ççš„äº‹ä»¶å¤„ç†ä»£ç ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼Œä»£ç å¯è¯»æ€§ä¹Ÿæ›´å¥½ é€šå¸¸åœ¨è¡¨å•é¡¹ä¸Šä½¿ç”¨v-model åŸç”Ÿçš„è¡¨å•é¡¹å¯ä»¥ç›´æ¥ä½¿ç”¨v-modelï¼Œè‡ªå®šä¹‰ç»„ä»¶ä¸Šå¦‚æœè¦ä½¿ç”¨å®ƒéœ€è¦åœ¨ç»„ä»¶å†…ç»‘å®švalueå¹¶å¤„ç†è¾“å…¥äº‹ä»¶ æˆ‘åšè¿‡æµ‹è¯•ï¼Œè¾“å‡ºåŒ…å«v-modelæ¨¡æ¿çš„ç»„ä»¶æ¸²æŸ“å‡½æ•°ï¼Œå‘ç°å®ƒä¼šè¢«è½¬æ¢ä¸ºvalueå±æ€§çš„ç»‘å®šä»¥åŠä¸€ä¸ªäº‹ä»¶ç›‘å¬ï¼Œäº‹ä»¶å›è°ƒå‡½æ•°ä¸­ä¼šåšç›¸åº”å˜é‡æ›´æ–°æ“ä½œï¼Œè¿™è¯´æ˜ç¥å¥‡é­”æ³•å®é™…ä¸Šæ˜¯vueçš„ç¼–è¯‘å™¨å®Œæˆçš„ã€‚ å¯èƒ½çš„è¿½é—®ï¼š v-modelå’Œsyncä¿®é¥°ç¬¦æœ‰ä»€ä¹ˆåŒºåˆ« è‡ªå®šä¹‰ç»„ä»¶ä½¿ç”¨v-modelå¦‚æœæƒ³è¦æ”¹å˜äº‹ä»¶åæˆ–è€…å±æ€§ååº”è¯¥æ€ä¹ˆåš è§‚å¯Ÿè¾“å‡ºçš„æ¸²æŸ“å‡½æ•°ï¼š 123456789101112// &lt;input type=\"text\" v-model=\"foo\"&gt;_c('input', &#123; directives: [&#123; name: \"model\", rawName: \"v-model\", value: (foo), expression: \"foo\" &#125;], attrs: &#123; \"type\": \"text\" &#125;, domProps: &#123; \"value\": (foo) &#125;, on: &#123; \"input\": function ($event) &#123; if ($event.target.composing) return; foo = $event.target.value &#125; &#125; &#125;) 123456789101112131415161718192021// &lt;input type=\"checkbox\" v-model=\"bar\"&gt;_c('input', &#123; directives: [&#123; name: \"model\", rawName: \"v-model\", value: (bar), expression: \"bar\" &#125;], attrs: &#123; \"type\": \"checkbox\" &#125;, domProps: &#123; \"checked\": Array.isArray(bar) ? _i(bar, null) &gt; -1 : (bar) &#125;, on: &#123; \"change\": function ($event) &#123; var $$a = bar, $$el = $event.target, $$c = $$el.checked ? (true) : (false); if (Array.isArray($$a)) &#123; var $$v = null, $$i = _i($$a, $$v); if ($$el.checked) &#123; $$i &lt; 0 &amp;&amp; (bar = $$a.concat([$$v])) &#125; else &#123; $$i &gt; -1 &amp;&amp; (bar = $$a.slice(0, $$i).concat($$a.slice($$i + 1))) &#125; &#125; else &#123; bar = $$c &#125; &#125; &#125; &#125;) 123456789101112131415161718192021222324// &lt;select v-model=\"baz\"&gt;// &lt;option value=\"vue\"&gt;vue&lt;/option&gt;// &lt;option value=\"react\"&gt;react&lt;/option&gt;// &lt;/select&gt;_c('select', &#123; directives: [&#123; name: \"model\", rawName: \"v-model\", value: (baz), expression: \"baz\" &#125;], on: &#123; \"change\": function ($event) &#123; var $$selectedVal = Array.prototype.filter.call( $event.target.options, function (o) &#123; return o.selected &#125; ).map( function (o) &#123; var val = \"_value\" in o ? o._value : o.value; return val &#125; ); baz = $event.target.multiple ? $$selectedVal : $$selectedVal[0] &#125; &#125; &#125;, [ _c('option', &#123; attrs: &#123; \"value\": \"vue\" &#125; &#125;, [_v(\"vue\")]), _v(\" \"), _c('option', &#123; attrs: &#123; \"value\": \"react\" &#125; &#125;, [_v(\"react\")])])","text":"VueåŒå‘ç»‘å®šå®ç°åŸç†ï¼Ÿvueå®ç°æ•°æ®åŒå‘ç»‘å®šä¸»è¦æ˜¯ï¼šé‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ï¼Œé€šè¿‡ Object.defineProperty() æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterï¼Œgetterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘ç›¸åº”ç›‘å¬å›è°ƒã€‚å½“æŠŠä¸€ä¸ªæ™®é€š Javascript å¯¹è±¡ä¼ ç»™ Vue å®ä¾‹æ¥ä½œä¸ºå®ƒçš„ data é€‰é¡¹æ—¶ï¼ŒVue å°†éå†å®ƒçš„å±æ€§ï¼Œç”¨ Object.defineProperty() å°†å®ƒä»¬è½¬ä¸º getter/setterã€‚ç”¨æˆ·çœ‹ä¸åˆ° getter/setterï¼Œä½†æ˜¯åœ¨å†…éƒ¨å®ƒä»¬è®© Vue è¿½è¸ªä¾èµ–ï¼Œåœ¨å±æ€§è¢«è®¿é—®å’Œä¿®æ”¹æ—¶é€šçŸ¥å˜åŒ–ã€‚ vueçš„æ•°æ®åŒå‘ç»‘å®š å°†MVVMä½œä¸ºæ•°æ®ç»‘å®šçš„å…¥å£ï¼Œæ•´åˆObserverï¼ŒCompileå’ŒWatcherä¸‰è€…ï¼Œé€šè¿‡Observeræ¥ç›‘å¬è‡ªå·±çš„modelçš„æ•°æ®å˜åŒ–ï¼Œé€šè¿‡Compileæ¥è§£æç¼–è¯‘æ¨¡æ¿æŒ‡ä»¤ï¼ˆvueä¸­æ˜¯ç”¨æ¥è§£æ åŒèŠ±æ‹¬å¼§ï¼‰ï¼Œæœ€ç»ˆåˆ©ç”¨watcheræ­èµ·observerå’ŒCompileä¹‹é—´çš„é€šä¿¡æ¡¥æ¢ï¼Œè¾¾åˆ°æ•°æ®å˜åŒ– â€”&gt;è§†å›¾æ›´æ–°ï¼›è§†å›¾äº¤äº’å˜åŒ–ï¼ˆinputï¼‰â€”&gt;æ•°æ®modelå˜æ›´åŒå‘ç»‘å®šæ•ˆæœã€‚ Observer å¯¹æ‰€æœ‰æ•°æ®çš„å±æ€§è¿›è¡Œç›‘å¬ Compile å¯¹æ¯ä¸ªå…ƒç´ èŠ‚ç‚¹çš„æŒ‡ä»¤è¿›è¡Œæ‰«æè·Ÿè§£æ,æ ¹æ®æŒ‡ä»¤æ¨¡æ¿æ›¿æ¢æ•°æ®,ä»¥åŠç»‘å®šç›¸åº”çš„æ›´æ–°å‡½æ•° Watcher ä½œä¸ºè¿æ¥Observer è·Ÿ Compile ä¹‹é—´çš„æ¡¥æ¢, èƒ½å¤Ÿè®¢é˜…æ¥æ”¶åˆ°æ¯ä¸ªå±æ€§å˜åŠ¨çš„é€šçŸ¥,æ‰§è¡Œç›¸åº”çš„å›è°ƒå‡½æ•° ä»£ç ç†è§£: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697const Dep = function() &#123; this.subs = []&#125;;Dep.prototype = &#123; addSub: function(sub) &#123; this.subs.push(sub) &#125;, notify: function() &#123; this.subs.forEach(sub = &gt; &#123; sub.update() &#125;) &#125;,&#125;;const Watcher = function(vm, node, name) &#123; Dep.target = this; this.name = name; this.node = node; this.vm = vm; this.update(); Dep.target = null&#125;;Watcher.prototype = &#123; update: function() &#123; this.get(); this.node.nodeValue = this.value &#125;, get: function() &#123; this.value = this.vm[this.name] &#125;,&#125;;const compile = function(node, vm) &#123; if (node.nodeType === 1) &#123; let attr = node.attributes; for (let i = 0; i &lt; attr.length; i++) &#123; if (attr[i].nodeName === 'v-model') &#123; let name = attr[i].nodeValue; node.addEventListener('input', e = &gt; &#123; vm[name] = node.value &#125;); node.value = vm[name]; node.removeAttribute('v-model') &#125; &#125; &#125; if (node.nodeType === 3) &#123; if (/\\&#123;\\&#123;(.*)\\&#125;\\&#125;/.test(node.nodeValue)) &#123; let name = RegExp.$1; name = name.trim(); node.nodeValue = vm[name]; new Watcher(vm, node, name) &#125; &#125;&#125;;const observe = data = &gt; &#123; if (!data || typeof data !== 'object') return 3344; Object.keys(data).forEach(key = &gt; defineReactive(data, key, data[key]))&#125;;const defineReactive = (data, key, value) = &gt; &#123; const dep = new Dep(); observe(value); Object.defineProperty(data, key, &#123; get: () = &gt; &#123; if (Dep.target) dep.addSub(Dep.target); return value &#125;, set: function(newValue) &#123; console.log(`æ•°æ®å·²å‘ç”Ÿå˜åŒ–ï¼Œæ–°çš„å€¼ä¸º$ &#123; newValue &#125;`); value = newValue; dep.notify() &#125;, &#125;)&#125;;function nodeToFragment(node, vm) &#123; let flag = document.createDocumentFragment(); let child; while ((child = node.firstChild)) &#123; compile(child, vm); flag.appendChild(child) &#125; return flag&#125;function Vue(options) &#123; let data = this.data = options.data; observe(data, this); let id = options.el; let dom = nodeToFragment(document.getElementById(id), data); document.getElementById(id).appendChild(dom)&#125;let vm = new Vue(&#123; el: 'app', data: &#123; text: 'example text', &#125;,&#125;); é¢˜ç›®åˆ†æï¼šåŒå‘ç»‘å®šæ˜¯vueçš„ç‰¹è‰²ä¹‹ä¸€ï¼Œå¼€å‘ä¸­å¿…ç„¶ä¼šç”¨åˆ°çš„çŸ¥è¯†ç‚¹ï¼Œç„¶è€Œæ­¤é¢˜è¿˜é—®äº†å®ç°åŸç†ï¼Œå‡çº§ä¸ºæ·±åº¦è€ƒæŸ¥ã€‚ æ€è·¯åˆ†æï¼š3w1h ç»™å‡ºåŒç»‘å®šä¹‰ åŒç»‘å¸¦æ¥çš„å¥½å¤„ åœ¨å“ªä½¿ç”¨åŒç»‘ ä½¿ç”¨æ–¹å¼ æ‰©å±•ï¼šä½¿ç”¨ç»†èŠ‚ã€åŸç†å®ç°æè¿° å›ç­”èŒƒä¾‹ï¼š vueä¸­åŒå‘ç»‘å®šæ˜¯ä¸€ä¸ªæŒ‡ä»¤v-modelï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªåŠ¨æ€å€¼åˆ°è§†å›¾ï¼ŒåŒæ—¶è§†å›¾ä¸­å˜åŒ–èƒ½æ”¹å˜è¯¥å€¼ã€‚v-modelæ˜¯è¯­æ³•ç³–ï¼Œé»˜è®¤æƒ…å†µä¸‹ç›¸å½“äº:valueå’Œ@inputã€‚ ä½¿ç”¨v-modelå¯ä»¥å‡å°‘å¤§é‡ç¹ççš„äº‹ä»¶å¤„ç†ä»£ç ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼Œä»£ç å¯è¯»æ€§ä¹Ÿæ›´å¥½ é€šå¸¸åœ¨è¡¨å•é¡¹ä¸Šä½¿ç”¨v-model åŸç”Ÿçš„è¡¨å•é¡¹å¯ä»¥ç›´æ¥ä½¿ç”¨v-modelï¼Œè‡ªå®šä¹‰ç»„ä»¶ä¸Šå¦‚æœè¦ä½¿ç”¨å®ƒéœ€è¦åœ¨ç»„ä»¶å†…ç»‘å®švalueå¹¶å¤„ç†è¾“å…¥äº‹ä»¶ æˆ‘åšè¿‡æµ‹è¯•ï¼Œè¾“å‡ºåŒ…å«v-modelæ¨¡æ¿çš„ç»„ä»¶æ¸²æŸ“å‡½æ•°ï¼Œå‘ç°å®ƒä¼šè¢«è½¬æ¢ä¸ºvalueå±æ€§çš„ç»‘å®šä»¥åŠä¸€ä¸ªäº‹ä»¶ç›‘å¬ï¼Œäº‹ä»¶å›è°ƒå‡½æ•°ä¸­ä¼šåšç›¸åº”å˜é‡æ›´æ–°æ“ä½œï¼Œè¿™è¯´æ˜ç¥å¥‡é­”æ³•å®é™…ä¸Šæ˜¯vueçš„ç¼–è¯‘å™¨å®Œæˆçš„ã€‚ å¯èƒ½çš„è¿½é—®ï¼š v-modelå’Œsyncä¿®é¥°ç¬¦æœ‰ä»€ä¹ˆåŒºåˆ« è‡ªå®šä¹‰ç»„ä»¶ä½¿ç”¨v-modelå¦‚æœæƒ³è¦æ”¹å˜äº‹ä»¶åæˆ–è€…å±æ€§ååº”è¯¥æ€ä¹ˆåš è§‚å¯Ÿè¾“å‡ºçš„æ¸²æŸ“å‡½æ•°ï¼š 123456789101112// &lt;input type=\"text\" v-model=\"foo\"&gt;_c('input', &#123; directives: [&#123; name: \"model\", rawName: \"v-model\", value: (foo), expression: \"foo\" &#125;], attrs: &#123; \"type\": \"text\" &#125;, domProps: &#123; \"value\": (foo) &#125;, on: &#123; \"input\": function ($event) &#123; if ($event.target.composing) return; foo = $event.target.value &#125; &#125; &#125;) 123456789101112131415161718192021// &lt;input type=\"checkbox\" v-model=\"bar\"&gt;_c('input', &#123; directives: [&#123; name: \"model\", rawName: \"v-model\", value: (bar), expression: \"bar\" &#125;], attrs: &#123; \"type\": \"checkbox\" &#125;, domProps: &#123; \"checked\": Array.isArray(bar) ? _i(bar, null) &gt; -1 : (bar) &#125;, on: &#123; \"change\": function ($event) &#123; var $$a = bar, $$el = $event.target, $$c = $$el.checked ? (true) : (false); if (Array.isArray($$a)) &#123; var $$v = null, $$i = _i($$a, $$v); if ($$el.checked) &#123; $$i &lt; 0 &amp;&amp; (bar = $$a.concat([$$v])) &#125; else &#123; $$i &gt; -1 &amp;&amp; (bar = $$a.slice(0, $$i).concat($$a.slice($$i + 1))) &#125; &#125; else &#123; bar = $$c &#125; &#125; &#125; &#125;) 123456789101112131415161718192021222324// &lt;select v-model=\"baz\"&gt;// &lt;option value=\"vue\"&gt;vue&lt;/option&gt;// &lt;option value=\"react\"&gt;react&lt;/option&gt;// &lt;/select&gt;_c('select', &#123; directives: [&#123; name: \"model\", rawName: \"v-model\", value: (baz), expression: \"baz\" &#125;], on: &#123; \"change\": function ($event) &#123; var $$selectedVal = Array.prototype.filter.call( $event.target.options, function (o) &#123; return o.selected &#125; ).map( function (o) &#123; var val = \"_value\" in o ? o._value : o.value; return val &#125; ); baz = $event.target.multiple ? $$selectedVal : $$selectedVal[0] &#125; &#125; &#125;, [ _c('option', &#123; attrs: &#123; \"value\": \"vue\" &#125; &#125;, [_v(\"vue\")]), _v(\" \"), _c('option', &#123; attrs: &#123; \"value\": \"react\" &#125; &#125;, [_v(\"react\")])]) Vue-routeræœ‰å‡ ç§æ¨¡å¼ï¼Ÿå¦‚ä½•å®ç°å‘¢ï¼Ÿ åœ¨vue-routerä¸­æœ‰ä¸¤ç§æ¨¡å¼ historyhistory ä¸º HTML5 Api,æä¾›äº†ä¸°å¯Œçš„router ç›¸å…³å±æ€§ï¼Œ æ¯”å¦‚history.back() å°±èƒ½è½»æ¾çš„åšåˆ°é¡µé¢å›é€€ hashhash router æœ‰ä¸€ä¸ªæ˜æ˜¾çš„æ ‡å¿—æ˜¯url ä¸­å¸¦æœ‰#ï¼Œ æˆ‘ä»¬å¯ä»¥é€šè¿‡ç›‘å¬urlä¸­çš„hashæ¥è¿›è¡Œè·¯ç”±è·³è½¬ å¦‚ä½•å®ç° history åœ¨ä»£ç å®ç°å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹historyå‡ ä¸ªapi history.pushState æµè§ˆå™¨å†å²çºªå½•æ·»åŠ è®°å½• history.replaceState ä¿®æ”¹æµè§ˆå™¨å†å²çºªå½•ä¸­å½“å‰çºªå½• history.popState å½“history å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ åœ¨ç»“åˆä»£ç ç†è§£: 1234567891011121314151617181920212223242526272829class Routers &#123; contructor() &#123; this.routes = &#123;&#125;; this.listerPopState() &#125; init(path) &#123; history.replaceState(&#123; path: path &#125;, null, path); this.routes[path] &amp;&amp; this.routes[path]() &#125; route(path, callback) &#123; this.routes[path] = callback &#125; push(path) &#123; history.pushState(&#123; path: path &#125;, null, path); this.routes[path] &amp;&amp; this.routes[path]() &#125; listerPopState() &#123; window.addEventListener('popstate', e = &gt; &#123; const path = e.state &amp;&amp; e.state.path; this.routers[path] &amp;&amp; this.routers[path]() &#125;) &#125;&#125;window.VueRouter = new Routers();VueRouter.route('/', () = &gt; console.log('JS')) VueRouter.route('/detail', () = &gt; console.log('JSæ¯æ—¥ä¸€é¢˜')) VueRouter.push('/detail') hash router ä¸Šé¢è¯´è¿‡æˆ‘ä»¬å¯ä»¥é€šè¿‡ç›‘å¬urlä¸­çš„hashæ¥è¿›è¡Œè·¯ç”±è·³è½¬ ç»“åˆä»£ç ç†è§£: 123456789101112131415161718class Routers &#123; constructor() &#123; this.routes = &#123;&#125;; this.currentUrl = ''; this.refresh = this.refresh.bind(this); window.addEventListener('load', this.refresh, false); window.addEventListener('hashchange', this.refresh, false) &#125; route(path, callback) &#123; this.routes[path] = callback &#125; push() &#123; this.currentUrl = location.hash.slice(1) || '/'; this.routes[this.currentUrl] &amp;&amp; this.routes[this.currentUrl]() &#125;&#125;window.VueRouter = new Routers();VueRouter.route('/', () = &gt; console.log('JS')) VueRouter.route('/detail', () = &gt; console.log('JSæ¯æ—¥ä¸€é¢˜')) VueRouter.push('/detail') å·¥ä½œä¸­ä¸å¿…å¤ªè¿‡çº ç»“ä½¿ç”¨å“ªç§æ¨¡å¼ï¼Œhashæ¨¡å¼urlä¸­ä¼šå¸¦æœ‰#å·ï¼Œç ´åurlæ•´ä½“çš„ç¾è§‚æ€§, history éœ€è¦æœåŠ¡ç«¯æ”¯æŒrewrite, å¦åˆ™åˆ·æ–°ä¼šå‡ºç°404ç°è±¡ vueä¸­keepaliveæ€ä¹ˆç†è§£ï¼Ÿ è¯´åœ¨å‰é¢: keep-aliveæ˜¯vueæºç ä¸­å®ç°çš„ä¸€ä¸ªç»„ä»¶, æ„Ÿå…´è¶£çš„å¯ä»¥ç ”ç©¶æºç  https://github.com/vuejs/vue/blob/dev/src/core/components/keep-alive.js ä»€ä¹ˆæ˜¯keepalive æˆ‘ä»¬å¹³æ—¶å¼€å‘ä¸­, æ€»æœ‰éƒ¨åˆ†ç»„ä»¶æ²¡æœ‰å¿…è¦å¤šæ¬¡init, æˆ‘ä»¬éœ€è¦å°†ç»„ä»¶è¿›è¡ŒæŒä¹…åŒ–ï¼Œä½¿ç»„ä»¶çŠ¶æ€ç»´æŒä¸å˜ï¼Œåœ¨ä¸‹ä¸€æ¬¡å±•ç¤ºæ—¶ï¼Œ ä¹Ÿä¸ä¼šè¿›è¡Œé‡æ–°init keepaliveéŸ³è¯‘è¿‡æ¥å°±æ˜¯ä¿æŒæ´»ç€, æ‰€ä»¥åœ¨vueä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨keepaliveæ¥è¿›è¡Œç»„ä»¶ç¼“å­˜ åŸºæœ¬ä½¿ç”¨ 12// è¢«keepaliveåŒ…å«çš„ç»„ä»¶ä¼šè¢«è¿›è¡Œç¼“å­˜&lt; keep - alive &gt; &lt; component / &gt; &lt; /keep-alive&gt; ä¸Šé¢æåˆ°è¢«keepaliveåŒ…å«çš„ç»„ä»¶ä¸ä¼šè¢«å†æ¬¡initï¼Œä¹Ÿå°±æ„å‘³ç€ä¸ä¼šé‡èµ°ç”Ÿå‘½å‘¨æœŸå‡½æ•°, ä½†æ˜¯å¹³å¸¸å·¥ä½œä¸­å¾ˆå¤šä¸šåŠ¡åœºæ™¯æ˜¯å¸Œæœ›æˆ‘ä»¬ç¼“å­˜çš„ç»„ä»¶åœ¨å†æ¬¡æ¸²æŸ“çš„èƒ½åšä¸€äº›äº‹æƒ…,vueä¸ºkeepaliveæä¾›äº†ä¸¤ä¸ªé¢å¤–çš„hook activated å½“keepaliveåŒ…å«çš„ç»„ä»¶å†æ¬¡æ¸²æŸ“çš„æ—¶å€™è§¦å‘ deactivated å½“keepaliveåŒ…å«çš„ç»„ä»¶é”€æ¯çš„æ—¶å€™è§¦å‘ æ³¨: 2.1.0 ç‰ˆæœ¬åkeepaliveåŒ…å«ä½†è¢«excludeæ’é™¤çš„ç»„ä»¶ä¸ä¼šæœ‰ä»¥ä¸Šä¸¤ä¸ªhook å‚æ•° keepaliveå¯ä»¥æ¥æ”¶3ä¸ªå±æ€§åšä¸ºå‚æ•°è¿›è¡ŒåŒ¹é…å¯¹åº”çš„ç»„ä»¶è¿›è¡Œç¼“å­˜ include åŒ…å«çš„ç»„ä»¶ exclude æ’é™¤çš„ç»„ä»¶ max ç¼“å­˜ç»„ä»¶çš„æœ€å¤§å€¼ å…¶ä¸­include,excludeå¯ä»¥ä¸ºå­—ç¬¦ï¼Œæ•°ç»„ï¼Œä»¥åŠæ­£åˆ™è¡¨è¾¾å¼max ç±»å‹ä¸ºå­—ç¬¦æˆ–è€…æ•°å­— ä»£ç ç†è§£ 12345678910111213141516// åªç¼“å­˜ç»„ä»¶nameä¸ºaæˆ–è€…bçš„ç»„ä»¶&lt;keep-alive include = \"a,b\" &gt; &lt;component: is = \"currentView\" /&gt; &lt;/keep-alive&gt;// ç»„ä»¶åä¸ºcçš„ç»„ä»¶ä¸ç¼“å­˜&lt;keep-alive exclude=\"c\"&gt; &lt;component:is=\"currentView\"/ &gt; &lt;/keep-alive&gt;// å¦‚æœåŒæ—¶ä½¿ç”¨include,exclude,é‚£ä¹ˆexcludeä¼˜å…ˆäºincludeï¼Œ ä¸‹é¢çš„ä¾‹å­ä¹Ÿå°±æ˜¯åªç¼“å­˜aç»„ä»¶&lt;keep-alive include=\"a,b\"exclude=\"b\"&gt; &lt;component:is=\"currentView\"/ &gt;&lt;/keep-alive&gt;// å¦‚æœç¼“å­˜çš„ç»„ä»¶è¶…è¿‡äº†maxè®¾å®šçš„å€¼5ï¼Œé‚£ä¹ˆå°†åˆ é™¤ç¬¬ä¸€ä¸ªç¼“å­˜çš„ç»„ä»¶&lt;keep-alive exclude=\"c\"max=\"5\"&gt; &lt;component:is=\"currentView\"/ &gt; &lt;/keep-alive&gt; é…åˆrouterä½¿ç”¨ 12345678910111213141516171819202122&lt;!-- template --&gt;// æ„æ€å°±æ˜¯$router.meta.keepAliveå€¼ä¸ºçœŸæ˜¯å°†ç»„ä»¶è¿›è¡Œç¼“å­˜&lt;keep-alive&gt; &lt;router-view v-if=\"$router.meta.keepAlive\"&gt;&lt;/router-view&gt;&lt;router-view v-if=\"!$router.meta.keepAlive\"&gt;&lt;/router-view&gt;//routeré…ç½®new Router(&#123; routes: [&#123; name: 'a', path: '/a', component: A, meta: &#123; keepAlive: true &#125; &#125;, &#123; name: 'b', path: '/b', component: B &#125;]&#125;) æ€»ç»“ keepaliveæ˜¯ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼Œç¼“å­˜vnodeï¼Œç¼“å­˜çš„ç»„ä»¶ä¸ä¼šè¢«mountedï¼Œä¸ºæ­¤æä¾›activated å’Œ deactivated é’©å­å‡½æ•°, ä½¿ç”¨props max å¯ä»¥æ§åˆ¶ç¼“å­˜ç»„ä»¶ä¸ªæ•° Vue.useä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ æºç åœ°å€: https://github.com/vuejs/vue/blob/dev/src/core/global-api/use.js å®šä¹‰ vue.use()å¾€å…¨å±€æ³¨å…¥ä¸€ä¸ªæ’ä»¶ï¼Œä¾›å…¨å±€çœŸæ¥ä½¿ç”¨, ä¸éœ€è¦å•ç‹¬å¼•ç”¨ ä»£ç ç†è§£: 12345678import Router from 'vue-router'// å…¥å£æ–‡ä»¶å…¨å±€æ³¨å…¥vue-router, ä»è€Œå¯ä»¥åœ¨å…¨å±€ä½¿ç”¨this.$routeVue.use(Router)å¦‚æœä¸ä½¿ç”¨vue.useé‚£ä¹ˆéœ€åœ¨ç»„ä»¶ä¸­ä½¿ç”¨éƒ½å¾—å•ç‹¬å¼•å…¥// a.vueimport Router from 'vue-router'// b.vueimport Router from 'vue-router' ç†è§£äº†å…¶åŸºæœ¬ä½¿ç”¨åŠä½œç”¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹vue.useä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆ æºç å¾ˆå°‘ï¼Œæ‰€ä»¥ç›´æ¥æ‘˜æŠ„äº† 123456789101112131415161718192021222324Vue.use = function(plugin: Function | Object) &#123; // flowè¯­æ³•, æ£€æµ‹å‚æ•°æ˜¯å¦æ˜¯å‡½æ•°æˆ–å¯¹è±¡ // æ‹¿åˆ°å·²å®‰è£…æ’ä»¶åˆ—è¡¨ const installedPlugins = (this._installedPlugins || (this._installedPlugins = [])) // å¦‚æœå·²ç»å®‰è£…ï¼Œç›´æ¥è·³å‡ºæ–¹æ³• if (installedPlugins.indexOf(plugin) &gt; -1) &#123; return this &#125; // additional parameters // å–vue.use() ä¼ å…¥çš„å‚æ•° const args = toArray(arguments, 1) // å°†vueå¯¹è±¡å¡«å……åˆ°ç¬¬ä¸€ä½, æœ€åçš„ç»“æ„ä¸º[vue,arg1,arg2,...] args.unshift(this) // åˆ¤æ–­æ’ä»¶æ˜¯å¦æœ‰installæ–¹æ³•ï¼Œå¦‚æœæœ‰æ‰§è¡Œinstallæ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰ç›´æ¥æŠŠæ’ä»¶å½“installæ‰§è¡Œ if (typeof plugin.install === 'function') &#123; plugin.install.apply(plugin, args) &#125; else if (typeof plugin === 'function') &#123; plugin.apply(null, args) &#125; // æ³¨å†Œå®Œæˆå¡«å……è‡³å·²å®‰è£…åˆ—è¡¨ï¼Œä¿è¯æ¯ä¸ªæ’ä»¶åªå®‰è£…ä¸€æ¬¡ installedPlugins.push(plugin) return this&#125; ç»“åˆä»£ç ç†è§£ 1234567891011121314151617181920212223// ä»£ç æ‘˜æŠ„è‡ªelementuiå…¥å£æ–‡ä»¶å®ç°ä¸Šå°±æ˜¯åœ¨installä¸­æ‰§è¡Œäº†å…¨å±€æ³¨å†Œçš„æ“ä½œ// index.jsconst install = function(Vue, opts = &#123;&#125;) &#123; locale.use(opts.locale); locale.i18n(opts.i18n); components.forEach(component = &gt; &#123; Vue.component(component.name, component) &#125;);...&#125;exportdefault &#123; version: '2.5.4', locale: locale.use, i18n: locale.i18n, install, CollapseTransition, Loading, ...&#125;// main.jsimport demo from './idnex'vue.use(demo) æ€»ç»“ vue.use()ä¸ºæ³¨å†Œå…¨å±€æ’ä»¶æ‰€ç”¨ï¼Œæ¥æ”¶å‡½æ•°æˆ–è€…ä¸€ä¸ªåŒ…å«installå±æ€§çš„å¯¹è±¡ä¸ºå‚æ•°ï¼Œå¦‚æœå‚æ•°å¸¦æœ‰installå°±æ‰§è¡Œinstall, å¦‚æœæ²¡æœ‰å°±ç›´æ¥å°†å‚æ•°å½“installæ‰§è¡Œ, ç¬¬ä¸€ä¸ªå‚æ•°å§‹ç»ˆä¸ºvueå¯¹è±¡, æ³¨å†Œè¿‡çš„æ’ä»¶ä¸ä¼šé‡æ–°æ³¨å†Œ ç®€è¿°ä¸€ä¸‹Vue.jsçš„templateç¼–è¯‘è¿‡ç¨‹ï¼Ÿ çœ‹ä¸€ä¸‹æ•´ä¸ªæµç¨‹ ä»ä¸Šå›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°compileæ˜¯ä»mountåå¼€å§‹è¿›è¡Œä¸­, æ•´ä½“é€»è¾‘åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ† è§£æå™¨(parse) - å°† æ¨¡æ¿å­—ç¬¦ä¸² è½¬æ¢æˆ elementASTs ä¼˜åŒ–å™¨(optimize) - å¯¹ AST è¿›è¡Œé™æ€èŠ‚ç‚¹æ ‡è®°ï¼Œä¸»è¦ç”¨æ¥åšè™šæ‹ŸDOMçš„æ¸²æŸ“ä¼˜åŒ– ä»£ç ç”Ÿæˆå™¨(generate) - ä½¿ç”¨ elementASTs ç”Ÿæˆ render å‡½æ•°ä»£ç å­—ç¬¦ä¸² å¼€å§‹å‰å…ˆè§£é‡Šä¸€ä¸‹AST AST(abstract syntax tree æŠ½è±¡è¯­æ³•æ ‘), æ˜¯æºä»£ç çš„æŠ½è±¡è¯­æ³•ç»“æ„çš„æ ‘çŠ¶è¡¨ç°å½¢å¼ ä»ä»£ç ä¸Šç®€å•ç†è§£ä¸€ä¸‹ 1234567891011121314151617181920212223&lt; div class = \"name\" &gt; JSæ¯æ—¥ä¸€é¢˜ &lt; /div&gt;//è½¬æˆASTåä¼šå¾—åˆ°å¦‚ä¸‹æ ¼å¼[&#123; \"type\": \"tag\", \"name\": \"div\", \"attribs\": &#123; \"class\": \"name\" &#125;, \"children\": [&#123; \"data\": \"JSæ¯æ—¥ä¸€é¢˜\", \"type\": \"text\", \"next\": null, \"startIndex\": 18, \"prev\": null, \"parent\": \"[Circular ~.0]\", \"endIndex\": 24 &#125;], \"next\": null, \"startIndex\": 0, \"prev\": null, \"parent\": null, \"endIndex\": 30&#125;] ASTä¼šç»è¿‡generateå¾—åˆ°renderå‡½æ•°ï¼Œrenderçš„è¿”å›å€¼æ˜¯VNode VNodeçš„æºç å¯ä»¥è§ https://github.com/vuejs/vue/blob/8a2dbf50105ea729125a42fecfe2c2f0371d7836/src/core/vdom/vnode.js è§£æå™¨(parse) æºç åœ°å€ https://github.com/vuejs/vue/blob/8a2dbf50105ea729125a42fecfe2c2f0371d7836/src/compiler/parser/index.js parse çš„ç›®æ ‡æ˜¯æŠŠ template æ¨¡æ¿å­—ç¬¦ä¸²è½¬æ¢æˆ AST æ ‘ï¼Œå®ƒæ˜¯ä¸€ç§ç”¨ JavaScript å¯¹è±¡çš„å½¢å¼æ¥æè¿°æ•´ä¸ªæ¨¡æ¿ã€‚é‚£ä¹ˆæ•´ä¸ª parse çš„è¿‡ç¨‹æ˜¯åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼é¡ºåºè§£ææ¨¡æ¿ï¼Œå½“è§£æåˆ°å¼€å§‹æ ‡ç­¾ã€é—­åˆæ ‡ç­¾ã€æ–‡æœ¬çš„æ—¶å€™éƒ½ä¼šåˆ†åˆ«æ‰§è¡Œå¯¹åº”çš„å›è°ƒå‡½æ•°ï¼Œæ¥è¾¾åˆ°æ„é€  AST æ ‘çš„ç›®çš„ ä¼˜åŒ–å™¨(optimize) æºç åœ°å€ https://github.com/vuejs/vue/blob/8a2dbf50105ea729125a42fecfe2c2f0371d7836/src/compiler/optimizer.js é€šè¿‡ optimize æŠŠæ•´ä¸ª AST æ ‘ä¸­çš„æ¯ä¸€ä¸ª AST å…ƒç´ èŠ‚ç‚¹æ ‡è®°äº† static å’Œ staticRoot, optimize çš„è¿‡ç¨‹ï¼Œå°±æ˜¯æ·±åº¦éå†è¿™ä¸ª AST æ ‘ï¼Œå»æ£€æµ‹å®ƒçš„æ¯ä¸€é¢—å­æ ‘æ˜¯ä¸æ˜¯é™æ€èŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯é™æ€èŠ‚ç‚¹åˆ™å®ƒä»¬ç”Ÿæˆ DOM æ°¸è¿œä¸éœ€è¦æ”¹å˜ ä»£ç ç”Ÿæˆå™¨(generate) æºç åœ°å€ https://github.com/vuejs/vue/blob/8a2dbf50105ea729125a42fecfe2c2f0371d7836/src/compiler/codegen/index.js æŠŠä¼˜åŒ–åçš„ AST æ ‘è½¬æ¢æˆå¯æ‰§è¡Œçš„ä»£ç  æ€»ç»“ é¦–å…ˆé€šè¿‡parseå°†templateè§£ææˆAST,å…¶æ¬¡optimizeå¯¹è§£æå‡ºæ¥çš„ASTè¿›è¡Œæ ‡è®°ï¼Œæœ€ågenerateå°†ä¼˜åŒ–åçš„ASTè½¬æ¢æˆå¯æ‰§è¡Œçš„ä»£ç  Vueä¸­çš„nextTickå¦‚ä½•ç†è§£ï¼Œå®ƒæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ åœ¨vueä¸­ï¼Œæ•°æ®å‘ç”Ÿå˜åŒ–ä¹‹åDOMå¹¶ä¸ä¼šç«‹å³å˜åŒ–ï¼Œè€Œæ˜¯ç­‰åŒä¸€äº‹ä»¶å¾ªç¯ä¸­çš„æ‰€æœ‰æ•°æ®å˜åŒ–å®Œæˆä¹‹åï¼Œå†ç»Ÿä¸€è¿›è¡Œè§†å›¾æ›´æ–° ä»£ç ç†è§£ 12345this.name = 'JSæ¯æ—¥ä¸€é¢˜' // å¦‚è¿™ä¸ªç»‘å®šåœ¨æŸä¸€ä¸ªDOMå…ƒç´ ä¸Šconsole.log(this.$el.textContent) // è¿™æ—¶DOMè¿˜æ²¡æœ‰æ›´æ–°,æ‰€ä»¥ä¸ä¼šå¾—åˆ°æ–‡å­—JSæ¯æ—¥ä¸€é¢˜this.$nextTick(() = &gt;console.log(this.$el.textContent)) // nextTick æ˜¯åœ¨DOMæ›´æ–°åæ‰§è¡Œï¼Œè¿™é‡Œæ‰“å°JSæ¯æ—¥ä¸€é¢˜ nextTickä»€ä¹ˆæƒ…å†µä¸‹ä¼šè§¦å‘ åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­çš„æ•°æ®å˜åŒ–åï¼ŒDOMæ›´æ–°å®Œæˆ, æ‰§è¡ŒnextTick(callback)å†…çš„å›è°ƒ å¯¹äº‹ä»¶å¾ªç¯ä¸ç†è§£çš„å¯ä»¥ç‚¹è¿™é‡Œ vueä¸­nextTickçš„å®ç° æºç åœ°å€ https://github.com/vuejs/vue/blob/dev/src/core/util/next-tick.js 1234567891011121314151617181920212223242526272829303132333435363738function flushCallbacks() &#123; pending = false // å¤åˆ¶ä¸€ä»½callbacks const copies = callbacks.slice(0) // æ¸…ç©ºcallbacks callbacks.length = 0 for (let i = 0; i &lt; copies.length; i++) &#123; // é¡ºåºæ‰§è¡Œnexttickä¼ å…¥çš„å›è°ƒ copies[i]() &#125;&#125;exportfunction nextTick(cb ? :Function, ctx ? :Object) &#123; let _resolve // å°†å›è°ƒå‹å…¥callbacks callbacks.push(() = &gt;&#123; if (cb) &#123; try &#123; cb.call(ctx) &#125; catch(e) &#123; handleError(e, ctx, 'nextTick') &#125; &#125; else if (_resolve) &#123; _resolve(ctx) &#125; &#125;) if (!pending) &#123; pending = true // timerFuncçš„æºç è¾ƒå¤šï¼Œå¤§è‡´æ„æ€å°±æ˜¯æ ¹æ® useMacroTask æ¡ä»¶æ‰§è¡Œ macroTimerFunc æˆ–è€…æ˜¯ microTimerFuncï¼Œè€Œå®ƒä»¬éƒ½ä¼šåœ¨ä¸‹ä¸€ä¸ª tick æ‰§è¡Œ flushCallbacksï¼ŒflushCallbacks çš„é€»è¾‘éå¸¸ç®€å•ï¼Œå¯¹ callbacks éå†ï¼Œç„¶åæ‰§è¡Œç›¸åº”çš„å›è°ƒå‡½æ•° (è§ä¸Šé¢çš„flushCallbacksæ–¹æ³•) timerFunc() &#125; // å¦‚æœnextTickä¸ä¼ cb,å°±ä¸ºnextTickæä¾›ä¸€ä¸ªpromiseè°ƒç”¨ å¦‚: nextTick().then(()=&gt; &#123;&#125;) if (!cb &amp;&amp; typeof Promise !== 'undefined') &#123; return new Promise(resolve = &gt;&#123; _resolve = resolve &#125;) &#125;&#125; æ€»ç»“ æ•°æ®çš„å˜åŒ–åˆ° DOM çš„é‡æ–°æ¸²æŸ“æ˜¯ä¸€ä¸ªå¼‚æ­¥è¿‡ç¨‹, æˆ‘ä»¬å¿…é¡»åœ¨ nextTick åæ‰§è¡ŒDOMç›¸å…³çš„æ“ä½œ è¿™é“é¢˜è€ƒæŸ¥å¤§å®¶å¯¹vueå¼‚æ­¥æ›´æ–°é˜Ÿåˆ—çš„ç†è§£ï¼Œæœ‰ä¸€å®šæ·±åº¦ï¼Œå¦‚æœèƒ½å¤Ÿå¾ˆå¥½å›ç­”æ­¤é¢˜ï¼Œå¯¹é¢è¯•æ•ˆæœæœ‰æå¤§å¸®åŠ© ç­”é¢˜æ€è·¯ï¼š nextTickæ˜¯å•¥ï¼Ÿä¸‹ä¸€ä¸ªå®šä¹‰ ä¸ºä»€ä¹ˆéœ€è¦å®ƒå‘¢ï¼Ÿç”¨å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—å®ç°åŸç†è§£é‡Š æˆ‘å†ä»€ä¹ˆåœ°æ–¹ç”¨å®ƒå‘¢ï¼ŸæŠ“æŠ“å¤´ï¼Œæƒ³æƒ³ä½ åœ¨å¹³æ—¶å¼€å‘ä¸­ä½¿ç”¨å®ƒçš„åœ°æ–¹ ä¸‹é¢ä»‹ç»ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨nextTick æœ€åèƒ½è¯´å‡ºæºç å®ç°å°±ä¼šæ˜¾å¾—ä½ æ ¼å¤–ä¼˜ç§€ å…ˆçœ‹çœ‹å®˜æ–¹å®šä¹‰ Vue.nextTick( [callback, context] ) åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒã€‚åœ¨ä¿®æ”¹æ•°æ®ä¹‹åç«‹å³ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè·å–æ›´æ–°åçš„ DOMã€‚ 1234567&gt;// ä¿®æ”¹æ•°æ®&gt;vm.msg = 'Hello'&gt;// DOM è¿˜æ²¡æœ‰æ›´æ–°&gt;Vue.nextTick(function () &#123;&gt;// DOM æ›´æ–°äº†&gt;&#125;)&gt; å›ç­”èŒƒä¾‹ï¼š nextTickæ˜¯Vueæä¾›çš„ä¸€ä¸ªå…¨å±€APIï¼Œç”±äºvueçš„å¼‚æ­¥æ›´æ–°ç­–ç•¥å¯¼è‡´æˆ‘ä»¬å¯¹æ•°æ®çš„ä¿®æ”¹ä¸ä¼šç«‹åˆ»ä½“ç°åœ¨domå˜åŒ–ä¸Šï¼Œæ­¤æ—¶å¦‚æœæƒ³è¦ç«‹å³è·å–æ›´æ–°åçš„domçŠ¶æ€ï¼Œå°±éœ€è¦ä½¿ç”¨è¿™ä¸ªæ–¹æ³• Vue åœ¨æ›´æ–° DOM æ—¶æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ã€‚åªè¦ä¾¦å¬åˆ°æ•°æ®å˜åŒ–ï¼ŒVue å°†å¼€å¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¹¶ç¼“å†²åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å‘ç”Ÿçš„æ‰€æœ‰æ•°æ®å˜æ›´ã€‚å¦‚æœåŒä¸€ä¸ª watcher è¢«å¤šæ¬¡è§¦å‘ï¼Œåªä¼šè¢«æ¨å…¥åˆ°é˜Ÿåˆ—ä¸­ä¸€æ¬¡ã€‚è¿™ç§åœ¨ç¼“å†²æ—¶å»é™¤é‡å¤æ•°æ®å¯¹äºé¿å…ä¸å¿…è¦çš„è®¡ç®—å’Œ DOM æ“ä½œæ˜¯éå¸¸é‡è¦çš„ã€‚nextTickæ–¹æ³•ä¼šåœ¨é˜Ÿåˆ—ä¸­åŠ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç¡®ä¿è¯¥å‡½æ•°åœ¨å‰é¢çš„domæ“ä½œå®Œæˆåæ‰è°ƒç”¨ã€‚ æ‰€ä»¥å½“æˆ‘ä»¬æƒ³åœ¨ä¿®æ”¹æ•°æ®åç«‹å³çœ‹åˆ°domæ‰§è¡Œç»“æœå°±éœ€è¦ç”¨åˆ°nextTickæ–¹æ³•ã€‚ æ¯”å¦‚ï¼Œæˆ‘åœ¨å¹²ä»€ä¹ˆçš„æ—¶å€™å°±ä¼šä½¿ç”¨nextTickï¼Œä¼ ä¸€ä¸ªå›è°ƒå‡½æ•°è¿›å»ï¼Œåœ¨é‡Œé¢æ‰§è¡Œdomæ“ä½œå³å¯ã€‚ æˆ‘ä¹Ÿæœ‰ç®€å•äº†è§£nextTickå®ç°ï¼Œå®ƒä¼šåœ¨callbacksé‡Œé¢åŠ å…¥æˆ‘ä»¬ä¼ å…¥çš„å‡½æ•°ï¼Œç„¶åç”¨timerFuncå¼‚æ­¥æ–¹å¼è°ƒç”¨å®ƒä»¬ï¼Œé¦–é€‰çš„å¼‚æ­¥æ–¹å¼ä¼šæ˜¯Promiseã€‚è¿™è®©æˆ‘æ˜ç™½äº†ä¸ºä»€ä¹ˆå¯ä»¥åœ¨nextTickä¸­çœ‹åˆ°domæ“ä½œç»“æœã€‚ nextTickå®ç°åŸç†? æ­¤é¢˜å±äºåŸç†é¢˜ç›®ï¼Œèƒ½å¤Ÿä½“ç°é¢è¯•è€…å¯¹vueç†è§£æ·±åº¦ï¼Œç­”å¥½äº†ä¼šåŠ åˆ†å¾ˆå¤šã€‚ ç­”é¢˜æ€è·¯ï¼š æ­¤é¢˜å®é™…è€ƒæŸ¥vueå¼‚æ­¥æ›´æ–°ç­–ç•¥ è¯´å‡ºvueæ˜¯æ€ä¹ˆé€šè¿‡å¼‚æ­¥ã€æ‰¹é‡çš„æ–¹å¼æ›´æ–°ä»¥æé«˜æ€§èƒ½çš„ æœ€åæŠŠæºç ä¸­å®ç°è¯´ä¸€ä¸‹ å›ç­”èŒƒä¾‹ï¼š vueæœ‰ä¸ªæ‰¹é‡ã€å¼‚æ­¥æ›´æ–°ç­–ç•¥ï¼Œæ•°æ®å˜åŒ–æ—¶ï¼Œvueå¼€å¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¹¶ç¼“å†²åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å‘ç”Ÿçš„æ‰€æœ‰æ•°æ®å˜æ›´ã€‚å¦‚æœåŒä¸€ä¸ª watcher è¢«å¤šæ¬¡è§¦å‘ï¼Œåªä¼šè¢«æ¨å…¥åˆ°é˜Ÿåˆ—ä¸­ä¸€æ¬¡ã€‚ç„¶ååœ¨ä¸‹ä¸€ä¸ªçš„äº‹ä»¶å¾ªç¯â€œtickâ€ä¸­ï¼ŒVue åˆ·æ–°é˜Ÿåˆ—å¹¶æ‰§è¡Œå®é™… (å·²å»é‡çš„) å·¥ä½œã€‚Vue åœ¨å†…éƒ¨å¯¹å¼‚æ­¥é˜Ÿåˆ—å°è¯•ä½¿ç”¨åŸç”Ÿçš„ Promise.thenã€MutationObserver å’Œ setImmediateï¼Œå¦‚æœæ‰§è¡Œç¯å¢ƒä¸æ”¯æŒï¼Œåˆ™ä¼šé‡‡ç”¨ setTimeout(fn, 0) ä»£æ›¿ã€‚ å®˜æ–¹æ–‡æ¡£åœ¨è¿™é‡Œ æºç ä¸­ï¼Œä¿®æ”¹ä¸€ä¸ªæ•°æ®ï¼Œç»„ä»¶å¯¹åº”çš„watcherä¼šå°è¯•å…¥é˜Ÿ: 1queue.push(watcher) å¹¶ä½¿ç”¨nextTickæ–¹æ³•æ·»åŠ ä¸€ä¸ªflushSchedulerQueueå›è°ƒ 1nextTick(flushSchedulerQueue) flushSchedulerQueueè¢«åŠ å…¥callbacksæ•°ç»„ 123456789callbacks.push(() =&gt; &#123; if (cb) &#123; try &#123; cb.call(ctx) // cbå°±æ˜¯åŠ å…¥çš„å›è°ƒ &#125; catch (e) &#123; handleError(e, ctx, 'nextTick') &#125; &#125; &#125;) ç„¶åä»¥å¼‚æ­¥æ–¹å¼å¯åŠ¨ 1234if (!pending) &#123; pending = true timerFunc()&#125; timerFuncçš„å¼‚æ­¥ä¸»è¦åˆ©ç”¨Promiseç­‰å¾®ä»»åŠ¡æ–¹å¼å®ç° 1234567891011let timerFuncif (typeof Promise !== 'undefined' &amp;&amp; isNative(Promise)) &#123; const p = Promise.resolve() // timerFuncåˆ©ç”¨p.thenå‘å¾®ä»»åŠ¡é˜Ÿåˆ—æ·»åŠ ä¸€ä¸ªflushCallbacks // ä¼šå¼‚æ­¥è°ƒç”¨flushCallbacks timerFunc = () =&gt; &#123; p.then(flushCallbacks) &#125; isUsingMicroTask = true&#125; flushCallbackséå†callbacksï¼Œæ‰§è¡Œé‡Œé¢æ‰€æœ‰å›è°ƒ 12345678function flushCallbacks () &#123; pending = false const copies = callbacks.slice(0) callbacks.length = 0 for (let i = 0; i &lt; copies.length; i++) &#123; copies[i]() &#125;&#125; å…¶ä¸­å°±æœ‰å‰é¢åŠ å…¥çš„flushSchedulerQueueï¼Œå®ƒä¸»è¦ç”¨äºæ‰§è¡Œqueueä¸­æ‰€æœ‰watcherçš„runæ–¹æ³•ï¼Œä»è€Œä½¿ç»„ä»¶ä»¬æ›´æ–° 1234for (index = 0; index &lt; queue.length; index++) &#123; watcher = queue[index] watcher.run()&#125; å¯èƒ½çš„è¿½é—® ä½ å¹³æ—¶ä»€ä¹ˆæ—¶å€™ä¼šç”¨åˆ°nextTickï¼Ÿ","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"},{"name":"é¢è¯•é¢˜","slug":"é¢è¯•é¢˜","permalink":"https://yangyfeng.github.io/blogpost/tags/é¢è¯•é¢˜/"}]},{"title":"vue3çš„æ–°ç‰¹æ€§","slug":"Vue/vue3çš„æ–°ç‰¹æ€§","date":"2020-12-07T16:00:00.000Z","updated":"2021-03-27T06:24:34.622Z","comments":true,"path":"/posts/86248f8a.html","link":"","permalink":"https://yangyfeng.github.io/posts/86248f8a.html","excerpt":"å…­å¤§äº®ç‚¹ vue3å®˜æ–¹æ–‡æ¡£ Performanceï¼šæ€§èƒ½æ›´æ¯”Vue 2.0å¼ºã€‚ Tree shaking supportï¼šå¯ä»¥å°†æ— ç”¨æ¨¡å—â€œå‰ªè¾‘â€ï¼Œä»…æ‰“åŒ…éœ€è¦çš„ã€‚ Composition APIï¼šç»„åˆAPI Fragment, Teleport, Suspenseï¼šâ€œç¢ç‰‡â€ï¼ŒTeleportå³Protalä¼ é€é—¨ï¼Œâ€œæ‚¬å¿µâ€ Better TypeScript supportï¼šæ›´ä¼˜ç§€çš„ Ts æ”¯æŒ Custom Renderer APIï¼šæš´éœ²äº†è‡ªå®šä¹‰æ¸²æŸ“API","text":"å…­å¤§äº®ç‚¹ vue3å®˜æ–¹æ–‡æ¡£ Performanceï¼šæ€§èƒ½æ›´æ¯”Vue 2.0å¼ºã€‚ Tree shaking supportï¼šå¯ä»¥å°†æ— ç”¨æ¨¡å—â€œå‰ªè¾‘â€ï¼Œä»…æ‰“åŒ…éœ€è¦çš„ã€‚ Composition APIï¼šç»„åˆAPI Fragment, Teleport, Suspenseï¼šâ€œç¢ç‰‡â€ï¼ŒTeleportå³Protalä¼ é€é—¨ï¼Œâ€œæ‚¬å¿µâ€ Better TypeScript supportï¼šæ›´ä¼˜ç§€çš„ Ts æ”¯æŒ Custom Renderer APIï¼šæš´éœ²äº†è‡ªå®šä¹‰æ¸²æŸ“API 1ã€Performance é‡å†™äº†è™šæ‹ŸDomçš„å®ç°ï¼ˆä¸”ä¿è¯äº†å…¼å®¹æ€§ï¼Œè„±ç¦»æ¨¡ç‰ˆçš„æ¸²æŸ“éœ€æ±‚æ—ºç››ï¼‰ã€‚ ç¼–è¯‘æ¨¡æ¿çš„ä¼˜åŒ–ã€‚ æ›´é«˜æ•ˆçš„ç»„ä»¶åˆå§‹åŒ–ã€‚ updateæ€§èƒ½æé«˜ 1.3~2 å€ã€‚ SSRé€Ÿåº¦æé«˜äº† 2~3 å€ã€‚ 2ã€Tree shaking support å¯ä»¥å°†æ— ç”¨æ¨¡å—â€œå‰ªè¾‘â€ï¼Œä»…æ‰“åŒ…éœ€è¦çš„ï¼ˆæ¯”å¦‚v-model,ï¼Œç”¨ä¸åˆ°å°±ä¸ä¼šæ‰“åŒ…ï¼‰ã€‚ ä¸€ä¸ªç®€å•â€œHelloWorldâ€å¤§å°ä»…ä¸ºï¼š13.5kbï¼Œ11.75kbï¼Œä»…Composition APIã€‚ åŒ…å«è¿è¡Œæ—¶å®Œæ•´åŠŸèƒ½ï¼š22.5kbï¼Œæ‹¥æœ‰æ›´å¤šçš„åŠŸèƒ½ï¼Œå´æ¯”Vue 2æ›´è¿·ä½ ã€‚ å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦ vueæä¾›çš„æ‰€æœ‰åŠŸèƒ½ï¼Œåœ¨ vue 2 å¹¶æ²¡æœ‰æ–¹å¼æ’é™¤æ‰ï¼Œä½†æ˜¯ 3.0 éƒ½å¯èƒ½åšæˆäº†æŒ‰éœ€å¼•å…¥ 3ã€Composition API ä¸React Hooks ç±»ä¼¼çš„ä¸œè¥¿ï¼Œå®ç°æ–¹å¼ä¸åŒã€‚ å¯ä¸ç°æœ‰çš„ Options APIä¸€èµ·ä½¿ç”¨ çµæ´»çš„é€»è¾‘ç»„åˆä¸å¤ç”¨ vue 3çš„å“åº”å¼æ¨¡å—å¯ä»¥å’Œå…¶ä»–æ¡†æ¶æ­é…ä½¿ç”¨ æ··å…¥(mixin) å°†ä¸å†ä½œä¸ºæ¨èä½¿ç”¨ï¼Œ Composition APIå¯ä»¥å®ç°æ›´çµæ´»ä¸”æ— å‰¯ä½œç”¨çš„å¤ç”¨ä»£ç ã€‚ Composition API æ–‡æ¡£åœ°å€ Composition APIåŒ…å«äº†å…­ä¸ªä¸»è¦API 4ã€Fragment Fragmentç¿»è¯‘ä¸ºï¼šâ€œç¢ç‰‡â€ ä¸å†é™äºæ¨¡æ¿ä¸­çš„å•ä¸ªæ ¹èŠ‚ç‚¹ render å‡½æ•°ä¹Ÿå¯ä»¥è¿”å›æ•°ç»„äº†ï¼Œç±»ä¼¼å®ç°äº† React.Fragments çš„åŠŸèƒ½ ã€‚ Just works &lt;Teleport&gt; &lt;Suspense&gt; Suspenseç¿»è¯‘ä¸ºï¼šâ€œæ‚¬å¿µâ€ å¯åœ¨åµŒå¥—å±‚çº§ä¸­ç­‰å¾…åµŒå¥—çš„å¼‚æ­¥ä¾èµ–é¡¹ æ”¯æŒasync setup() æ”¯æŒå¼‚æ­¥ç»„ä»¶ è™½ç„¶React 16å¼•å…¥äº†Suspenseï¼Œä½†ç›´è‡³ç°åœ¨éƒ½ä¸å¤ªèƒ½ç”¨ã€‚å¦‚ä½•å°†å…¶ä¸å¼‚æ­¥æ•°æ®ç»“åˆï¼Œè¿˜æ²¡å®Œæ•´è®¾è®¡å‡ºæ¥ã€‚ Vue 3 çš„&lt;Suspense&gt;æ›´åŠ è½»é‡ï¼š ä»… 5%åº”ç”¨èƒ½æ„ŸçŸ¥è¿è¡Œæ—¶çš„è°ƒåº¦å·®å¼‚ï¼Œç»¼åˆè€ƒè™‘ä¸‹ï¼ŒVue3 çš„&lt;Suspense&gt; æ²¡å’Œ React ä¸€æ ·åšè¿è¡Œè°ƒåº¦å¤„ç† 5ã€æ›´å¥½çš„TypeScriptæ”¯æŒ Vue 3æ˜¯ç”¨TypeScriptç¼–å†™çš„åº“ï¼Œå¯ä»¥äº«å—åˆ°è‡ªåŠ¨çš„ç±»å‹å®šä¹‰æç¤º JavaScriptå’ŒTypeScriptä¸­çš„ API æ˜¯ç›¸åŒçš„ã€‚äº‹å®ä¸Šï¼Œä»£ç ä¹ŸåŸºæœ¬ç›¸åŒ æ”¯æŒTSX classç»„ä»¶è¿˜ä¼šç»§ç»­æ”¯æŒï¼Œä½†æ˜¯éœ€è¦å¼•å…¥vue-class-component@nextï¼Œè¯¥æ¨¡å—ç›®å‰è¿˜å¤„åœ¨ alpha é˜¶æ®µã€‚ è¿˜æœ‰Vue 3 + TypeScript æ’ä»¶æ­£åœ¨å¼€å‘ï¼Œæœ‰ç±»å‹æ£€æŸ¥ï¼Œè‡ªåŠ¨è¡¥å…¨ç­‰åŠŸèƒ½ 6ã€Custom Renderer APIï¼šè‡ªå®šä¹‰æ¸²æŸ“å™¨ API æ­£åœ¨è¿›è¡ŒNativeScript Vueé›†æˆ ç”¨æˆ·å¯ä»¥å°è¯•WebGLè‡ªå®šä¹‰æ¸²æŸ“å™¨ï¼Œä¸æ™®é€š Vue åº”ç”¨ç¨‹åºä¸€èµ·ä½¿ç”¨ï¼ˆVugelï¼‰ã€‚ æ„å‘³ç€ä»¥åå¯ä»¥é€šè¿‡ vueï¼Œ Dom ç¼–ç¨‹çš„æ–¹å¼æ¥è¿›è¡Œ webgl ç¼–ç¨‹ ã€‚ æ„Ÿå…´è¶£å¯ä»¥çœ‹è¿™é‡Œï¼šGetting started vugel å‰©ä½™å·¥ä½œ å…¨å®¶æ¡¶æ’ä»¶ç»„ä»¶è¿‡æ¸¡åˆ°vue3.+ è¦ç‚¹ æ–°å·¥å…·ï¼šviteï¼ˆæ³•è¯­ â€œå¿«â€ï¼‰ åœ°å€ï¼šhttps://github.com/vuejs/vite ä¸€ä¸ªç®€æ˜“çš„httpæœåŠ¡å™¨ï¼Œæ— éœ€webpackç¼–è¯‘æ‰“åŒ…ï¼Œæ ¹æ®è¯·æ±‚çš„Vueæ–‡ä»¶ï¼Œç›´æ¥å‘å›æ¸²æŸ“ï¼Œä¸”æ”¯æŒçƒ­æ›´æ–°ï¼ˆéå¸¸å¿«ï¼‰","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"}]},{"title":"æ‰‹å†™ç®€æ˜“ç‰ˆvueï¼Œminivueçš„å®ç°","slug":"Vue/æ‰‹å†™ç®€æ˜“ç‰ˆvueï¼Œminivueçš„å®ç°","date":"2020-12-07T16:00:00.000Z","updated":"2021-03-27T06:24:34.625Z","comments":true,"path":"/posts/d3643a0f.html","link":"","permalink":"https://yangyfeng.github.io/posts/d3643a0f.html","excerpt":"åŸºäºvue2.* vueé‡‡å–æ•°æ®åŠ«æŒï¼Œé…åˆè§‚å¯Ÿè€…æ¨¡å¼ï¼Œé€šè¿‡Object.defineProperty() æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterå’Œgetterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶ï¼Œå‘å¸ƒæ¶ˆæ¯ç»™ä¾èµ–æ”¶é›†å™¨depï¼Œå»é€šçŸ¥è§‚å¯Ÿè€…ï¼Œåšå‡ºå¯¹åº”çš„å›è°ƒå‡½æ•°ï¼Œå»æ›´æ–°è§†å›¾ã€‚ï¼ˆä¹Ÿå°±æ˜¯åœ¨getterä¸­æ”¶é›†ä¾èµ–ï¼Œåœ¨setterä¸­é€šçŸ¥ä¾èµ–æ›´æ–°ã€‚ å…¶å®vueä¸»è¦å°±æ˜¯æ•´åˆObserverï¼Œcompileå’Œwatcherä¸‰è€…ï¼Œé€šè¿‡Observeræ¥ç›‘å¬ modelæ•°æ®å˜åŒ–è¡¨ï¼Œé€šè¿‡compileæ¥è§£æç¼–è¯‘æ¨¡æ¿æŒ‡ä»¤ï¼Œæœ€ç»ˆåˆ©ç”¨Watcheræ­èµ·observer å’Œcompileçš„é€šä¿¡æ¡¥æ¢ï¼Œè¾¾åˆ°æ•°æ®å˜åŒ–=&gt;è§†å›¾å˜åŒ–ï¼Œè§†å›¾å˜åŒ–=&gt;æ•°æ®å˜åŒ–çš„åŒå‘ç»‘å®šæ•ˆæœã€‚ ä¸‹é¢æ¥ä¸€å¼ å›¾â†“ è¿™ä¸ªæµç¨‹å›¾å·²ç»éå¸¸å½¢è±¡æ·±åˆ»çš„è¡¨è¾¾äº†vueçš„è¿è¡Œæ¨¡å¼ï¼Œå½“ä½ ç†è§£äº†è¿™ä¸ªæµç¨‹ï¼Œå†å»çœ‹vueæºç æ—¶å°±ä¼šå®¹æ˜“å¾ˆå¤šäº† å£°æ˜ä¸€ä¸‹ï¼Œä¸‹é¢çš„ä»£ç åªç®€å•å®ç°äº†vueé‡Œçš„ v-modelï¼ˆæ•°æ®çš„åŒå‘ç»‘å®šï¼‰ v-bind/v-on v-text/v-html æ²¡æœ‰å®ç°è™šæ‹Ÿdomï¼Œé‡‡ç”¨æ–‡æ¡£ç¢ç‰‡ï¼ˆcreateDocumentFragmentï¼‰ä»£æ›¿ æ•°æ®åªåŠ«æŒäº†Objectï¼Œæ•°ç»„Arrayæ²¡æœ‰åšå¤„ç† ä»£ç å¤§è‡´ç»“æ„å¦‚ä¸‹ï¼Œåˆæ­¥å®šä¹‰äº†6ä¸ªç±»","text":"åŸºäºvue2.* vueé‡‡å–æ•°æ®åŠ«æŒï¼Œé…åˆè§‚å¯Ÿè€…æ¨¡å¼ï¼Œé€šè¿‡Object.defineProperty() æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterå’Œgetterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶ï¼Œå‘å¸ƒæ¶ˆæ¯ç»™ä¾èµ–æ”¶é›†å™¨depï¼Œå»é€šçŸ¥è§‚å¯Ÿè€…ï¼Œåšå‡ºå¯¹åº”çš„å›è°ƒå‡½æ•°ï¼Œå»æ›´æ–°è§†å›¾ã€‚ï¼ˆä¹Ÿå°±æ˜¯åœ¨getterä¸­æ”¶é›†ä¾èµ–ï¼Œåœ¨setterä¸­é€šçŸ¥ä¾èµ–æ›´æ–°ã€‚ å…¶å®vueä¸»è¦å°±æ˜¯æ•´åˆObserverï¼Œcompileå’Œwatcherä¸‰è€…ï¼Œé€šè¿‡Observeræ¥ç›‘å¬ modelæ•°æ®å˜åŒ–è¡¨ï¼Œé€šè¿‡compileæ¥è§£æç¼–è¯‘æ¨¡æ¿æŒ‡ä»¤ï¼Œæœ€ç»ˆåˆ©ç”¨Watcheræ­èµ·observer å’Œcompileçš„é€šä¿¡æ¡¥æ¢ï¼Œè¾¾åˆ°æ•°æ®å˜åŒ–=&gt;è§†å›¾å˜åŒ–ï¼Œè§†å›¾å˜åŒ–=&gt;æ•°æ®å˜åŒ–çš„åŒå‘ç»‘å®šæ•ˆæœã€‚ ä¸‹é¢æ¥ä¸€å¼ å›¾â†“ è¿™ä¸ªæµç¨‹å›¾å·²ç»éå¸¸å½¢è±¡æ·±åˆ»çš„è¡¨è¾¾äº†vueçš„è¿è¡Œæ¨¡å¼ï¼Œå½“ä½ ç†è§£äº†è¿™ä¸ªæµç¨‹ï¼Œå†å»çœ‹vueæºç æ—¶å°±ä¼šå®¹æ˜“å¾ˆå¤šäº† å£°æ˜ä¸€ä¸‹ï¼Œä¸‹é¢çš„ä»£ç åªç®€å•å®ç°äº†vueé‡Œçš„ v-modelï¼ˆæ•°æ®çš„åŒå‘ç»‘å®šï¼‰ v-bind/v-on v-text/v-html æ²¡æœ‰å®ç°è™šæ‹Ÿdomï¼Œé‡‡ç”¨æ–‡æ¡£ç¢ç‰‡ï¼ˆcreateDocumentFragmentï¼‰ä»£æ›¿ æ•°æ®åªåŠ«æŒäº†Objectï¼Œæ•°ç»„Arrayæ²¡æœ‰åšå¤„ç† ä»£ç å¤§è‡´ç»“æ„å¦‚ä¸‹ï¼Œåˆæ­¥å®šä¹‰äº†6ä¸ªç±» 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300// å®šä¹‰Vueç±»class Vue &#123; constructor(options) &#123; // æŠŠæ•°æ®å¯¹è±¡æŒ‚è½½åˆ°å®ä¾‹ä¸Š this.$el = options.el; this.$data = options.data; this.$options = options; // å¦‚æœæœ‰éœ€è¦ç¼–è¯‘çš„æ¨¡æ¿ if (this.$el) &#123; // æ•°æ®åŠ«æŒ å°±æ˜¯æŠŠå¯¹è±¡çš„æ‰€æœ‰å±æ€§ æ”¹æˆgetå’Œsetæ–¹æ³• new Observer(this.$data); // ç”¨æ•°æ®å’Œå…ƒç´ è¿›è¡Œç¼–è¯‘ new Compiler(this.$el, this); // 3. é€šè¿‡æ•°æ®ä»£ç†å®ç° ä¸»è¦ç»™methodsé‡Œçš„æ–¹æ³•thisç›´æ¥è®¿é—®data this.proxyData(this.$data); &#125; &#125; //ç”¨vmä»£ç†vm.$data proxyData(data)&#123; for(let key in data)&#123; Object.defineProperty(this,key,&#123; get()&#123; return data[key]; &#125;, set(newVal)&#123; data[key] = newVal; &#125; &#125;) &#125; &#125;&#125; // ç¼–è¯‘htmlæ¨¡æ¿class Compiler &#123; // vmå°±æ˜¯vueå¯¹è±¡ constructor(el, vm) &#123; this.el = this.isElementNode(el) ? el : document.querySelector(el); this.vm = vm; if(this.el)&#123; // å¦‚æœè¯¥å…ƒç´ èƒ½è·å–åˆ°ï¼Œæˆ‘ä»¬å¼€å§‹ç¼–è¯‘ // 1.æŠŠçœŸå®çš„domæ”¾åˆ°å†…å­˜ä¸­fragmentæ–‡æ¡£ç¢ç‰‡ let fragment = this.node2fragment(this.el); // console.log(fragment); // 2.ç¼–è¯‘ =&gt; æå–æƒ³è¦çš„å…ƒç´ èŠ‚ç‚¹ v-modelå’Œæ–‡æœ¬èŠ‚ç‚¹&#123;&#123;&#125;&#125; this.compile(fragment); // 3.æŠŠç¼–è¯‘å¥½çš„fragmentå†æ”¾åˆ°é¡µé¢é‡Œ this.el.appendChild(fragment); &#125; &#125; /* ä¸€äº›è¾…åŠ©æ–¹æ³• */ isElementNode(node) &#123; return node.nodeType === 1; &#125; isDirective(name) &#123; // åˆ¤æ–­æ˜¯ä¸æ˜¯æŒ‡ä»¤ return name.includes('v-'); &#125; isEventName(attrName)&#123; // åˆ¤æ–­æ˜¯å¦@å¼€å¤´ return attrName.startsWith('@'); &#125; isBindName(attrName)&#123; // åˆ¤æ–­æ˜¯å¦:å¼€å¤´ return attrName.startsWith(':'); &#125; /* æ ¸å¿ƒæ–¹æ³•åŒº */ node2fragment(el)&#123; // éœ€è¦å°†elä¸­çš„å†…å®¹å…¨éƒ¨æ”¾åˆ°å†…å­˜ä¸­ // æ–‡æ¡£ç¢ç‰‡ let fragment = document.createDocumentFragment(); let firstChild; while(firstChild = el.firstChild)&#123; fragment.appendChild(firstChild); &#125; return fragment; // å†…å­˜ä¸­çš„èŠ‚ç‚¹ &#125; compile(fragment)&#123; // 1.è·å–å­èŠ‚ç‚¹ let childNodes = fragment.childNodes; // 2.é€’å½’å¾ªç¯ç¼–è¯‘ [...childNodes].forEach(node=&gt;&#123; if(this.isElementNode(node))&#123; this.compileElement(node); // è¿™é‡Œéœ€è¦ç¼–è¯‘å…ƒç´  this.compile(node); // æ˜¯å…ƒç´ èŠ‚ç‚¹ï¼Œè¿˜éœ€è¦ç»§ç»­æ·±å…¥çš„æ£€æŸ¥ &#125;else&#123; // æ–‡æœ¬èŠ‚ç‚¹ // è¿™é‡Œéœ€è¦ç¼–è¯‘æ–‡æœ¬ this.compileText(node); &#125; &#125;); &#125; compileElement(node)&#123; // ç¼–è¯‘å…ƒç´  // å¸¦v-model v-html ... let attrs = node.attributes; // å–å‡ºå½“å‰èŠ‚ç‚¹çš„å±æ€§ // attrsæ˜¯ç±»æ•°ç»„ï¼Œå› æ­¤éœ€è¦å…ˆè½¬æ•°ç»„ [...attrs].forEach(attr=&gt;&#123; // console.log(attr); // type=\"text\" v-model=\"content\" v-on:click=\"handleclick\" @click=\"\"... let attrName = attr.name; // type v-model v-on:click @click if(this.isDirective(attrName))&#123; // åˆ¤æ–­å±æ€§åå­—æ˜¯ä¸æ˜¯åŒ…å«v- // å–åˆ°å¯¹åº”çš„å€¼æ”¾åˆ°èŠ‚ç‚¹ä¸­ let expr = attr.value; // content/å˜é‡ handleclick/æ–¹æ³•å // console.log(expr) let [, type] = attrName.split('-'); // model html on:click let [compileKey, detailStr] = type.split(':'); // å¤„ç† on: bind: // node this.vm.$data expr CompileUtil[compileKey](node, this.vm, expr, detailStr); // åˆ é™¤æœ‰æŒ‡ä»¤çš„æ ‡ç­¾å±æ€§ v-text v-htmlç­‰ï¼Œæ™®é€šçš„valueç­‰åŸç”Ÿhtmlæ ‡ç­¾ä¸å¿…åˆ é™¤ node.removeAttribute('v-' + type); &#125;else if(this.isEventName(attrName))&#123; // å¦‚æœæ˜¯äº‹ä»¶å¤„ç† @click='handleClick' let [, detailStr] = attrName.split('@'); CompileUtil['on'](node, this.vm, attr.value, detailStr); // åˆ é™¤æœ‰æŒ‡ä»¤çš„æ ‡ç­¾å±æ€§ node.removeAttribute('@' + detailStr); &#125;else if(this.isBindName(attrName))&#123; // å¦‚æœæ˜¯:å¼€å¤´ï¼ŒåŠ¨æ€ç»‘å®šå€¼ let [, detailStr] = attrName.split(':'); CompileUtil['bind'](node, this.vm, attr.value, detailStr); // åˆ é™¤æœ‰æŒ‡ä»¤çš„æ ‡ç­¾å±æ€§ node.removeAttribute(':' + detailStr); &#125; &#125;) &#125; compileText(node)&#123; // ç¼–è¯‘æ–‡æœ¬ // å¸¦&#123;&#123;&#125;&#125; let expr = node.textContent; // å–æ–‡æœ¬ä¸­çš„å†…å®¹ let reg = /\\&#123;\\&#123;([^&#125;]+)\\&#125;\\&#125;/g; // &#123;&#123;a&#125;&#125; &#123;&#123;b&#125;&#125; if(reg.test(expr))&#123; // node this.$data // console.log(expr); // &#123;&#123;content&#125;&#125; CompileUtil['text'](node, this.vm, expr); &#125; &#125;&#125; // ç¼–è¯‘æ¨¡ç‰ˆå…·ä½“æ‰§è¡Œconst CompileUtil = &#123; getVal(vm, expr)&#123; // è·å–å®ä¾‹ä¸Šå¯¹åº”çš„æ•°æ® expr = expr.split('.'); // [animal,dog]/[animal,cat] return expr.reduce((prev, next)=&gt;&#123; // vm.$data. return prev[next]; &#125;, vm.$data) &#125;, // è¿™é‡Œå®ç°inputè¾“å…¥å€¼å˜åŒ–æ—¶ ä¿®æ”¹ç»‘å®šçš„v-modelå¯¹åº”çš„å€¼ setVal(vm, expr, inputValue)&#123; // [animal,dog] let exprs = expr.split('.'), len = exprs.length; exprs.reduce((data,currentVal, idx)=&gt;&#123; if(idx===len-1)&#123; data[currentVal] = inputValue; &#125;else&#123; return data[currentVal] &#125; &#125;, vm.$data) &#125;, getTextVal(vm, expr)&#123; // è·å–ç¼–è¯‘æ–‡æœ¬åçš„ç»“æœ return expr.replace(/\\&#123;\\&#123;(.+?)\\&#125;\\&#125;/g, (...args)=&gt;&#123; // console.log(args); // [\"&#123;&#123;title&#125;&#125;\", \"title\", 0, \"&#123;&#123;title&#125;&#125;\"] // [\"&#123;&#123; animal.dog &#125;&#125;\", \" animal.dog \", 0, \"&#123;&#123; animal.dog &#125;&#125;-vs-&#123;&#123; animal.cat &#125;&#125;\"] return this.getVal(vm, args[1].trim()); &#125;); &#125;, text(node, vm, expr)&#123; // æ–‡æœ¬å¤„ç† let updateFn = this.updater['textUpdater']; // &#123;&#123;content&#125;&#125; =&gt; \"welcome to animal world\" let value; if(expr.indexOf('&#123;&#123;')!==-1)&#123; // domé‡Œç›´æ¥å†™&#123;&#123;&#125;&#125;çš„æ—¶å€™ value = this.getTextVal(vm, expr); // &#123;&#123;a&#125;&#125; &#123;&#123;b&#125;&#125; å¯¹å¤šä¸ªå€¼è¿›è¡Œç›‘æ§ expr.replace(/\\&#123;\\&#123;(.+?)\\&#125;\\&#125;/g, (...args)=&gt;&#123; new Watcher(vm, args[1].trim(), ()=&gt;&#123; // å¦‚æœæ•°æ®å˜åŒ–äº†ï¼Œæ–‡æœ¬èŠ‚ç‚¹éœ€è¦é‡æ–°è·å–ä¾èµ–çš„å±æ€§æ›´æ–°æ–‡æœ¬ä¸­çš„å†…å®¹ updateFn &amp;&amp; updateFn(node, this.getTextVal(vm, expr)); &#125;) &#125;); &#125;else&#123; // v-text çš„æ—¶å€™ value = this.getVal(vm, expr); new Watcher(vm, expr, (newVal)=&gt;&#123; // å½“å€¼å˜åŒ–åä¼šè°ƒç”¨cb å°†æ–°å€¼ä¼ é€’è¿‡æ¥ updateFn &amp;&amp; updateFn(node, newVal); &#125;); &#125; updateFn &amp;&amp; updateFn(node, value); &#125;, html(node, vm, expr) &#123; // let updateFn = this.updater['htmlUpdater']; updateFn &amp;&amp; updateFn(node, this.getVal(vm, expr)); &#125;, model(node, vm, expr)&#123; // è¾“å…¥æ¡†å¤„ç† let updateFn = this.updater['modelUpdater']; // console.log(this.getVal(vm, expr)); // \"welcome to animal world\" // è¿™é‡Œåº”è¯¥åŠ ä¸€ä¸ªç›‘æ§ æ•°æ®å˜åŒ–äº† åº”è¯¥è°ƒç”¨è¿™ä¸ªwatchçš„callback new Watcher(vm, expr, (newVal)=&gt;&#123; // å½“å€¼å˜åŒ–åä¼šè°ƒç”¨cb å°†æ–°å€¼ä¼ é€’è¿‡æ¥ updateFn &amp;&amp; updateFn(node, newVal); &#125;); // è§†å›¾ =&gt; æ•°æ® =&gt; è§†å›¾ node.addEventListener('input', (e)=&gt;&#123; this.setVal(vm, expr, e.target.value); &#125;) updateFn &amp;&amp; updateFn(node, this.getVal(vm, expr)); &#125;, on(node, vm, expr, detailStr) &#123; let fn = vm.$options.methods &amp;&amp; vm.$options.methods[expr]; node.addEventListener(detailStr, fn.bind(vm), false); &#125;, bind(node, vm, expr, detailStr)&#123; // v-bind:src='...' =&gt; href='...' node.setAttribute(detailStr, expr); &#125;, updater:&#123; // æ–‡æœ¬æ›´æ–° textUpdater(node, value)&#123; node.textContent = value; &#125;, // htmlæ›´æ–° htmlUpdater(node, value)&#123; node.innerHTML = value; &#125;, // è¾“å…¥æ¡†æ›´æ–° modelUpdater(node, value)&#123; node.value = value; &#125; &#125;&#125; // è§‚å¯Ÿè€…class Observer&#123; constructor(data)&#123; this.observe(data); &#125; observe(data)&#123; // è¦å¯¹dataæ•°æ®åŸæœ‰å±æ€§æ”¹æˆsetå’Œgetçš„å½¢å¼ if(!data || typeof data !== 'object')&#123; // ä¸æ˜¯å¯¹è±¡å°±ä¸åŠ«æŒäº† return &#125; // è¦åŠ«æŒ å…ˆè·å–åˆ°dataçš„keyå’Œvalue Object.keys(data).forEach(key=&gt;&#123; this.defineReactive(data, key, data[key]); // åŠ«æŒ this.observe(data[key]); // æ·±åº¦é€’å½’åŠ«æŒ &#125;) &#125; // å®šä¹‰å“åº”å¼ defineReactive(obj, key, value)&#123; let dep = new Dep(); // åœ¨è·å–æŸä¸ªå€¼çš„æ—¶å€™ Object.defineProperty(obj, key, &#123; enumerable: true, // å¯æšä¸¾ configurable: true, // å¯ä¿®æ”¹ get()&#123; // å½“å–å€¼çš„æ—¶å€™ // è®¢é˜…æ•°æ®å˜åŒ–æ—¶ï¼Œå¾€Devä¸­æ·»åŠ è§‚å¯Ÿè€… Dep.target &amp;&amp; dep.addSub(Dep.target); return value; &#125;, // é‡‡ç”¨ç®­å¤´å‡½æ•°åœ¨å®šä¹‰æ—¶ç»‘å®šthisçš„å®šä¹‰åŸŸ set: (newVal)=&gt;&#123; // æ›´æ”¹dataé‡Œçš„å±æ€§å€¼çš„æ—¶å€™ if(value === newVal) return; this.observe(newVal); // å¦‚æœè®¾ç½®æ–°å€¼æ˜¯å¯¹è±¡ï¼ŒåŠ«æŒ value = newVal; // é€šçŸ¥watcheræ•°æ®å‘ç”Ÿæ”¹å˜ dep.notify(); &#125; &#125;) &#125;&#125; // è§‚å¯Ÿè€…çš„ç›®çš„å°±æ˜¯ç»™éœ€è¦å˜åŒ–çš„é‚£ä¸ªå…ƒç´ å¢åŠ ä¸€ä¸ªè§‚å¯Ÿè€…ï¼Œå½“æ•°æ®å˜åŒ–åæ‰§è¡Œå¯¹åº”çš„æ–¹æ³•class Watcher&#123; constructor(vm, expr, cb) &#123; this.vm = vm; this.expr = expr; this.cb = cb; // å…ˆè·å–ä¸€ä¸‹è€çš„å€¼ this.oldVal = this.getOldVal(); &#125; // è·å–å®ä¾‹ä¸Šå¯¹åº”çš„è€å€¼ getOldVal()&#123; // åœ¨åˆ©ç”¨getValueè·å–æ•°æ®è°ƒç”¨getter()æ–¹æ³•æ—¶å…ˆæŠŠå½“å‰è§‚å¯Ÿè€…æŒ‚è½½ Dep.target = this; const oldVal = CompileUtil.getVal(this.vm, this.expr); // æŒ‚è½½å®Œæ¯•éœ€è¦æ³¨é”€ï¼Œé˜²æ­¢é‡å¤æŒ‚è½½ (æ•°æ®ä¸€æ›´æ–°å°±ä¼šæŒ‚è½½) Dep.target = null; return oldVal; &#125; // å¯¹å¤–æš´éœ²çš„æ–¹æ³• é€šè¿‡å›è°ƒå‡½æ•°æ›´æ–°æ•°æ® update()&#123; const newVal = CompileUtil.getVal(this.vm, this.expr); if(newVal !== this.oldVal)&#123; this.cb(newVal); // å¯¹åº”watchçš„callback &#125; &#125;&#125; // Depç±»å­˜å‚¨watcherå¯¹è±¡ï¼Œå¹¶åœ¨æ•°æ®å˜åŒ–æ—¶é€šçŸ¥watcherclass Dep&#123; constructor(arg) &#123; // è®¢é˜…çš„æ•°ç»„ this.subs = [] &#125; addSub(watcher)&#123; this.subs.push(watcher); &#125; notify()&#123; // æ•°æ®å˜åŒ–æ—¶é€šçŸ¥watcheræ›´æ–° this.subs.forEach(w=&gt;w.update()); &#125;&#125; vueæºç è§£æ","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"}]},{"title":"å¦‚ä½•ä½¿ç”¨JavaScriptå®ç°çº¯å‰ç«¯è¯»å–å’Œå¯¼å‡ºexcelæ–‡ä»¶","slug":"æ’ä»¶/å¦‚ä½•ä½¿ç”¨JavaScriptå®ç°çº¯å‰ç«¯è¯»å–å’Œå¯¼å‡ºexcelæ–‡ä»¶","date":"2020-12-07T16:00:00.000Z","updated":"2021-03-27T06:24:34.648Z","comments":true,"path":"/posts/ce0a6a78.html","link":"","permalink":"https://yangyfeng.github.io/posts/ce0a6a78.html","excerpt":"1ã€js-xlsx ä»‹ç»ç”±SheetJSå‡ºå“çš„js-xlsxæ˜¯ä¸€æ¬¾éå¸¸æ–¹ä¾¿çš„åªéœ€è¦çº¯JSå³å¯è¯»å–å’Œå¯¼å‡ºexcelçš„å·¥å…·åº“ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒæ ¼å¼ä¼—å¤šï¼Œæ”¯æŒxlsã€xlsxã€ods(ä¸€ç§OpenOfficeä¸“æœ‰è¡¨æ ¼æ–‡ä»¶æ ¼å¼)ç­‰åå‡ ç§æ ¼å¼ã€‚æœ¬æ–‡å…¨éƒ¨éƒ½æ˜¯ä»¥xlsxæ ¼å¼ä¸ºä¾‹ã€‚ å®˜æ–¹githubï¼šhttps://github.com/SheetJS/js-xlsx æœ¬æ–‡é…å¥—demoåœ¨çº¿æ¼”ç¤ºåœ°å€ï¼šhttp://demo.haoji.me/2017/02/08-js-xlsx/","text":"1ã€js-xlsx ä»‹ç»ç”±SheetJSå‡ºå“çš„js-xlsxæ˜¯ä¸€æ¬¾éå¸¸æ–¹ä¾¿çš„åªéœ€è¦çº¯JSå³å¯è¯»å–å’Œå¯¼å‡ºexcelçš„å·¥å…·åº“ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒæ ¼å¼ä¼—å¤šï¼Œæ”¯æŒxlsã€xlsxã€ods(ä¸€ç§OpenOfficeä¸“æœ‰è¡¨æ ¼æ–‡ä»¶æ ¼å¼)ç­‰åå‡ ç§æ ¼å¼ã€‚æœ¬æ–‡å…¨éƒ¨éƒ½æ˜¯ä»¥xlsxæ ¼å¼ä¸ºä¾‹ã€‚ å®˜æ–¹githubï¼šhttps://github.com/SheetJS/js-xlsx æœ¬æ–‡é…å¥—demoåœ¨çº¿æ¼”ç¤ºåœ°å€ï¼šhttp://demo.haoji.me/2017/02/08-js-xlsx/ 1.1 å…¼å®¹æ€§ 1.2. å¦‚ä½•ä½¿ç”¨distç›®å½•ä¸‹æœ‰å¾ˆå¤šä¸ªJSæ–‡ä»¶ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç”¨xlsx.core.min.jså°±å¤Ÿäº†ï¼Œxlsx.full.min.jsåˆ™æ˜¯åŒ…å«äº†æ‰€æœ‰åŠŸèƒ½æ¨¡å—ã€‚ &lt;script type=&quot;text/javascript&quot; src=&quot;./js/xlsx.core.min.js&quot;&gt;&lt;/script&gt; 2ã€è¯»å–excelè¯»å–excelä¸»è¦æ˜¯é€šè¿‡XLSX.read(data, {type: type});æ–¹æ³•æ¥å®ç°ï¼Œè¿”å›ä¸€ä¸ªå«WorkBookçš„å¯¹è±¡ï¼Œtypeä¸»è¦å–å€¼å¦‚ä¸‹ï¼š base64: ä»¥base64æ–¹å¼è¯»å–ï¼› binary: BinaryStringæ ¼å¼(byte n is data.charCodeAt(n)) string: UTF8ç¼–ç çš„å­—ç¬¦ä¸²ï¼› buffer: nodejs Bufferï¼› array: Uint8Arrayï¼Œ8ä½æ— ç¬¦å·æ•°ç»„ï¼› file: æ–‡ä»¶çš„è·¯å¾„ï¼ˆä»…nodejsä¸‹æ”¯æŒï¼‰ï¼› 2.1 è·å–workbookå¯¹è±¡è¯»å–æœ¬åœ°æ–‡ä»¶ 12345678910// è¯»å–æœ¬åœ°excelæ–‡ä»¶function readWorkbookFromLocalFile(file, callback) &#123; var reader = new FileReader(); reader.onload = function(e) &#123; var data = e.target.result; var workbook = XLSX.read(data, &#123;type: 'binary'&#125;); if(callback) callback(workbook); &#125;; reader.readAsBinaryString(file);&#125; è¯»å–ç½‘ç»œæ–‡ä»¶ 1234567891011121314// ä»ç½‘ç»œä¸Šè¯»å–æŸä¸ªexcelæ–‡ä»¶ï¼Œurlå¿…é¡»åŒåŸŸï¼Œå¦åˆ™æŠ¥é”™function readWorkbookFromRemoteFile(url, callback) &#123; var xhr = new XMLHttpRequest(); xhr.open('get', url, true); xhr.responseType = 'arraybuffer'; xhr.onload = function(e) &#123; if(xhr.status == 200) &#123; var data = new Uint8Array(xhr.response) var workbook = XLSX.read(data, &#123;type: 'array'&#125;); if(callback) callback(workbook); &#125; &#125;; xhr.send();&#125; è¯»å–workbook 1234567891011// è¯»å– excelæ–‡ä»¶function outputWorkbook(workbook) &#123; var sheetNames = workbook.SheetNames; // å·¥ä½œè¡¨åç§°é›†åˆ sheetNames.forEach(name =&gt; &#123; var worksheet = workbook.Sheets[name]; // åªèƒ½é€šè¿‡å·¥ä½œè¡¨åç§°æ¥è·å–æŒ‡å®šå·¥ä½œè¡¨ for(var key in worksheet) &#123; // væ˜¯è¯»å–å•å…ƒæ ¼çš„åŸå§‹å€¼ console.log(key, key[0] === '!' ? worksheet[key] : worksheet[key].v); &#125; &#125;);&#125; æ ¹æ®!refç¡®å®šexcelçš„èŒƒå›´ï¼Œå†æ ¹æ®!mergesç¡®å®šå•å…ƒæ ¼åˆå¹¶ï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œæœ€åè¾“å‡ºæ•´ä¸ªtableï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œå¹¸è¿çš„æ˜¯ï¼Œæ’ä»¶è‡ªèº«å·²ç»å†™å¥½å·¥å…·ç±»XLSX.utilsç»™æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€æˆ‘ä»¬è‡ªå·±éå†ï¼Œå·¥å…·ç±»è¾“å‡ºä¸»è¦åŒ…æ‹¬å¦‚ä¸‹ï¼š æœ‰äº›ä¸å¸¸ç”¨ï¼Œå¸¸ç”¨çš„ä¸»è¦æ˜¯ï¼š XLSX.utils.sheet_to_csvï¼šç”ŸæˆCSVæ ¼å¼ XLSX.utils.sheet_to_txtï¼šç”Ÿæˆçº¯æ–‡æœ¬æ ¼å¼ XLSX.utils.sheet_to_htmlï¼šç”ŸæˆHTMLæ ¼å¼ XLSX.utils.sheet_to_jsonï¼šè¾“å‡ºJSONæ ¼å¼ å¸¸ç”¨çš„ä¸»è¦æ˜¯sheet_to_csvæˆ–è€…sheet_to_htmlï¼Œè½¬csvçš„è¯ä¼šå¿½ç•¥æ ¼å¼ã€å•å…ƒæ ¼åˆå¹¶ç­‰ä¿¡æ¯ï¼Œæ‰€ä»¥å¤æ‚è¡¨æ ¼å¯èƒ½ä¸é€‚ç”¨ã€‚è½¬htmlçš„è¯ä¼šä¿ç•™å•å…ƒæ ¼åˆå¹¶ï¼Œä½†æ˜¯ç”Ÿæˆçš„æ˜¯ä»£ç ï¼Œè€Œä¸æ˜¯ï¼Œéœ€è¦å¯¹è¡¨æ ¼è¿›è¡Œä¸€äº›å®šåˆ¶æ—¶ä¸å¤ªæ–¹ä¾¿ï¼Œæ‰€ä»¥å…·ä½“è¿˜æ˜¯è¦è§†æƒ…å†µæ¥é‡‡ç”¨åˆé€‚çš„å·¥å…·ç±»ã€‚ è¿™é‡Œå†™ä¸€ä¸ªé‡‡ç”¨è½¬csvæ–¹å¼è¾“å‡ºç»“æœçš„ç®€å•ç¤ºä¾‹ï¼Œå¯ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹åœ¨çº¿DEMOï¼š 1234567891011121314151617181920212223242526272829var csv = XLSX.utils.sheet_to_csv(worksheet); document.getElementById('result').innerHTML = csv2table(csv);&#125;// å°†csvè½¬æ¢æˆç®€å•çš„è¡¨æ ¼ï¼Œä¼šå¿½ç•¥å•å…ƒæ ¼åˆå¹¶ï¼Œåœ¨ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—è¿½åŠ ç±»ä¼¼excelçš„ç´¢å¼•function csv2table(csv)&#123; var html = '&lt;table&gt;'; var rows = csv.split('\\n'); rows.pop(); // æœ€åä¸€è¡Œæ²¡ç”¨çš„ rows.forEach(function(row, idx) &#123; var columns = row.split(','); columns.unshift(idx+1); // æ·»åŠ è¡Œç´¢å¼• if(idx == 0) &#123; // æ·»åŠ åˆ—ç´¢å¼• html += '&lt;tr&gt;'; for(var i=0; i&lt;columns.length; i++) &#123; html += '&lt;th&gt;' + (i==0?'':String.fromCharCode(65+i-1)) + '&lt;/th&gt;'; &#125; html += '&lt;/tr&gt;'; &#125; html += '&lt;tr&gt;'; columns.forEach(function(column) &#123; html += '&lt;td&gt;'+column+'&lt;/td&gt;'; &#125;); html += '&lt;/tr&gt;'; &#125;); html += '&lt;/table&gt;'; return html;&#125; å¯¼å‡ºexcelå¯¼å‡ºåˆ†ä¸º2ç§ï¼Œä¸€ç§æ˜¯åŸºäºç°æœ‰excelä¿®æ”¹ï¼Œä¸€ç§æ˜¯å…¨æ–°ç”Ÿæˆï¼Œå‰è€…æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬è¿™é‡Œç€é‡è®²åè€…ã€‚ è‡ªå·±æ‰‹å†™ä»£ç ç”Ÿæˆ å¯¼å‡ºexcelæ–‡ä»¶ï¼Œä¸»è¦æ˜¯å¦‚ä½•ç”Ÿæˆä¸€ä¸ªsheetï¼Œæˆ‘ä»¬è¿™é‡Œå†™ä¸€ä¸ªæœ€ç®€å•çš„csvè½¬excelç¤ºä¾‹ 123456789101112131415161718192021222324252627282930313233343536373839// csvè½¬sheetå¯¹è±¡function csv2sheet(csv) &#123; var sheet = &#123;&#125;; // å°†è¦ç”Ÿæˆçš„sheet csv = csv.split('\\n'); csv.forEach(function(row, i) &#123; row = row.split(','); if(i == 0) sheet['!ref'] = 'A1:'+String.fromCharCode(65+row.length-1)+(csv.length-1); row.forEach(function(col, j) &#123; sheet[String.fromCharCode(65+j)+(i+1)] = &#123;v: col&#125;; &#125;); &#125;); return sheet;&#125;// å°†ä¸€ä¸ªsheetè½¬æˆæœ€ç»ˆçš„excelæ–‡ä»¶çš„blobå¯¹è±¡ï¼Œç„¶ååˆ©ç”¨URL.createObjectURLä¸‹è½½function sheet2blob(sheet, sheetName) &#123; sheetName = sheetName || 'sheet1'; var workbook = &#123; SheetNames: [sheetName], Sheets: &#123;&#125; &#125;; workbook.Sheets[sheetName] = sheet; // ç”Ÿæˆexcelçš„é…ç½®é¡¹ var wopts = &#123; bookType: 'xlsx', // è¦ç”Ÿæˆçš„æ–‡ä»¶ç±»å‹ bookSST: false, // æ˜¯å¦ç”ŸæˆShared String Tableï¼Œå®˜æ–¹è§£é‡Šæ˜¯ï¼Œå¦‚æœå¼€å¯ç”Ÿæˆé€Ÿåº¦ä¼šä¸‹é™ï¼Œä½†åœ¨ä½ç‰ˆæœ¬IOSè®¾å¤‡ä¸Šæœ‰æ›´å¥½çš„å…¼å®¹æ€§ type: 'binary' &#125;; var wbout = XLSX.write(workbook, wopts); var blob = new Blob([s2ab(wbout)], &#123;type:\"application/octet-stream\"&#125;); // å­—ç¬¦ä¸²è½¬ArrayBuffer function s2ab(s) &#123; var buf = new ArrayBuffer(s.length); var view = new Uint8Array(buf); for (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) &amp; 0xFF; return buf; &#125; return blob;&#125; æ‹¿åˆ°ä¸Šé¢çš„blobå¯¹è±¡å°±å¯ä»¥ç›´æ¥ä¸‹è½½äº†ï¼Œå‚è€ƒæˆ‘ä¹‹å‰åœ¨JSå¼¹å‡ºä¸‹è½½å¯¹è¯æ¡†é‡Œé¢å°è£…å¥½çš„openDownloadDialogæ–¹æ³•ï¼š 1234567891011121314151617181920212223/** * é€šç”¨çš„æ‰“å¼€ä¸‹è½½å¯¹è¯æ¡†æ–¹æ³•ï¼Œæ²¡æœ‰æµ‹è¯•è¿‡å…·ä½“å…¼å®¹æ€§ * @param url ä¸‹è½½åœ°å€ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªblobå¯¹è±¡ï¼Œå¿…é€‰ * @param saveName ä¿å­˜æ–‡ä»¶åï¼Œå¯é€‰ */function openDownloadDialog(url, saveName)&#123; if(typeof url == 'object' &amp;&amp; url instanceof Blob) &#123; url = URL.createObjectURL(url); // åˆ›å»ºblobåœ°å€ &#125; var aLink = document.createElement('a'); aLink.href = url; aLink.download = saveName || ''; // HTML5æ–°å¢çš„å±æ€§ï¼ŒæŒ‡å®šä¿å­˜æ–‡ä»¶åï¼Œå¯ä»¥ä¸è¦åç¼€ï¼Œæ³¨æ„ï¼Œfile:///æ¨¡å¼ä¸‹ä¸ä¼šç”Ÿæ•ˆ var event; if(window.MouseEvent) event = new MouseEvent('click'); else &#123; event = document.createEvent('MouseEvents'); event.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null); &#125; aLink.dispatchEvent(event);&#125; æ‰€ä»¥ï¼Œæœ€ç»ˆä¸‹è½½å®ç°å¦‚ä¸‹ï¼š 123456// ä¼ å…¥csvï¼Œæ‰§è¡Œåå°±ä¼šå¼¹å‡ºä¸‹è½½æ¡†function exportExcel(csv) &#123; var sheet = csv2sheet(csv); var blob = sheet2blob(sheet); openDownloadDialog(blob, 'å¯¼å‡º.xlsx')ï¼›&#125; å¤„ç†å•å…ƒæ ¼åˆå¹¶ ä¸€èˆ¬æ¥è¯´ï¼Œå‰ç«¯ç”Ÿæˆexcelè€Œä¸æ˜¯csvæœ€ä¸»è¦ç›®çš„éƒ½æ˜¯ä¸ºäº†è§£å†³csvä¸èƒ½å®ç°å•å…ƒæ ¼åˆå¹¶çš„é—®é¢˜ï¼Œè¦ä¸ç„¶ç›´æ¥å¯¼å‡ºcsvæ–‡ä»¶å°±å¥½äº†ï¼Œä½•å¿…å¼•å…¥å‡ ç™¾kbçš„æ’ä»¶ 123456789101112var aoa = [ ['ä¸»è¦ä¿¡æ¯', null, null, 'å…¶å®ƒä¿¡æ¯'], // ç‰¹åˆ«æ³¨æ„åˆå¹¶çš„åœ°æ–¹åé¢é¢„ç•™2ä¸ªnull ['å§“å', 'æ€§åˆ«', 'å¹´é¾„', 'æ³¨å†Œæ—¶é—´'], ['å¼ ä¸‰', 'ç”·', 18, new Date()], ['æå››', 'å¥³', 22, new Date()]];var sheet = XLSX.utils.aoa_to_sheet(aoa);sheet['!merges'] = [ // è®¾ç½®A1-C1çš„å•å…ƒæ ¼åˆå¹¶ &#123;s: &#123;r: 0, c: 0&#125;, e: &#123;r: 0, c: 2&#125;&#125;];openDownloadDialog(sheet2blob(sheet), 'å•å…ƒæ ¼åˆå¹¶ç¤ºä¾‹.xlsx'); éœ€è¦æ³¨æ„çš„åœ°æ–¹å°±æ˜¯è¢«åˆå¹¶çš„å•å…ƒæ ¼è¦ç”¨nullé¢„ç•™å‡ºä½ç½®ï¼Œå¦åˆ™åé¢çš„å†…å®¹ï¼ˆæœ¬ä¾‹ä¸­æ˜¯ç¬¬å››åˆ—å…¶å®ƒä¿¡æ¯ï¼‰ä¼šè¢«è¦†ç›–ã€‚ | åŸæ–‡åœ°å€ï¼šhttps://www.cnblogs.com/liuxianan/p/js-excel.html","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Excel","slug":"Excel","permalink":"https://yangyfeng.github.io/blogpost/tags/Excel/"},{"name":"æ’ä»¶","slug":"æ’ä»¶","permalink":"https://yangyfeng.github.io/blogpost/tags/æ’ä»¶/"}]},{"title":"vueå“åº”å¼åŸç†æºç å‰–æ","slug":"Vue/vueå“åº”å¼åŸç†æºç å‰–æ","date":"2020-11-26T02:37:00.000Z","updated":"2021-03-27T06:24:34.623Z","comments":true,"path":"/posts/b0d42301.html","link":"","permalink":"https://yangyfeng.github.io/posts/b0d42301.html","excerpt":"vue2æ›´æ–°åˆ°vue3å¯¹æ•°æ®çš„å“åº”å¼ï¼Œåšäº†é‡å¤§çš„è°ƒæ•´ã€‚ å…ˆå›é¡¾ä¸‹vue2çš„å“åº”å¼æ€ä¹ˆåšçš„vue2å¯¹è±¡å“åº”å¼åŸç†ï¼šObject.defineProperty() vue2æ•°ç»„å“åº”å¼åŸç†ï¼šè¦†ç›–å¯ä»¥ä¿®æ”¹æ•°ç»„7ä¸ªæ–¹æ³•ï¼Œä»æ•°ç»„åŸå‹ä¸­è·å–è¿™7ä¸ªæ–¹æ³•ï¼Œå¹¶è¦†ç›–ä¸ºå¯ä»¥å‘é€æ›´æ–°é€šçŸ¥çš„å‡½æ•°å®ç°","text":"vue2æ›´æ–°åˆ°vue3å¯¹æ•°æ®çš„å“åº”å¼ï¼Œåšäº†é‡å¤§çš„è°ƒæ•´ã€‚ å…ˆå›é¡¾ä¸‹vue2çš„å“åº”å¼æ€ä¹ˆåšçš„vue2å¯¹è±¡å“åº”å¼åŸç†ï¼šObject.defineProperty() vue2æ•°ç»„å“åº”å¼åŸç†ï¼šè¦†ç›–å¯ä»¥ä¿®æ”¹æ•°ç»„7ä¸ªæ–¹æ³•ï¼Œä»æ•°ç»„åŸå‹ä¸­è·å–è¿™7ä¸ªæ–¹æ³•ï¼Œå¹¶è¦†ç›–ä¸ºå¯ä»¥å‘é€æ›´æ–°é€šçŸ¥çš„å‡½æ•°å®ç° å¯¹è±¡çš„å±æ€§åŠ«æŒ1234567891011121314151617181920// å…·ä½“å®šä¹‰æŒ‡å®šçš„keyæ‹¦æˆªå™¨function defineReactive(obj, key, val) &#123; // é€’å½’éå† observe(val) // valå®é™…ä¸Šæ˜¯ä¸€ä¸ªé—­åŒ… Object.defineProperty(obj, key, &#123; get() &#123; return val &#125;, set(newVal) &#123; if (newVal !== val) &#123; // valå¯èƒ½æ˜¯å¯¹è±¡ observe(newVal) notifyUpdate() val = newVal &#125; &#125; &#125;)&#125; æ•°ç»„å±æ€§çš„åŠ«æŒ1234567891011121314// ä¿®æ”¹æ•°ç»„çš„7ä¸ªapiçš„åŸå‹const originalProto = Array.prototypeconst arrayProto = Object.create(originalProto);['push', 'pop', 'shift', 'unshift', 'splice', 'reverse', 'sort'].forEach( method =&gt; &#123; arrayProto[method] = function() &#123; // åšä¹‹å‰çš„äº‹æƒ… originalProto[method].apply(this, arguments) // é€šçŸ¥æ›´æ–° notifyUpdate() &#125; &#125;) æ•°æ®å“åº”123456789101112131415161718// æ€æƒ³ï¼šé€’å½’éå†ä¼ å…¥objï¼Œå®šä¹‰æ¯ä¸ªå±æ€§çš„æ‹¦æˆªfunction observe(obj) &#123; if (typeof obj !== 'object' || obj == null) &#123; return obj &#125; // åˆ¤æ–­ç±»å‹ï¼šå¦‚æœæ˜¯æ•°ç»„åˆ™æ›¿æ¢å®ƒçš„åŸå‹ if (Array.isArray(obj)) &#123; Object.setPrototypeOf(obj, arrayProto) &#125; else &#123; const keys = Object.keys(obj) for (let index = 0; index &lt; keys.length; index++) &#123; const key = keys[index] // å¯¹objæ¯ä¸ªkeyæ‰§è¡Œæ‹¦æˆª defineReactive(obj, key, obj[key]) &#125; &#125;&#125; è·Ÿæ–°å¤„ç†123456789101112131415function notifyUpdate() &#123; console.log('é¡µé¢æ›´æ–°ï¼')&#125;const data = &#123; foo: 'foo', bar: &#123; a: 1 &#125;, tua: [1, 2, 3] &#125;observe(data)// 1.æ™®é€šæ›´æ–°// data.foo = 'foooooooo'// 2.åµŒå¥—å±æ€§æ›´æ–°// data.bar.a = 10// data.dong = 'lalala' // no ok// 3.èµ‹å€¼æ˜¯å¯¹è±¡// data.bar = &#123;a:10&#125;// 4.æ•°ç»„// data.tua.push(4) ä»¥ä¸Šæ–¹å¼ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ éœ€è¦å“åº”åŒ–çš„æ•°æ®è¾ƒå¤§ï¼Œé€’å½’éå†æ€§èƒ½ä¸å¥½ã€æ¶ˆè€—è¾ƒå¤§ æ–°å¢æˆ–åˆ é™¤å±æ€§æ— æ³•ç›‘å¬ æ•°ç»„å“åº”åŒ–éœ€è¦é¢å¤–å®ç° ä¿®æ”¹è¯­æ³•æœ‰é™åˆ¶ æ‰€ä»¥åœ¨vue3è·Ÿæ–°åšäº†æ›´åŠ ä¼˜åŒ–æ–¹æ¡ˆ vue3çš„å“åº”å¼åŸç†çš„å®ç°vue3å“åº”å¼åŸç†ï¼šåˆ©ç”¨Proxyå¯¹è±¡å¯¹æ•°æ®æ‹¦æˆª 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170// WeakMap å¼±å¼•ç”¨çš„æ–¹å¼ç¼“å­˜ä»£ç†æ•°æ®å’ŒåŸå§‹æ•°æ®const toProxy = new WeakMap() // å½¢å¦‚ obj: observedconst toRaw = new WeakMap() // å½¢å¦‚ observed: objfunction isObject(obj) &#123; return typeof obj === 'object' || obj === null&#125;function hasOwn(obj, key) &#123; return obj.hasOwnProperty(key)&#125;// å“åº”å¯¹è±¡æ•°æ®function reactive(obj) &#123; if (!isObject(obj)) &#123; return obj &#125; // æŸ¥æ‰¾ç¼“å­˜ if (toProxy.has(obj)) &#123; return toProxy.get(obj) &#125; // ä¼ å…¥objå°±æ˜¯ä»£ç†å¯¹è±¡,æ­¤æ—¶ä¸ç”¨åå¤ä»£ç† if (toRaw.has(obj)) &#123; return obj &#125; const observed = new Proxy(obj, &#123; get(target, key, receiver) &#123; // è®¿é—® const res = Reflect.get(target, key, receiver) console.log(`è·å–$&#123;key&#125;: $&#123;res&#125;`) // ä¾èµ–æ”¶é›† track(target, key) return isObject(res) ? reactive(res) : res &#125;, set(target, key, value, receiver) &#123; // æ–°å¢å’Œæ›´æ–° const hadKey = hasOwn(target, key) // ADD æˆ– SET const oldVal = target[key] const res = Reflect.set(target, key, value, receiver) if (!hadKey) &#123; console.log(`æ–°å¢$&#123;key&#125;:$&#123;value&#125;`) trigger(target, 'ADD', key) &#125; else if (oldVal !== value) &#123; console.log(`è®¾ç½®$&#123;key&#125;:$&#123;value&#125;`) trigger(target, 'SET', key) &#125; return res &#125;, deleteProperty(target, key) &#123; // åˆ é™¤ const hadKey = hasOwn(target, key) const res = Reflect.deleteProperty(target, key) // keyå­˜åœ¨å¹¶ä¸”åˆ é™¤æˆåŠŸ if (res &amp;&amp; hadKey) &#123; console.log(`åˆ é™¤$&#123;key&#125;:$&#123;res&#125;`) trigger(target, 'DELETE', key) &#125; return res &#125; &#125;) // ç¼“å­˜ toProxy.set(obj, observed) toRaw.set(observed, obj) return observed&#125;// æ¯ä¸€ä¸ªå±æ€§çš„å“åº”å›è°ƒæ–¹æ³•const activeReativeEffectStack = []// ä¾èµ–æ”¶é›†æ‰§è¡Œ// åŸºæœ¬ç»“æ„&#123;target:&#123;key:[eff1ï¼Œeff2]&#125;&#125;let targetsMap = new WeakMap()function track(target, key) &#123; // ä»æ ˆä¸­è·å–å“åº”å‡½æ•° const effect = activeReativeEffectStack[activeReativeEffectStack.length - 1] if (effect) &#123; let depsMap = targetsMap.get(target) if (!depsMap) &#123; // é¦–æ¬¡è®¿é—®target depsMap = new Map() targetsMap.set(target, depsMap) &#125; // å­˜æ”¾key let deps = depsMap.get(key) if (!deps) &#123; deps = new Set() depsMap.set(key, deps) &#125; if (!deps.has(effect)) &#123; deps.add(effect) &#125; &#125;&#125;// æ•°æ®å˜åŒ–å“åº”å›è°ƒfunction effect(fn) &#123; // 1.å¼‚å¸¸å¤„ç† // 2.æ‰§è¡Œå‡½æ•° // 3.æ”¾ç½®åˆ°activeReativeEffectStack const rxEffect = function(...args) &#123; try &#123; activeReativeEffectStack.push(rxEffect) return fn(...args) // æ‰§è¡Œå‡½æ•°è§¦å‘ä¾èµ–æ”¶é›† &#125; finally &#123; activeReativeEffectStack.pop() &#125; &#125; rxEffect() // é»˜è®¤ç«‹å³æ‰§è¡Œ return rxEffect&#125;// è§¦å‘target.keyå¯¹åº”å“åº”å‡½æ•°function trigger(target, type, key) &#123; // è·å–ä¾èµ–è¡¨ const depsMap = targetsMap.get(target) if (depsMap) &#123; // è·å–å“åº”å‡½æ•°é›†åˆ const deps = depsMap.get(key) const effects = new Set() if (deps) &#123; // æ‰§è¡Œæ‰€æœ‰å“åº”å‡½æ•° deps.forEach(effect =&gt; &#123; // effect() effects.add(effect) &#125;) &#125; // æ•°ç»„æ–°å¢æˆ–åˆ é™¤ if (type === 'ADD' || type === 'DELETE') &#123; if (Array.isArray(target)) &#123; const deps = depsMap.get('length') if (deps) &#123; deps.forEach(effect =&gt; &#123; effects.add(effect) &#125;) &#125; &#125; &#125; // è·å–å·²å­˜åœ¨çš„Dep Setæ‰§è¡Œ effects.forEach(effect =&gt; effect()) &#125;&#125;const data = &#123; foo: 'foo', bar: &#123; a: 1 &#125; &#125;const react = reactive(data)// 1.è·å–// react.foo // ok// 2.è®¾ç½®å·²å­˜åœ¨å±æ€§// react.foo = 'foooooooo'// 3.è®¾ç½®ä¸å­˜åœ¨å±æ€§// react.baz = 'bazzzzzz'// 4.åµŒå¥—å¯¹è±¡// react.bar.a = 10// é¿å…é‡å¤ä»£ç†// console.log(reactive(data) === react) // true// reactive(react)effect(() =&gt; &#123; console.log('countå‘ç”Ÿäº†å˜åŒ–ï¼š', react.foo) // dom&#125;)react.foo = 'fooooooo' vueå“åº”å¼æ•°æ®æ›´æ–°çš„æµç¨‹","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"}]},{"title":"ä»€ä¹ˆæ˜¯PWA","slug":"å‰ç«¯å·¥ç¨‹åŒ–/ä»€ä¹ˆæ˜¯PWA","date":"2020-11-18T01:40:00.000Z","updated":"2021-03-27T06:24:34.627Z","comments":true,"path":"/posts/138dbef8.html","link":"","permalink":"https://yangyfeng.github.io/posts/138dbef8.html","excerpt":"ä¸€ã€èƒŒæ™¯å¤§å®¶éƒ½çŸ¥é“Native appä½“éªŒç¡®å®å¾ˆå¥½ï¼Œä¸‹è½½åˆ°æ‰‹æœºä¸Šä¹‹åå…¥å£ä¹Ÿæ–¹ä¾¿ã€‚å®ƒä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹: å¼€å‘æˆæœ¬é«˜(ioså’Œå®‰å“) è½¯ä»¶ä¸Šçº¿éœ€è¦å®¡æ ¸ ç‰ˆæœ¬æ›´æ–°éœ€è¦å°†æ–°ç‰ˆæœ¬ä¸Šä¼ åˆ°ä¸åŒçš„åº”ç”¨å•†åº— æƒ³ä½¿ç”¨ä¸€ä¸ªappå°±å¿…é¡»å»ä¸‹è½½æ‰èƒ½ä½¿ç”¨ï¼Œå³ä½¿æ˜¯å¶å°”éœ€è¦ä½¿ç”¨ä¸€ä¸‹ä¸‹ è€Œwebç½‘é¡µå¼€å‘æˆæœ¬ä½ï¼Œç½‘ç«™æ›´æ–°æ—¶ä¸Šä¼ æœ€æ–°çš„èµ„æºåˆ°æœåŠ¡å™¨å³å¯ï¼Œç”¨æ‰‹æœºå¸¦çš„æµè§ˆå™¨æ‰“å¼€å°±å¯ä»¥ä½¿ç”¨ã€‚ä½†æ˜¯é™¤äº†ä½“éªŒä¸Šæ¯”Native appè¿˜æ˜¯å·®ä¸€äº›ï¼Œè¿˜æœ‰ä¸€äº›æ˜æ˜¾çš„ç¼ºç‚¹ æ‰‹æœºæ¡Œé¢å…¥å£ä¸å¤Ÿä¾¿æ·ï¼Œæƒ³è¦è¿›å…¥ä¸€ä¸ªé¡µé¢å¿…é¡»è¦è®°ä½å®ƒçš„urlæˆ–è€…åŠ å…¥ä¹¦ç­¾ æ²¡ç½‘ç»œå°±æ²¡å“åº”ï¼Œä¸å…·å¤‡ç¦»çº¿èƒ½åŠ› ä¸åƒAPPä¸€æ ·èƒ½è¿›è¡Œæ¶ˆæ¯æ¨é€ é‚£ä¹ˆä»€ä¹ˆæ˜¯PWAå‘¢ï¼Ÿ äºŒã€Whatâ€™s PWA?PWAå…¨ç§°Progressive Web Appï¼Œå³æ¸è¿›å¼WEBåº”ç”¨ã€‚ ä¸€ä¸ª PWA åº”ç”¨é¦–å…ˆæ˜¯ä¸€ä¸ªç½‘é¡µ, å¯ä»¥é€šè¿‡ Web æŠ€æœ¯ç¼–å†™å‡ºä¸€ä¸ªç½‘é¡µåº”ç”¨. éšåæ·»åŠ ä¸Š App Manifest å’Œ Service Worker æ¥å®ç° PWA çš„å®‰è£…å’Œç¦»çº¿ç­‰åŠŸèƒ½ è§£å†³äº†å“ªäº›é—®é¢˜ï¼Ÿ å¯ä»¥æ·»åŠ è‡³ä¸»å±å¹•ï¼Œç‚¹å‡»ä¸»å±å¹•å›¾æ ‡å¯ä»¥å®ç°å¯åŠ¨åŠ¨ç”»ä»¥åŠéšè—åœ°å€æ  å®ç°ç¦»çº¿ç¼“å­˜åŠŸèƒ½ï¼Œå³ä½¿ç”¨æˆ·æ‰‹æœºæ²¡æœ‰ç½‘ç»œï¼Œä¾ç„¶å¯ä»¥ä½¿ç”¨ä¸€äº›ç¦»çº¿åŠŸèƒ½ å®ç°äº†æ¶ˆæ¯æ¨é€ å®ƒè§£å†³äº†ä¸Šè¿°æåˆ°çš„é—®é¢˜ï¼Œè¿™äº›ç‰¹æ€§å°†ä½¿å¾— Web åº”ç”¨æ¸è¿›å¼æ¥è¿‘åŸç”Ÿ Appã€‚","text":"ä¸€ã€èƒŒæ™¯å¤§å®¶éƒ½çŸ¥é“Native appä½“éªŒç¡®å®å¾ˆå¥½ï¼Œä¸‹è½½åˆ°æ‰‹æœºä¸Šä¹‹åå…¥å£ä¹Ÿæ–¹ä¾¿ã€‚å®ƒä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹: å¼€å‘æˆæœ¬é«˜(ioså’Œå®‰å“) è½¯ä»¶ä¸Šçº¿éœ€è¦å®¡æ ¸ ç‰ˆæœ¬æ›´æ–°éœ€è¦å°†æ–°ç‰ˆæœ¬ä¸Šä¼ åˆ°ä¸åŒçš„åº”ç”¨å•†åº— æƒ³ä½¿ç”¨ä¸€ä¸ªappå°±å¿…é¡»å»ä¸‹è½½æ‰èƒ½ä½¿ç”¨ï¼Œå³ä½¿æ˜¯å¶å°”éœ€è¦ä½¿ç”¨ä¸€ä¸‹ä¸‹ è€Œwebç½‘é¡µå¼€å‘æˆæœ¬ä½ï¼Œç½‘ç«™æ›´æ–°æ—¶ä¸Šä¼ æœ€æ–°çš„èµ„æºåˆ°æœåŠ¡å™¨å³å¯ï¼Œç”¨æ‰‹æœºå¸¦çš„æµè§ˆå™¨æ‰“å¼€å°±å¯ä»¥ä½¿ç”¨ã€‚ä½†æ˜¯é™¤äº†ä½“éªŒä¸Šæ¯”Native appè¿˜æ˜¯å·®ä¸€äº›ï¼Œè¿˜æœ‰ä¸€äº›æ˜æ˜¾çš„ç¼ºç‚¹ æ‰‹æœºæ¡Œé¢å…¥å£ä¸å¤Ÿä¾¿æ·ï¼Œæƒ³è¦è¿›å…¥ä¸€ä¸ªé¡µé¢å¿…é¡»è¦è®°ä½å®ƒçš„urlæˆ–è€…åŠ å…¥ä¹¦ç­¾ æ²¡ç½‘ç»œå°±æ²¡å“åº”ï¼Œä¸å…·å¤‡ç¦»çº¿èƒ½åŠ› ä¸åƒAPPä¸€æ ·èƒ½è¿›è¡Œæ¶ˆæ¯æ¨é€ é‚£ä¹ˆä»€ä¹ˆæ˜¯PWAå‘¢ï¼Ÿ äºŒã€Whatâ€™s PWA?PWAå…¨ç§°Progressive Web Appï¼Œå³æ¸è¿›å¼WEBåº”ç”¨ã€‚ ä¸€ä¸ª PWA åº”ç”¨é¦–å…ˆæ˜¯ä¸€ä¸ªç½‘é¡µ, å¯ä»¥é€šè¿‡ Web æŠ€æœ¯ç¼–å†™å‡ºä¸€ä¸ªç½‘é¡µåº”ç”¨. éšåæ·»åŠ ä¸Š App Manifest å’Œ Service Worker æ¥å®ç° PWA çš„å®‰è£…å’Œç¦»çº¿ç­‰åŠŸèƒ½ è§£å†³äº†å“ªäº›é—®é¢˜ï¼Ÿ å¯ä»¥æ·»åŠ è‡³ä¸»å±å¹•ï¼Œç‚¹å‡»ä¸»å±å¹•å›¾æ ‡å¯ä»¥å®ç°å¯åŠ¨åŠ¨ç”»ä»¥åŠéšè—åœ°å€æ  å®ç°ç¦»çº¿ç¼“å­˜åŠŸèƒ½ï¼Œå³ä½¿ç”¨æˆ·æ‰‹æœºæ²¡æœ‰ç½‘ç»œï¼Œä¾ç„¶å¯ä»¥ä½¿ç”¨ä¸€äº›ç¦»çº¿åŠŸèƒ½ å®ç°äº†æ¶ˆæ¯æ¨é€ å®ƒè§£å†³äº†ä¸Šè¿°æåˆ°çš„é—®é¢˜ï¼Œè¿™äº›ç‰¹æ€§å°†ä½¿å¾— Web åº”ç”¨æ¸è¿›å¼æ¥è¿‘åŸç”Ÿ Appã€‚ ä¸‰ã€PWAçš„å®ç°3.1 Manifestå®ç°æ·»åŠ è‡³ä¸»å±å¹•index.html 1234567&lt;head&gt; &lt;title&gt;Minimal PWA&lt;/title&gt; &lt;meta name=\"viewport\" content=\"width=device-width, user-scalable=no\" /&gt; &lt;link rel=\"manifest\" href=\"manifest.json\" /&gt; &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"main.css\"&gt; &lt;link rel=\"icon\" href=\"/e.png\" type=\"image/png\" /&gt;&lt;/head&gt; manifest.json 1234567891011121314151617181920212223242526272829&#123; \"name\": \"Minimal PWA\", // å¿…å¡« æ˜¾ç¤ºçš„æ’ä»¶åç§° \"short_name\": \"PWA Demo\", // å¯é€‰ åœ¨APP launcherå’Œæ–°çš„tabé¡µæ˜¾ç¤ºï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œåˆ™ä½¿ç”¨name \"description\": \"The app that helps you understand PWA\", //ç”¨äºæè¿°åº”ç”¨ \"display\": \"standalone\", // å®šä¹‰å¼€å‘äººå‘˜å¯¹Webåº”ç”¨ç¨‹åºçš„é¦–é€‰æ˜¾ç¤ºæ¨¡å¼ã€‚standaloneæ¨¡å¼ä¼šæœ‰å•ç‹¬çš„ \"start_url\": \"/\", // åº”ç”¨å¯åŠ¨æ—¶çš„url \"theme_color\": \"#313131\", // æ¡Œé¢å›¾æ ‡çš„èƒŒæ™¯è‰² \"background_color\": \"#313131\", // ä¸ºwebåº”ç”¨ç¨‹åºé¢„å®šä¹‰çš„èƒŒæ™¯é¢œè‰²ã€‚åœ¨å¯åŠ¨webåº”ç”¨ç¨‹åºå’ŒåŠ è½½åº”ç”¨ç¨‹åºçš„å†…å®¹ä¹‹é—´åˆ›å»ºäº†ä¸€ä¸ªå¹³æ»‘çš„è¿‡æ¸¡ã€‚ \"icons\": [ // æ¡Œé¢å›¾æ ‡ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„ &#123; \"src\": \"icon/lowres.webp\", \"sizes\": \"48x48\", // ä»¥ç©ºæ ¼åˆ†éš”çš„å›¾ç‰‡å°ºå¯¸ \"type\": \"image/webp\" // å¸®åŠ©userAgentå¿«é€Ÿæ’é™¤ä¸æ”¯æŒçš„ç±»å‹ &#125;, &#123; \"src\": \"icon/lowres\", \"sizes\": \"48x48\" &#125;, &#123; \"src\": \"icon/hd_hi.ico\", \"sizes\": \"72x72 96x96 128x128 256x256\" &#125;, &#123; \"src\": \"icon/hd_hi.svg\", \"sizes\": \"72x72\" &#125; ]&#125;` Manifestå‚è€ƒæ–‡æ¡£å¯ä»¥æ‰“å¼€ç½‘ç«™æŸ¥çœ‹æ·»åŠ è‡³ä¸»å±å¹•çš„åŠ¨å›¾ã€‚ å¦‚æœç”¨çš„æ˜¯å®‰å“æ‰‹æœºï¼Œå¯ä»¥ä¸‹è½½chromeæµè§ˆå™¨è‡ªå·±æ“ä½œçœ‹çœ‹ 3.2 service workerå®ç°ç¦»çº¿ç¼“å­˜3.2.1 ä»€ä¹ˆæ˜¯service workerService Worker æ˜¯ Chrome å›¢é˜Ÿæå‡ºå’ŒåŠ›æ¨çš„ä¸€ä¸ª WEB APIï¼Œç”¨äºç»™ web åº”ç”¨æä¾›é«˜çº§çš„å¯æŒç»­çš„åå°å¤„ç†èƒ½åŠ›ã€‚ Service Workers å°±åƒä»‹äºæœåŠ¡å™¨å’Œç½‘é¡µä¹‹é—´çš„æ‹¦æˆªå™¨ï¼Œèƒ½å¤Ÿæ‹¦æˆªè¿›å‡ºçš„HTTP è¯·æ±‚ï¼Œä»è€Œå®Œå…¨æ§åˆ¶ä½ çš„ç½‘ç«™ã€‚ æœ€ä¸»è¦çš„ç‰¹ç‚¹ åœ¨é¡µé¢ä¸­æ³¨å†Œå¹¶å®‰è£…æˆåŠŸåï¼Œè¿è¡Œäºæµè§ˆå™¨åå°ï¼Œä¸å—é¡µé¢åˆ·æ–°çš„å½±å“ï¼Œå¯ä»¥ç›‘å¬å’Œæˆªæ‹¦ä½œç”¨åŸŸèŒƒå›´å†…æ‰€æœ‰é¡µé¢çš„ HTTP è¯·æ±‚ã€‚ ç½‘ç«™å¿…é¡»ä½¿ç”¨ HTTPSã€‚é™¤äº†ä½¿ç”¨æœ¬åœ°å¼€å‘ç¯å¢ƒè°ƒè¯•æ—¶(å¦‚åŸŸåä½¿ç”¨ localhost) è¿è¡Œäºæµè§ˆå™¨åå°ï¼Œå¯ä»¥æ§åˆ¶æ‰“å¼€çš„ä½œç”¨åŸŸèŒƒå›´ä¸‹æ‰€æœ‰çš„é¡µé¢è¯·æ±‚ å•ç‹¬çš„ä½œç”¨åŸŸèŒƒå›´ï¼Œå•ç‹¬çš„è¿è¡Œç¯å¢ƒå’Œæ‰§è¡Œçº¿ç¨‹ ä¸èƒ½æ“ä½œé¡µé¢ DOMã€‚ä½†å¯ä»¥é€šè¿‡äº‹ä»¶æœºåˆ¶æ¥å¤„ç† äº‹ä»¶é©±åŠ¨å‹æœåŠ¡çº¿ç¨‹ ä¸ºä»€ä¹ˆè¦æ±‚ç½‘ç«™å¿…é¡»æ˜¯HTTPSçš„ï¼Œå¤§æ¦‚æ˜¯å› ä¸ºservice workeræƒé™å¤ªå¤§èƒ½æ‹¦æˆªæ‰€æœ‰é¡µé¢çš„è¯·æ±‚å§ï¼Œå¦‚æœhttpçš„ç½‘ç«™å®‰è£…service workerå¾ˆå®¹æ˜“è¢«æ”»å‡» æµè§ˆå™¨æ”¯æŒæƒ…å†µ æµè§ˆå™¨æ”¯æŒæƒ…å†µè¯¦è§ï¼š https://caniuse.com/#feat=serviceworkers ç”Ÿå‘½å‘¨æœŸ å½“ç”¨æˆ·é¦–æ¬¡å¯¼èˆªè‡³ URL æ—¶ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›å“åº”çš„ç½‘é¡µã€‚ ç¬¬1æ­¥:å½“ä½ è°ƒç”¨ register() å‡½æ•°æ—¶ï¼Œ Service Worker å¼€å§‹ä¸‹è½½ã€‚ ç¬¬2æ­¥:åœ¨æ³¨å†Œè¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨ä¼šä¸‹è½½ã€è§£æå¹¶æ‰§è¡Œ Service Worker ()ã€‚å¦‚æœåœ¨æ­¤æ­¥éª¤ä¸­å‡ºç°ä»»ä½•é”™è¯¯ï¼Œregister() è¿”å›çš„ promise éƒ½ä¼šæ‰§è¡Œ reject æ“ä½œï¼Œå¹¶ä¸” Service Worker ä¼šè¢«åºŸå¼ƒã€‚ ç¬¬3æ­¥:ä¸€æ—¦ Service Worker æˆåŠŸæ‰§è¡Œäº†ï¼Œinstall äº‹ä»¶å°±ä¼šæ¿€æ´» ç¬¬4æ­¥:å®‰è£…å®Œæˆï¼ŒService Worker ä¾¿ä¼šæ¿€æ´»ï¼Œå¹¶æ§åˆ¶åœ¨å…¶èŒƒå›´å†…çš„ä¸€åˆ‡ã€‚å¦‚æœç”Ÿå‘½å‘¨æœŸä¸­çš„æ‰€æœ‰äº‹ä»¶éƒ½æˆåŠŸäº†ï¼ŒService Worker ä¾¿å·²å‡†å¤‡å°±ç»ªï¼Œéšæ—¶å¯ä»¥ä½¿ç”¨äº†ï¼ chrome://serviceworker-internals æ¥äº†è§£å½“å‰æµè§ˆå™¨ä¸­æ‰€æœ‰å·²å®‰è£…Service Workerçš„è¯¦ç»†æƒ…å†µ 3.2.2 HTTPç¼“å­˜ä¸service workerç¼“å­˜ HTTPç¼“å­˜ Web æœåŠ¡å™¨å¯ä»¥ä½¿ç”¨ Expires é¦–éƒ¨æ¥é€šçŸ¥ Web å®¢æˆ·ç«¯ï¼Œå®ƒå¯ä»¥ä½¿ç”¨èµ„æºçš„å½“å‰å‰¯æœ¬ï¼Œç›´åˆ°æŒ‡å®šçš„â€œè¿‡æœŸæ—¶é—´â€ã€‚åè¿‡æ¥ï¼Œæµè§ˆå™¨å¯ä»¥ç¼“å­˜æ­¤èµ„æºï¼Œå¹¶ä¸”åªæœ‰åœ¨æœ‰æ•ˆæœŸæ»¡åæ‰ä¼šå†æ¬¡æ£€æŸ¥æ–°ç‰ˆæœ¬ã€‚ä½¿ç”¨ HTTP ç¼“å­˜æ„å‘³ç€ä½ è¦ä¾èµ–æœåŠ¡å™¨æ¥å‘Šè¯‰ä½ ä½•æ—¶ç¼“å­˜èµ„æºå’Œä½•æ—¶è¿‡æœŸã€‚ service workerç¼“å­˜ Service Workers çš„å¼ºå¤§åœ¨äºå®ƒä»¬æ‹¦æˆª HTTP è¯·æ±‚çš„èƒ½åŠ›è¿›å…¥ä»»ä½•ä¼ å…¥çš„ HTTP è¯·æ±‚ï¼Œå¹¶å†³å®šæƒ³è¦å¦‚ä½•å“åº”ã€‚åœ¨ä½ çš„ Service Worker ä¸­ï¼Œå¯ä»¥ç¼–å†™é€»è¾‘æ¥å†³å®šæƒ³è¦ç¼“å­˜çš„èµ„æºï¼Œä»¥åŠéœ€è¦æ»¡è¶³ä»€ä¹ˆæ¡ä»¶å’Œèµ„æºéœ€è¦ç¼“å­˜å¤šä¹…ã€‚ä¸€åˆ‡å°½å½’ä½ æŒæ§ï¼ 3.2.3 å®ç°ç¦»çº¿ç¼“å­˜index.html 12345678910111213141516171819202122232425&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;title&gt;Hello Caching World!&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;!-- Image --&gt; &lt;img src=\"/images/hello.png\" /&gt; &lt;!-- JavaScript --&gt; &lt;script async src=\"/js/script.js\"&gt;&lt;/script&gt; &lt;script&gt; // æ³¨å†Œ service worker if ('serviceWorker' in navigator) &#123; navigator.serviceWorker.register('/service-worker.js', &#123;scope: '/'&#125;).then(function (registration) &#123; // æ³¨å†ŒæˆåŠŸ console.log('ServiceWorker registration successful with scope: ', registration.scope); &#125;).catch(function (err) &#123; // æ³¨å†Œå¤±è´¥ :( console.log('ServiceWorker registration failed: ', err); &#125;); &#125; &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; æ³¨ï¼šService Worker çš„æ³¨å†Œè·¯å¾„å†³å®šäº†å…¶ scope é»˜è®¤ä½œç”¨é¡µé¢çš„èŒƒå›´ã€‚å¦‚æœ service-worker.js æ˜¯åœ¨ /sw/ é¡µé¢è·¯å¾„ä¸‹ï¼Œè¿™ä½¿å¾—è¯¥ Service Worker é»˜è®¤åªä¼šæ”¶åˆ° é¡µé¢/sw/ è·¯å¾„ä¸‹çš„ fetch äº‹ä»¶ã€‚å¦‚æœå­˜æ”¾åœ¨ç½‘ç«™çš„æ ¹è·¯å¾„ä¸‹ï¼Œåˆ™å°†ä¼šæ”¶åˆ°è¯¥ç½‘ç«™çš„æ‰€æœ‰ fetch äº‹ä»¶ã€‚å¦‚æœå¸Œæœ›æ”¹å˜å®ƒçš„ä½œç”¨åŸŸï¼Œå¯åœ¨ç¬¬äºŒä¸ªå‚æ•°è®¾ç½® scope èŒƒå›´ã€‚ç¤ºä¾‹ä¸­å°†å…¶æ”¹ä¸ºäº†æ ¹ç›®å½•ï¼Œå³å¯¹æ•´ä¸ªç«™ç‚¹ç”Ÿæ•ˆã€‚ service-worker.js 1234567891011121314151617181920212223242526272829303132333435363738394041var cacheName = 'helloWorld'; // ç¼“å­˜çš„åç§° // install äº‹ä»¶ï¼Œå®ƒå‘ç”Ÿåœ¨æµè§ˆå™¨å®‰è£…å¹¶æ³¨å†Œ Service Worker æ—¶ self.addEventListener('install', event =&gt; &#123; /* event.waitUtil ç”¨äºåœ¨å®‰è£…æˆåŠŸä¹‹å‰æ‰§è¡Œä¸€äº›é¢„è£…é€»è¾‘ ä½†æ˜¯å»ºè®®åªåšä¸€äº›è½»é‡çº§å’Œéå¸¸é‡è¦èµ„æºçš„ç¼“å­˜ï¼Œå‡å°‘å®‰è£…å¤±è´¥çš„æ¦‚ç‡ å®‰è£…æˆåŠŸå ServiceWorker çŠ¶æ€ä¼šä» installing å˜ä¸º installed */ event.waitUntil( caches.open(cacheName) .then(cache =&gt; cache.addAll([ // å¦‚æœæ‰€æœ‰çš„æ–‡ä»¶éƒ½æˆåŠŸç¼“å­˜äº†ï¼Œä¾¿ä¼šå®‰è£…å®Œæˆã€‚å¦‚æœä»»ä½•æ–‡ä»¶ä¸‹è½½å¤±è´¥äº†ï¼Œé‚£ä¹ˆå®‰è£…è¿‡ç¨‹ä¹Ÿä¼šéšä¹‹å¤±è´¥ã€‚ '/js/script.js', '/images/hello.png' ])) );&#125;); /**ä¸º fetch äº‹ä»¶æ·»åŠ ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚æ¥ä¸‹æ¥ï¼Œä½¿ç”¨ caches.match() å‡½æ•°æ¥æ£€æŸ¥ä¼ å…¥çš„è¯·æ±‚ URL æ˜¯å¦åŒ¹é…å½“å‰ç¼“å­˜ä¸­å­˜åœ¨çš„ä»»ä½•å†…å®¹ã€‚å¦‚æœå­˜åœ¨çš„è¯ï¼Œè¿”å›ç¼“å­˜çš„èµ„æºã€‚å¦‚æœèµ„æºå¹¶ä¸å­˜åœ¨äºç¼“å­˜å½“ä¸­ï¼Œé€šè¿‡ç½‘ç»œæ¥è·å–èµ„æºï¼Œå¹¶å°†è·å–åˆ°çš„èµ„æºæ·»åŠ åˆ°ç¼“å­˜ä¸­ã€‚*/self.addEventListener('fetch', function (event) &#123; event.respondWith( caches.match(event.request) .then(function (response) &#123; if (response) &#123; return response; &#125; var requestToCache = event.request.clone(); // return fetch(requestToCache).then( function (response) &#123; if (!response || response.status !== 200) &#123; return response; &#125; var responseToCache = response.clone(); caches.open(cacheName) .then(function (cache) &#123; cache.put(requestToCache, responseToCache); &#125;); return response; &#125;) );&#125;); æ³¨ï¼šä¸ºä»€ä¹ˆç”¨request.clone()å’Œresponse.clone()éœ€è¦è¿™ä¹ˆåšæ˜¯å› ä¸ºrequestå’Œresponseæ˜¯ä¸€ä¸ªæµï¼Œå®ƒåªèƒ½æ¶ˆè€—ä¸€æ¬¡ã€‚å› ä¸ºæˆ‘ä»¬å·²ç»é€šè¿‡ç¼“å­˜æ¶ˆè€—äº†ä¸€æ¬¡ï¼Œç„¶åå‘èµ· HTTP è¯·æ±‚è¿˜è¦å†æ¶ˆè€—ä¸€æ¬¡ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨æ­¤æ—¶å…‹éš†è¯·æ±‚Clone the requestâ€”a request is a stream and can only be consumed once. 3.2.4 è°ƒè¯•ç›¸å…³chromeæµè§ˆå™¨æ‰“å¼€https://googlechrome.github.io/samples/service-worker/basic/index.htmlï¼Œè¿™æ˜¯ä¸€ä¸ªå®ç°äº†service workerç¦»çº¿ç¼“å­˜åŠŸèƒ½çš„ç½‘ç«™ï¼Œæ‰“å¼€è°ƒè¯•å·¥å…· ä»‹ç»ä¸€ä¸ªå›¾ä¸­çš„1.å’Œ2. å‹¾é€‰å¯ä»¥æ¨¡æ‹Ÿç½‘ç«™ç¦»çº¿æƒ…å†µï¼Œå‹¾é€‰ånetworkä¼šæœ‰ä¸€ä¸ªé»„è‰²è­¦å‘Šå›¾æ ‡ï¼Œè¯¥ç½‘ç«™å·²ç»ç¦»çº¿ã€‚æ­¤æ—¶åˆ·æ–°é¡µé¢ï¼Œé¡µé¢ä»ç„¶èƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤º å½“å‰service workerçš„scopeã€‚å®ƒèƒ½å¤Ÿæ‹¦æˆªhttps://googlechrome.github.iâ€¦ï¼ŒåŒæ ·ä¹Ÿèƒ½å¤Ÿæ‹¦æˆªhttps://googlechrome.github.iâ€¦/.htmlä¸‹çš„è¯·æ±‚ è°ƒè¯•é¢æ¿å…·ä½“ä»£è¡¨çš„ä»€ä¹ˆå‚çœ‹https://x5.tencent.com/tbs/guide/serviceworker.htmlçš„ç¬¬ä¸‰éƒ¨åˆ† 3.3 serice workerå®ç°æ¶ˆæ¯æ¨é€ æ­¥éª¤ä¸€ã€æç¤ºç”¨æˆ·å¹¶è·å¾—ä»–ä»¬çš„è®¢é˜…è¯¦ç»†ä¿¡æ¯ æ­¥éª¤äºŒã€å°†è¿™äº›è¯¦ç»†ä¿¡æ¯ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Š æ­¥éª¤ä¸‰ã€åœ¨éœ€è¦æ—¶å‘é€ä»»ä½•æ¶ˆæ¯ ä¸åŒæµè§ˆå™¨éœ€è¦ç”¨ä¸åŒçš„æ¨é€æ¶ˆæ¯æœåŠ¡å™¨ã€‚ä»¥ Chrome ä¸Šä½¿ç”¨ Google Cloud Messaging ä½œä¸ºæ¨é€æœåŠ¡ä¸ºä¾‹ï¼Œç¬¬ä¸€æ­¥æ˜¯æ³¨å†Œ applicationServerKey(é€šè¿‡ GCM æ³¨å†Œè·å–)ï¼Œå¹¶åœ¨é¡µé¢ä¸Šè¿›è¡Œè®¢é˜…æˆ–å‘èµ·è®¢é˜…ã€‚æ¯ä¸€ä¸ªä¼šè¯ä¼šæœ‰ä¸€ä¸ªç‹¬ç«‹çš„ç«¯ç‚¹ï¼ˆendpointï¼‰ï¼Œè®¢é˜…å¯¹è±¡çš„å±æ€§(PushSubscription.endpoint) å³ä¸ºç«¯ç‚¹å€¼ã€‚å°†ç«¯ç‚¹å‘é€ç»™æœåŠ¡å™¨åï¼ŒæœåŠ¡å™¨ç”¨è¿™ä¸€å€¼æ¥å‘é€æ¶ˆæ¯ç»™ä¼šè¯çš„æ¿€æ´»çš„ Service Worker ï¼ˆé€šè¿‡ GCM ä¸æµè§ˆå™¨å®¢æˆ·ç«¯æ²Ÿé€šï¼‰ã€‚ æ­¥éª¤ä¸€å’Œæ­¥éª¤äºŒ index.html 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;title&gt;Progressive Times&lt;/title&gt; &lt;link rel=\"manifest\" href=\"/manifest.json\"&gt; &lt;/head&gt; &lt;body&gt; &lt;script&gt; var endpoint; var key; var authSecret; var vapidPublicKey = 'BAyb_WgaR0L0pODaR7wWkxJi__tWbM1MPBymyRDFEGjtDCWeRYS9EF7yGoCHLdHJi6hikYdg4MuYaK0XoD0qnoY'; // æ–¹æ³•å¾ˆå¤æ‚ï¼Œä½†æ˜¯å¯ä»¥ä¸ç”¨å…·ä½“çœ‹ï¼ŒçŸ¥è¯†ç”¨æ¥è½¬åŒ–vapidPublicKeyç”¨ function urlBase64ToUint8Array(base64String) &#123; const padding = '='.repeat((4 - base64String.length % 4) % 4); const base64 = (base64String + padding) .replace(/\\-/g, '+') .replace(/_/g, '/'); const rawData = window.atob(base64); const outputArray = new Uint8Array(rawData.length); for (let i = 0; i &lt; rawData.length; ++i) &#123; outputArray[i] = rawData.charCodeAt(i); &#125; return outputArray; &#125; if ('serviceWorker' in navigator) &#123; navigator.serviceWorker.register('sw.js').then(function (registration) &#123; return registration.pushManager.getSubscription() .then(function (subscription) &#123; if (subscription) &#123; return; &#125; return registration.pushManager.subscribe(&#123; userVisibleOnly: true, applicationServerKey: urlBase64ToUint8Array(vapidPublicKey) &#125;) .then(function (subscription) &#123; var rawKey = subscription.getKey ? subscription.getKey('p256dh') : ''; key = rawKey ? btoa(String.fromCharCode.apply(null, new Uint8Array(rawKey))) : ''; var rawAuthSecret = subscription.getKey ? subscription.getKey('auth') : ''; authSecret = rawAuthSecret ? btoa(String.fromCharCode.apply(null, new Uint8Array(rawAuthSecret))) : ''; endpoint = subscription.endpoint; return fetch('./register', &#123; method: 'post', headers: new Headers(&#123; 'content-type': 'application/json' &#125;), body: JSON.stringify(&#123; endpoint: subscription.endpoint, key: key, authSecret: authSecret, &#125;), &#125;); &#125;); &#125;); &#125;).catch(function (err) &#123; // æ³¨å†Œå¤±è´¥ :( console.log('ServiceWorker registration failed: ', err); &#125;); &#125; &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; æ­¥éª¤ä¸‰ æœåŠ¡å™¨å‘é€æ¶ˆæ¯ç»™service worker app.js 123456789101112131415161718192021222324252627282930313233343536const webpush = require('web-push'); const express = require('express');var bodyParser = require('body-parser');const app = express();webpush.setVapidDetails( 'mailto:contact@deanhume.com', 'BAyb_WgaR0L0pODaR7wWkxJi__tWbM1MPBymyRDFEGjtDCWeRYS9EF7yGoCHLdHJi6hikYdg4MuYaK0XoD0qnoY', 'p6YVD7t8HkABoez1CvVJ5bl7BnEdKUu5bSyVjyxMBh0');app.post('/register', function (req, res) &#123; var endpoint = req.body.endpoint; saveRegistrationDetails(endpoint, key, authSecret); const pushSubscription = &#123; endpoint: req.body.endpoint, keys: &#123; auth: req.body.authSecret, p256dh: req.body.key &#125; &#125;; var body = 'Thank you for registering'; var iconUrl = 'https://example.com/images/homescreen.png'; // å‘é€ Web æ¨é€æ¶ˆæ¯ webpush.sendNotification(pushSubscription, JSON.stringify(&#123; msg: body, url: 'http://localhost:3111/', icon: iconUrl &#125;)) .then(result =&gt; res.sendStatus(201)) .catch(err =&gt; &#123; console.log(err); &#125;);&#125;);app.listen(3111, function () &#123; console.log('Web push app listening on port 3111!')&#125;); service workerç›‘å¬pushäº‹ä»¶ï¼Œå°†é€šçŸ¥è¯¦æƒ…æ¨é€ç»™ç”¨æˆ· service-worker.js 12345678910111213self.addEventListener('push', function (event) &#123; // æ£€æŸ¥æœåŠ¡ç«¯æ˜¯å¦å‘æ¥äº†ä»»ä½•æœ‰æ•ˆè½½è·æ•°æ® var payload = event.data ? JSON.parse(event.data.text()) : 'no payload'; var title = 'Progressive Times'; event.waitUntil( // ä½¿ç”¨æä¾›çš„ä¿¡æ¯æ¥æ˜¾ç¤º Web æ¨é€é€šçŸ¥ self.registration.showNotification(title, &#123; body: payload.msg, url: payload.url, icon: payload.icon &#125;) );&#125;); æ‰©å±•çŸ¥è¯†ï¼šservice workerçš„æ›´æ–° æ€»ç»“PWAçš„ä¼˜åŠ¿ å¯ä»¥å°†appçš„å¿«æ·æ–¹å¼æ”¾ç½®åˆ°æ¡Œé¢ä¸Šï¼Œå…¨å±è¿è¡Œï¼Œä¸åŸç”Ÿappæ— å¼‚ èƒ½å¤Ÿåœ¨å„ç§ç½‘ç»œç¯å¢ƒä¸‹ä½¿ç”¨ï¼ŒåŒ…æ‹¬ç½‘ç»œå·®å’Œæ–­ç½‘æ¡ä»¶ä¸‹ï¼Œä¸ä¼šæ˜¾ç¤ºundefind æ¨é€æ¶ˆæ¯çš„èƒ½åŠ› å…¶æœ¬è´¨æ˜¯ä¸€ä¸ªç½‘é¡µï¼Œæ²¡æœ‰åŸç”Ÿappçš„å„ç§å¯åŠ¨æ¡ä»¶ï¼Œå¿«é€Ÿå“åº”ç”¨æˆ·æŒ‡ä»¤ PWAå­˜åœ¨çš„é—®é¢˜ æ”¯æŒç‡ä¸é«˜:ç°åœ¨iosæ‰‹æœºç«¯ä¸æ”¯æŒpwaï¼ŒIEä¹Ÿæš‚æ—¶ä¸æ”¯æŒ Chromeåœ¨ä¸­å›½æ¡Œé¢ç‰ˆå æœ‰ç‡è¿˜æ˜¯ä¸é”™çš„ï¼Œå®‰å“ç§»åŠ¨ç«¯ä¸Šçš„å æœ‰ç‡å´å¾ˆä½ å„å¤§å‚å•†è¿˜æœªæ˜ç¡®æ”¯æŒpwa ä¾èµ–çš„GCMæœåŠ¡åœ¨å›½å†…æ— æ³•ä½¿ç”¨ å¾®ä¿¡å°ç¨‹åºçš„ç«äº‰ å°½ç®¡æœ‰ä¸Šè¿°çš„ä¸€äº›ç¼ºç‚¹ï¼ŒPWAæŠ€æœ¯ä»ç„¶æœ‰å¾ˆå¤šå¯ä»¥ä½¿ç”¨çš„ç‚¹ã€‚ service workeræŠ€æœ¯å®ç°ç¦»çº¿ç¼“å­˜ï¼Œå¯ä»¥å°†ä¸€äº›ä¸ç»å¸¸æ›´æ”¹çš„é™æ€æ–‡ä»¶æ”¾åˆ°ç¼“å­˜ä¸­ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚ service workerå®ç°æ¶ˆæ¯æ¨é€ï¼Œä½¿ç”¨æµè§ˆå™¨æ¨é€åŠŸèƒ½ï¼Œå¸å¼•ç”¨æˆ· æ¸è¿›å¼å¼€å‘ï¼Œå°½ç®¡ä¸€äº›æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒï¼Œå¯ä»¥åˆ©ç”¨ä¸Šè¿°æŠ€æœ¯ç»™ä½¿ç”¨æ”¯æŒæµè§ˆå™¨çš„ç”¨æˆ·å¸¦æ¥æ›´å¥½çš„ä½“éªŒã€‚ å‚è€ƒæ–‡æ¡£ ç¬¬ä¸€æœ¬ PWA ä¸­æ–‡ä¹¦ PWA è‹±æ–‡ä¹¦ ç½‘ç«™æ¸è¿›å¼å¢å¼ºä½“éªŒ(PWA)æ”¹é€ ï¼šService Worker åº”ç”¨è¯¦è§£ Basic Service Worker Sample ã€ç¿»è¯‘ã€‘Service Worker å…¥é—¨ Web App Manifest Service Workers: an Introduction The Offline Cookbook å¾®ä¿¡å°ç¨‹åºå’ŒPWAå¯¹æ¯”åˆ†æ Service Workeræœ€ä½³å®è·µ åŸæ–‡åœ°å€","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯å·¥ç¨‹åŒ–","slug":"å‰ç«¯å·¥ç¨‹åŒ–","permalink":"https://yangyfeng.github.io/blogpost/tags/å‰ç«¯å·¥ç¨‹åŒ–/"}]},{"title":"â¼¤â¼šâ¾¯è¯•ç« æ³•","slug":"å‰ç«¯æ¯æ—¥ä¸€é¢˜/â¼¤â¼šâ¾¯è¯•ç« æ³•","date":"2020-11-16T01:22:00.000Z","updated":"2021-04-29T09:39:35.974Z","comments":true,"path":"/posts/37eb3f8a.html","link":"","permalink":"https://yangyfeng.github.io/posts/37eb3f8a.html","excerpt":"ç®€å†2â»šä»¥å†…ï¼Œç®€å†æœ‰ç‚¹ç±»ä¼¼ç›¸äº²çš„ä»‹ç»ï¼Œâ¼©æ—¶å€™æ‹¿è¿‡ä¸‰å¥½å­¦ â½£å°±åˆ«è¯´äº†ï¼Œå°±åƒåˆ«å†™ä½ ä¼šhtml+cssï¼Œåˆ«å†™ä½ â½¤vueåš è¿‡todolistâ¼€æ · çªå‡ºâ¾ƒâ¼°çš„æŠ€æœ¯äº®ç‚¹ åˆ«çå†™ç²¾é€š markdownå°±å¥½ï¼Œåˆ«â½¤word çªå‡ºäº®ç‚¹ï¼ â½¬æ ‡å…¬å¸å¤©çœ¼æŸ¥ï¼Œè„‰è„‰ï¼ŒçŸ¥ä¹ å¦‚ä½•æè¿°åšè¿‡çš„é¡¹â½¬ åšè¿‡çš„æ˜æ˜Ÿé¡¹â½¬ é¡¹â½¬æŠ€æœ¯æ ˆå’Œç»†èŠ‚ æºç æ·±åº¦ ä¼˜åŒ–ï¼Œæ€§èƒ½ï¼Œä½“éªŒï¼Œæå®¢ å¡«å‘ æˆâ»“ â¾¯è¯•æŠ€å·§åˆè®¡ è®¤è¯†â¾ƒâ¼°ï¼ˆå¸‚åœºï¼‰ é˜è¿°ä¼˜åŠ¿ è°ˆåˆ¤å¾—æ¥çš„ éƒ½æ˜¯çº¯åˆ©æ¶¦ hrç»†èŠ‚(è€ƒå‹¤ï¼Œè¡¥è´´ï¼Œ996ï¼Œäº”é™©â¼€â¾¦ï¼Œè¡¥è´´ â¼€ä¸ªâ¾¯è¯•é¢˜çš„ç²¾è®² ç²¾è®²é¢è¯•é¢˜ä¹‹å‰ç«¯â½‚ä»¶ä¸Šä¼ 1ã€åŸç†æ¦‚è¿° è€ƒå¯Ÿå…¨æ ˆæ€ç»´ï¼Œhttpåè®® ï¼Œnodeâ½‚ä»¶å¤„ç† æˆ‘â½¤vue+element+nodejsæ¥æ¼”ç¤º åŸºæœ¬ç­”æ¡ˆ ï¼ˆ10Kï¼‰","text":"ç®€å†2â»šä»¥å†…ï¼Œç®€å†æœ‰ç‚¹ç±»ä¼¼ç›¸äº²çš„ä»‹ç»ï¼Œâ¼©æ—¶å€™æ‹¿è¿‡ä¸‰å¥½å­¦ â½£å°±åˆ«è¯´äº†ï¼Œå°±åƒåˆ«å†™ä½ ä¼šhtml+cssï¼Œåˆ«å†™ä½ â½¤vueåš è¿‡todolistâ¼€æ · çªå‡ºâ¾ƒâ¼°çš„æŠ€æœ¯äº®ç‚¹ åˆ«çå†™ç²¾é€š markdownå°±å¥½ï¼Œåˆ«â½¤word çªå‡ºäº®ç‚¹ï¼ â½¬æ ‡å…¬å¸å¤©çœ¼æŸ¥ï¼Œè„‰è„‰ï¼ŒçŸ¥ä¹ å¦‚ä½•æè¿°åšè¿‡çš„é¡¹â½¬ åšè¿‡çš„æ˜æ˜Ÿé¡¹â½¬ é¡¹â½¬æŠ€æœ¯æ ˆå’Œç»†èŠ‚ æºç æ·±åº¦ ä¼˜åŒ–ï¼Œæ€§èƒ½ï¼Œä½“éªŒï¼Œæå®¢ å¡«å‘ æˆâ»“ â¾¯è¯•æŠ€å·§åˆè®¡ è®¤è¯†â¾ƒâ¼°ï¼ˆå¸‚åœºï¼‰ é˜è¿°ä¼˜åŠ¿ è°ˆåˆ¤å¾—æ¥çš„ éƒ½æ˜¯çº¯åˆ©æ¶¦ hrç»†èŠ‚(è€ƒå‹¤ï¼Œè¡¥è´´ï¼Œ996ï¼Œäº”é™©â¼€â¾¦ï¼Œè¡¥è´´ â¼€ä¸ªâ¾¯è¯•é¢˜çš„ç²¾è®² ç²¾è®²é¢è¯•é¢˜ä¹‹å‰ç«¯â½‚ä»¶ä¸Šä¼ 1ã€åŸç†æ¦‚è¿° è€ƒå¯Ÿå…¨æ ˆæ€ç»´ï¼Œhttpåè®® ï¼Œnodeâ½‚ä»¶å¤„ç† æˆ‘â½¤vue+element+nodejsæ¥æ¼”ç¤º åŸºæœ¬ç­”æ¡ˆ ï¼ˆ10Kï¼‰ 123formData&lt;input type=\"file\" @change=\"handleFileChange\" /&gt;&lt;el-button type=\"primary\" @click=\"handleUpload\"&gt;ä¸Šä¼ &lt;/el-button&gt; 12345678jshandleFileChange(e) &#123; const [file] = e.target.files; if (!file) return; form.append(\"filename\", this.container.file.name); form.append(\"file\", this.container.file); request(&#123;url: '/upload', 9 data: form&#125;) &#125;, 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152nodeconst http = require(\"http\")const path = require('path')const Controller = require('./controller')const schedule = require('./schedule')const server = http.createServer()const UPLOAD_DIR = path.resolve(__dirname, \"..\", \"target\"); // â¼¤â½‚ä»¶å­˜å‚¨â½¬å½•// schedule.start(UPLOAD_DIR) const ctrl = new Controller(UPLOAD_DIR) server.on(\"request\", async (req, res) =&gt; &#123; res.setHeader(\"Access-Control-Allow\u0002Origin\", \"*\") res.setHeader(\"Access-Control-Allow\u0002Headers\", \"*\") if (req.method === \"OPTIONS\") &#123; res.status = 200 res.end() return &#125; if (req.method === \"POST\") &#123; if (req.url == '/upload') &#123; await ctrl.handleUpload(req, res) return &#125; &#125; &#125;) server.listen(3000, () =&gt; console.log(\"æ­£åœ¨ç›‘å¬ 3000 ç«¯â¼\")) Controller.js async handleUpload(req, res) &#123; const multipart = new multiparty.Form() multipart.parse(req, async (err, field, file) =&gt; &#123; if (err) &#123; console.log(err) return &#125; const [chunk] = file.file const [filename] = field.filename const filePath = path.resolve(this.UPLOAD_DIR, `$&#123;fileHash&#125;$&#123;extractExt(filename)&#125;`) const chunkDir = path.resolve(this.UPLOAD_DIR, fileHash) // â½‚ä»¶å­˜åœ¨ç›´æ¥è¿”å› if (fse.existsSync(filePath)) &#123; res.end(\"file exist\") return &#125; if (!fse.existsSync(chunkDir)) &#123; await fse.mkdirs(chunkDir) &#125; await fse.move(chunk.path, `$&#123;chunkDir&#125;/$&#123;hash&#125;`) res.end(\"received file chunk\") &#125;) &#125; æ€»ç»“ï¼š formData httpserver fsâ½‚ä»¶å¤„ç† multipartyè§£æpostæ•°æ® åŠ åˆ†é¡¹-æ‹–æ‹½ï¼Œç²˜è´´ è€ƒç‚¹: æ‹–æ‹½äº‹ä»¶dropï¼ŒclipboardData 123456789101112131415161718&lt;div class=\"drop-box\" id=\"drop-box\"&gt;// æ‹–æ‹½box.addEventListener(\"drop\", function (e) &#123; e.preventDefault(); //å–æ¶ˆæµè§ˆå™¨é»˜è®¤æ‹–æ‹½æ•ˆæœ var fileList = e.dataTransfer.files; //è·å–æ‹–æ‹½ä¸­çš„â½‚ä»¶å¯¹è±¡ var len = fileList.length; //â½¤æ¥è·å–â½‚ä»¶çš„â»“åº¦ï¼ˆå…¶å®æ˜¯è·å¾—â½‚ä»¶æ•°é‡ï¼‰ const [file] = e.target.files; if (!file) return; // ...ä¸Šä¼  &#125;, false)// ç²˜è´´ box.addEventListener('paste', function (event) &#123; var data = (event.clipboardData) // .... &#125;); â¼¤â½‚ä»¶ä¸Šä¼ (20K) blob.sliceåˆ†â½š æ€æƒ³+è¯­æ³• 123456789101112const chunks = this.createFileChunk(this.container.file);createFileChunk(file, size = SIZE) &#123; // â½£æˆâ½‚ä»¶å— const chunks = []; let cur = 0; while (cur &lt; file.size) &#123; chunks.push(&#123; file: file.slice(cur, cur + size) &#125;); cur += size; &#125; return chunks; &#125; æ‰€æœ‰åˆ‡â½šæŒ¨ä¸ªå‘è¯·æ±‚ï¼Œç„¶åmerge 12345678910111213141516async handleMerge(req, res) &#123; const data = await resolvePost(req) const &#123; fileHash, filename, size &#125; = data const ext = extractExt(filename) const filePath = path.resolve(this.UPLOAD_DIR, `$&#123;fileHash&#125;$&#123;ext&#125;`) await this.mergeFileChunk(filePath, fileHash, size) res.end(JSON.stringify(&#123; code: 0, message: \"file merged success\" &#125;)) &#125; æ–­ç‚¹ç»­ä¼ +ç§’ä¼  md5è®¡ç®—ï¼Œç¼“å­˜æ€æƒ³ â½‚ä»¶â½¤md5è®¡ç®—â¼€ä¸ªæŒ‡çº¹ï¼Œä¸Šä¼ ä¹‹å‰ï¼Œå…ˆé—®åç«¯ï¼Œè¿™ä¸ªâ½‚ä»¶çš„hashåœ¨ä¸åœ¨ï¼Œåœ¨çš„è¯å°±ä¸â½¤ä¼ äº†ï¼Œå°±æ˜¯æ‰€è°“çš„æ–­ç‚¹ç»­ä¼ ï¼Œå¦‚æœæ•´ä¸ªâ½‚ä»¶éƒ½å­˜åœ¨äº† å°±æ˜¯ç§’ä¼  123456789101112131415161718192021222324async handleVerify(req, res) &#123; const data = await resolvePost(req) const &#123; filename, hash &#125; = data const ext = extractExt(filename) const filePath = path.resolve(this.UPLOAD_DIR, `$&#123;hash&#125;$&#123;ext&#125;`) // â½‚ä»¶æ˜¯å¦å­˜åœ¨ let uploaded = false let uploadedList = [] if (fse.existsSync(filePath)) &#123; uploaded = true &#125; else &#123; // â½‚ä»¶æ²¡æœ‰å®Œå…¨ä¸Šä¼ å®Œæ¯•ï¼Œä½†æ˜¯å¯èƒ½å­˜åœ¨éƒ¨åˆ†åˆ‡â½šä¸Šä¼ å®Œæ¯•äº† uploadedList = await getUploadedList(path.resolve(this.UPLOAD_DIR, hash)) &#125; res.end( JSON.stringify(&#123; uploaded, uploadedList // è¿‡æ»¤è¯¡å¼‚çš„éšè—â½‚ä»¶ &#125;) ) &#125; è®¡ç®—hashä¼˜åŒ–(25+) 1ã€web-worker â¼¤â½‚ä»¶çš„md5å¤ªæ…¢äº†,å¯â½¤webworkerè®¡ç®— 123456789101112131415161718192021222324252627282930313233343536373839// web-worker self.importScripts('spark-md5.min.js') self.onmessage = e =&gt; &#123; // æ¥å—ä¸»çº¿ç¨‹çš„é€šçŸ¥ const &#123; chunks &#125; = e.data const spark = new self.SparkMD5.ArrayBuffer() let progress = 0 let count = 0 const loadNext = index =&gt; &#123; const reader = new FileReader() reader.readAsArrayBuffer(chunks[index].file) reader.onload = e =&gt; &#123; // ç´¯åŠ å™¨ ä¸èƒ½ä¾èµ–indexï¼Œ count++ // å¢é‡è®¡ç®—md5 spark.append(e.target.result) if (count === chunks.length) &#123; // é€šçŸ¥ä¸»çº¿ç¨‹ï¼Œè®¡ç®—ç»“æŸ self.postMessage(&#123; progress: 100, hash: spark.end() &#125;) &#125; else &#123; // æ¯ä¸ªåŒºå—è®¡ç®—ç»“æŸï¼Œé€šçŸ¥è¿›åº¦å³å¯ progress += 100 / chunks.length self.postMessage(&#123; progress &#125;) // è®¡ç®—ä¸‹â¼€ä¸ª loadNext(count) &#125; &#125; &#125; // å¯åŠ¨ loadNext(0) &#125; 1ã€time-slice(30+) react fifiberæ¶æ„å­¦ä¹ ï¼Œåˆ©â½¤æµè§ˆå™¨ç©ºé—²æ—¶é—´ requestIdleCallback 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960requestIdelCallback(myNonEssentialWork); function myNonEssentialWork(deadline) &#123; // deadline.timeRemaining()å¯ä»¥è·å–åˆ°å½“å‰å¸§å‰©ä½™æ—¶é—´ // å½“å‰å¸§è¿˜æœ‰æ—¶é—´ å¹¶ä¸”ä»»åŠ¡é˜Ÿåˆ—ä¸ä¸ºç©º while (deadline.timeRemaining() &gt; 0 &amp;&amp; tasks.length &gt; 0) &#123; doWorkIfNeeded(); &#125; if (tasks.length &gt; 0) &#123; requestIdleCallback(myNonEssentialWork); &#125; &#125; async calculateHashIdle(chunks) &#123; return new Promise(resolve =&gt; &#123; const spark = new SparkMD5.ArrayBuffer(); let count = 0; // æ ¹æ®â½‚ä»¶å†…å®¹è¿½åŠ è®¡ç®— const appendToSpark = async file =&gt; &#123; return new Promise(resolve =&gt; &#123; const reader = new FileReader(); reader.readAsArrayBuffer(file); reader.onload = e =&gt; &#123; spark.append(e.target.result); resolve(); &#125;; &#125;); &#125;; const workLoop = async deadline =&gt; &#123; // æœ‰ä»»åŠ¡ï¼Œå¹¶ä¸”å½“å‰å¸§è¿˜æ²¡ç»“æŸ while (count &lt; chunks.length &amp;&amp; deadline.timeRemaining() &gt; 1) &#123; await appendToSpark(chunks[count].file); count++; // æ²¡æœ‰äº† è®¡ç®—å®Œæ¯• if (count &lt; chunks.length) &#123; // è®¡ç®—ä¸­ this.hashProgress = Number( ((100 * count) / chunks.length).toFixed(2) ); console.log(this.hashProgress) &#125; else &#123; // è®¡ç®—å®Œæ¯• this.hashProgress = 100; resolve(spark.end()); &#125; &#125; window.requestIdleCallback(workLoop); &#125;; &#125;) &#125; 3ã€ç®—æ³•ä¼˜åŒ– ç²¾è®²é¢è¯•é¢˜ä¹‹è¯·æ±‚å¹¶å‘æ•°æ§åˆ¶å’Œé‡è¯• 1ã€åŸºæœ¬å®ç° 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576async sendRequest(forms, max = 4) &#123; return new Promise(resolve =&gt; &#123; const len = forms.length; let idx = 0; let counter = 0; const start = async () =&gt; &#123; // æœ‰è¯·æ±‚ï¼Œæœ‰é€šé“ while (idx &lt; len &amp;&amp; max &gt; 0) &#123; max--; // å â½¤é€šé“ console.log(idx, \"start\"); const form = forms[idx].form; const index = forms[idx].index; + idx++ request(&#123; url: '/upload', data: form, onProgress: this.createProgresshandler(this.chunks[ index]), requestList: this.requestList &#125;).then(() =&gt; &#123; max++; // é‡Šæ”¾é€šé“ counter++; if (counter === len) &#123; resolve(); &#125; else &#123; start(); &#125; &#125;); &#125; &#125; start(); &#125;); &#125; async uploadChunks(uploadedList = []) &#123; // è¿™â¾¥â¼€èµ·ä¸Šä¼ ï¼Œç¢°â»…â¼¤â½‚ä»¶å°±æ˜¯ç¾éš¾ // æ²¡è¢«hashè®¡ç®—æ‰“åˆ°ï¼Œè¢«â¼€æ¬¡æ€§çš„tcpé“¾æ¥æŠŠæµè§ˆå™¨ç¨¿æŒ‚äº† // å¼‚æ­¥å¹¶å‘æ§åˆ¶ç­–ç•¥ï¼Œæˆ‘è®°å¾—è¿™ä¸ªä¹Ÿæ˜¯å¤´æ¡â¼€ä¸ªâ¾¯è¯•é¢˜ // â½å¦‚å¹¶å‘é‡æ§åˆ¶æˆ4 const list = this.chunks.filter(chunk =&gt; uploadedList.indexOf(chunk.hash) == -1) .map((&#123; chunk, hash, index &#125;, i) =&gt; &#123; const form = new FormData(); form.append(\"chunk\", chunk); form.append(\"hash\", hash); form.append(\"filename\", this.container.file.name); form.append(\"fileHash\", this.container.hash); return &#123; form, index &#125;; &#125;).map((&#123; form, index &#125;) =&gt; request(&#123; url: \"/upload\", data: form, onProgress: this.createProgresshandler(this.chunks[index]), requestList: this.requestList &#125;) ); // ç›´æ¥å…¨é‡å¹¶å‘ await Promise.all(list); // æ§åˆ¶å¹¶å‘ const ret = await this.sendRequest(list, 4) if (uploadedList.length + list.length === this.chunks.length) &#123; // ä¸Šä¼ å’Œå·²ç»å­˜åœ¨ä¹‹å’Œ ç­‰äºå…¨éƒ¨çš„å†åˆå¹¶ await this.mergeRequest(); &#125; &#125; 2ã€æ…¢å¯åŠ¨ç­–ç•¥ TCPæ‹¥å¡æ§åˆ¶çš„é—®é¢˜ å…¶å®å°±æ˜¯æ ¹æ®å½“å‰â½¹ç»œæƒ…å†µï¼ŒåŠ¨æ€ è°ƒæ•´åˆ‡â½šçš„â¼¤â¼© chunkä¸­å¸¦ä¸Šsizeå€¼ï¼Œä¸è¿‡è¿›åº¦æ¡æ•°é‡ä¸ç¡®å®šäº†ï¼Œä¿®æ”¹createFileChunkï¼Œ è¯·æ±‚åŠ ä¸Šæ—¶é—´ç»Ÿè®¡) â½å¦‚æˆ‘ä»¬ç†æƒ³æ˜¯30ç§’ä¼ é€’â¼€ä¸ª åˆå§‹â¼¤â¼©å®šä¸º1Mï¼Œå¦‚æœä¸Šä¼ èŠ±äº†10ç§’ï¼Œé‚£ä¸‹â¼€ä¸ªåŒºå—â¼¤â¼©å˜æˆ3M å¦‚æœä¸Šä¼ èŠ±äº†60ç§’ï¼Œé‚£ä¸‹â¼€ä¸ªåŒºå—â¼¤â¼©å˜æˆ500KBä»¥æ­¤ç±»æ¨ å¹¶å‘+æ…¢å¯åŠ¨çš„é€»è¾‘æœ‰äº›å¤æ‚ï¼Œæˆ‘â¾ƒâ¼°è¿˜æ²¡ç»•æ˜â½©ï¼Œå›§æ‰€ä»¥å…ˆâ¼€æ¬¡åªä¼ â¼€ä¸ªåˆ‡â½šï¼Œæ¥æ¼”ç¤ºè¿™ä¸ªé€»è¾‘ï¼Œæ–°å»ºâ¼€ä¸ªhandleUpload1å‡½æ•° 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950async handleUpload1() &#123; // @todoæ•°æ®ç¼©æ”¾çš„â½ç‡ å¯ä»¥æ›´å¹³ç¼“ // @todo å¹¶å‘+æ…¢å¯åŠ¨ // æ…¢å¯åŠ¨ä¸Šä¼ é€»è¾‘ const file = this.container.file if (!file) return; this.status = Status.uploading; const fileSize = file.size let offset = 1024 * 1024 let cur = 0 let count = 0 this.container.hash = await this.calculateHashSample(); while (cur &lt; fileSize) &#123; // åˆ‡å‰²offfsetâ¼¤â¼© const chunk = file.slice(cur, cur + offset) cur += offset const chunkName = this.container.hash + \"-\" + count; const form = new FormData(); form.append(\"chunk\", chunk); form.append(\"hash\", chunkName); form.append(\"filename\", file.name); form.append(\"fileHash\", this.container.hash); form.append(\"size\", chunk.size); let start = new Date().getTime() await request(&#123; url: '/upload', data: form &#125;) const now = new Date().getTime() const time = ((now - start) / 1000).toFixed(4) let rate = time / 30 // é€Ÿç‡æœ‰æœ€â¼¤2å’Œæœ€â¼©0.5 if (rate &lt; 0.5) rate = 0.5 if (rate &gt; 2) rate = 2 // æ–°çš„åˆ‡â½šâ¼¤â¼©ç­‰â½å˜åŒ– console.log(`åˆ‡â½š$&#123;count&#125;â¼¤â¼©æ˜¯$&#123;this.format(offset)&#125;,è€—æ—¶$&#123;time&#125;ç§’ï¼Œæ˜¯30ç§’çš„$&#123;rate&#125;å€ï¼Œä¿®æ­£â¼¤â¼©ä¸º$&#123;this.format(offset/rate)&#125;`) // åŠ¨æ€è°ƒæ•´offset offset = parseInt(offset / rate) // if(time) count++ &#125; &#125; //åˆ‡â½š0â¼¤â¼©æ˜¯1024.00KB,è€—æ—¶13.2770ç§’ï¼Œæ˜¯30ç§’çš„0.5å€ï¼Œä¿®æ­£â¼¤â¼©ä¸º2.00MB//åˆ‡â½š1â¼¤â¼©æ˜¯2.00MB,è€—æ—¶25.4130ç§’ï¼Œæ˜¯30ç§’çš„0.8471å€ï¼Œä¿®æ­£â¼¤â¼©ä¸º2.36MB//åˆ‡â½š2â¼¤â¼©æ˜¯2.36MB,è€—æ—¶14.1260ç§’ï¼Œæ˜¯30ç§’çš„0.5å€ï¼Œä¿®æ­£â¼¤â¼©ä¸º4.72MB 3ã€ç¢â½šæ¸…ç† 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748// ä¸ºäº†â½…ä¾¿æµ‹è¯•ï¼Œæˆ‘æ”¹æˆæ¯5ç§’æ‰«â¼€æ¬¡ï¼Œ è¿‡æœŸ1é’Ÿçš„åˆ é™¤åšæ¼”ç¤º const fse = require('fs-extra') const path = require('path') const schedule = require('node\u0002schedule') // ç©ºâ½¬å½•åˆ é™¤ function remove(file, stats) &#123; const now = new Date().getTime() const offset = now - stats.ctimeMs if (offset &gt; 1000 * 60) &#123; // â¼¤äº60ç§’çš„ç¢â½š console.log(file, 'è¿‡æœŸäº†ï¼Œæµªè´¹ç©ºé—´çš„ç©æ„ï¼Œåˆ é™¤') fse.unlinkSync(file) &#125; &#125; async function scan(dir, callback) &#123; const files = fse.readdirSync(dir) files.forEach(filename =&gt; &#123; const fileDir = path.resolve(dir, filename) const stats = fse.statSync(fileDir) if (stats.isDirectory()) &#123; return scan(fileDir, remove) &#125; if (callback) &#123; callback(fileDir, stats) &#125; &#125;) &#125; let start = function (UPLOAD_DIR) &#123; // æ¯5ç§’ schedule.scheduleJob(\"*/5 * * * * *\", function () &#123; console.log('å¼€å§‹æ‰«æ') scan(UPLOAD_DIR) &#125;) &#125; exports.start = start å¼€å§‹æ‰«æ/upload/target/625c.../625c...-0 è¿‡æœŸäº†ï¼Œåˆ é™¤/upload/target/625c.../625c...-1 è¿‡æœŸäº†ï¼Œåˆ é™¤/upload/target/625c.../625c...-10 è¿‡æœŸäº†ï¼Œåˆ é™¤/upload/target/625c.../625c...-11 è¿‡æœŸäº†ï¼Œåˆ é™¤/upload/target/625c.../625c...-12 è¿‡æœŸäº†ï¼Œåˆ é™¤ é¢è¯•é¢˜ä¹‹åç»­é—®é¢˜ requestIdleCallbackå…¼å®¹æ€§ï¼Œå¦‚ä½•â¾ƒâ¼°å®ç°â¼€ä¸ªreactä¹Ÿæ˜¯â¾ƒâ¼°å†™çš„è°ƒåº¦é€»è¾‘,Reactâ¾ƒâ¼°å®ç°çš„requestIdleCallback(https://www.dazhuanlan.com/2019/10/20/5dabc56a750fd/) å¹¶å‘+æ…¢å¯åŠ¨é…åˆ æŠ½æ ·hash+å…¨é‡å“ˆå¸Œ+æ—¶é—´åˆ‡â½šé…åˆ â¼¤â½‚ä»¶åˆ‡â½šä¸‹è½½ websocketæ¨é€è¿›åº¦ â½‚ä»¶ç¢â½šåˆ†æœºå™¨å­˜å‚¨ä»¥åŠâ½‚ä»¶ç¢â½šå¤‡ä»½","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"é¢è¯•é¢˜","slug":"é¢è¯•é¢˜","permalink":"https://yangyfeng.github.io/blogpost/tags/é¢è¯•é¢˜/"}]},{"title":"NodeJsä¸­æ•°æ®åº“çš„ä½¿ç”¨","slug":"Node/NodeJsä¸­æ•°æ®åº“çš„ä½¿ç”¨","date":"2020-09-09T10:29:00.000Z","updated":"2021-03-27T06:24:34.618Z","comments":true,"path":"/posts/e4aa7462.html","link":"","permalink":"https://yangyfeng.github.io/posts/e4aa7462.html","excerpt":"1.Node.js è¿æ¥ MySQLcnpm install mysql è¿æ¥mysql: 123456789101112131415var mysql = require('mysql');var connection = mysql.createConnection(&#123; host : 'localhost', user : 'root', password : '123456', database : 'test'&#125;);connection.connect(); connection.query('SELECT 1 + 1 AS solution', function (error, results, fields) &#123; if (error) throw error; console.log('The solution is: ', results[0].solution);&#125;); æ•°æ®åº“è¿æ¥å‚æ•°è¯´æ˜ 1234567891011121314151617181920212223242526272829303132333435363738å‚æ•° æè¿°host ä¸»æœºåœ°å€ ï¼ˆé»˜è®¤ï¼šlocalhostï¼‰user ç”¨æˆ·åpassword å¯†ç port ç«¯å£å· ï¼ˆé»˜è®¤ï¼š3306ï¼‰database æ•°æ®åº“åcharset è¿æ¥å­—ç¬¦é›†ï¼ˆé»˜è®¤ï¼š'UTF8_GENERAL_CI'ï¼Œæ³¨æ„å­—ç¬¦é›†çš„å­—æ¯éƒ½è¦å¤§å†™ï¼‰localAddress æ­¤IPç”¨äºTCPè¿æ¥ï¼ˆå¯é€‰ï¼‰socketPath è¿æ¥åˆ°unixåŸŸè·¯å¾„ï¼Œå½“ä½¿ç”¨ host å’Œ port æ—¶ä¼šè¢«å¿½ç•¥timezone æ—¶åŒºï¼ˆé»˜è®¤ï¼š'local'ï¼‰connectTimeout è¿æ¥è¶…æ—¶ï¼ˆé»˜è®¤ï¼šä¸é™åˆ¶ï¼›å•ä½ï¼šæ¯«ç§’ï¼‰stringifyObjects æ˜¯å¦åºåˆ—åŒ–å¯¹è±¡typeCast æ˜¯å¦å°†åˆ—å€¼è½¬åŒ–ä¸ºæœ¬åœ°JavaScriptç±»å‹å€¼ ï¼ˆé»˜è®¤ï¼štrueï¼‰queryFormat è‡ªå®šä¹‰queryè¯­å¥æ ¼å¼åŒ–æ–¹æ³•supportBigNumbers æ•°æ®åº“æ”¯æŒbigintæˆ–decimalç±»å‹åˆ—æ—¶ï¼Œéœ€è¦è®¾æ­¤optionä¸ºtrue ï¼ˆé»˜è®¤ï¼šfalseï¼‰bigNumberStrings supportBigNumberså’ŒbigNumberStringså¯ç”¨ å¼ºåˆ¶bigintæˆ–decimalåˆ—ä»¥JavaScriptå­—ç¬¦ä¸²ç±»å‹è¿”å›ï¼ˆé»˜è®¤ï¼šfalseï¼‰dateStrings å¼ºåˆ¶timestamp,datetime,dataç±»å‹ä»¥å­—ç¬¦ä¸²ç±»å‹è¿”å›ï¼Œè€Œä¸æ˜¯JavaScript Dateç±»å‹ï¼ˆé»˜è®¤ï¼šfalseï¼‰debug å¼€å¯è°ƒè¯•ï¼ˆé»˜è®¤ï¼šfalseï¼‰multipleStatements æ˜¯å¦è®¸ä¸€ä¸ªqueryä¸­æœ‰å¤šä¸ªMySQLè¯­å¥ ï¼ˆé»˜è®¤ï¼šfalseï¼‰flags ç”¨äºä¿®æ”¹è¿æ¥æ ‡å¿—ssl ä½¿ç”¨sslå‚æ•°ï¼ˆä¸crypto.createCredenitalså‚æ•°æ ¼å¼ä¸€è‡³ï¼‰æˆ–ä¸€ä¸ªåŒ…å«sslé…ç½®æ–‡ä»¶åç§°çš„å­—ç¬¦ä¸²ï¼Œç›®å‰åªæ†ç»‘Amazon RDSçš„é…ç½®æ–‡ä»¶","text":"1.Node.js è¿æ¥ MySQLcnpm install mysql è¿æ¥mysql: 123456789101112131415var mysql = require('mysql');var connection = mysql.createConnection(&#123; host : 'localhost', user : 'root', password : '123456', database : 'test'&#125;);connection.connect(); connection.query('SELECT 1 + 1 AS solution', function (error, results, fields) &#123; if (error) throw error; console.log('The solution is: ', results[0].solution);&#125;); æ•°æ®åº“è¿æ¥å‚æ•°è¯´æ˜ 1234567891011121314151617181920212223242526272829303132333435363738å‚æ•° æè¿°host ä¸»æœºåœ°å€ ï¼ˆé»˜è®¤ï¼šlocalhostï¼‰user ç”¨æˆ·åpassword å¯†ç port ç«¯å£å· ï¼ˆé»˜è®¤ï¼š3306ï¼‰database æ•°æ®åº“åcharset è¿æ¥å­—ç¬¦é›†ï¼ˆé»˜è®¤ï¼š'UTF8_GENERAL_CI'ï¼Œæ³¨æ„å­—ç¬¦é›†çš„å­—æ¯éƒ½è¦å¤§å†™ï¼‰localAddress æ­¤IPç”¨äºTCPè¿æ¥ï¼ˆå¯é€‰ï¼‰socketPath è¿æ¥åˆ°unixåŸŸè·¯å¾„ï¼Œå½“ä½¿ç”¨ host å’Œ port æ—¶ä¼šè¢«å¿½ç•¥timezone æ—¶åŒºï¼ˆé»˜è®¤ï¼š'local'ï¼‰connectTimeout è¿æ¥è¶…æ—¶ï¼ˆé»˜è®¤ï¼šä¸é™åˆ¶ï¼›å•ä½ï¼šæ¯«ç§’ï¼‰stringifyObjects æ˜¯å¦åºåˆ—åŒ–å¯¹è±¡typeCast æ˜¯å¦å°†åˆ—å€¼è½¬åŒ–ä¸ºæœ¬åœ°JavaScriptç±»å‹å€¼ ï¼ˆé»˜è®¤ï¼štrueï¼‰queryFormat è‡ªå®šä¹‰queryè¯­å¥æ ¼å¼åŒ–æ–¹æ³•supportBigNumbers æ•°æ®åº“æ”¯æŒbigintæˆ–decimalç±»å‹åˆ—æ—¶ï¼Œéœ€è¦è®¾æ­¤optionä¸ºtrue ï¼ˆé»˜è®¤ï¼šfalseï¼‰bigNumberStrings supportBigNumberså’ŒbigNumberStringså¯ç”¨ å¼ºåˆ¶bigintæˆ–decimalåˆ—ä»¥JavaScriptå­—ç¬¦ä¸²ç±»å‹è¿”å›ï¼ˆé»˜è®¤ï¼šfalseï¼‰dateStrings å¼ºåˆ¶timestamp,datetime,dataç±»å‹ä»¥å­—ç¬¦ä¸²ç±»å‹è¿”å›ï¼Œè€Œä¸æ˜¯JavaScript Dateç±»å‹ï¼ˆé»˜è®¤ï¼šfalseï¼‰debug å¼€å¯è°ƒè¯•ï¼ˆé»˜è®¤ï¼šfalseï¼‰multipleStatements æ˜¯å¦è®¸ä¸€ä¸ªqueryä¸­æœ‰å¤šä¸ªMySQLè¯­å¥ ï¼ˆé»˜è®¤ï¼šfalseï¼‰flags ç”¨äºä¿®æ”¹è¿æ¥æ ‡å¿—ssl ä½¿ç”¨sslå‚æ•°ï¼ˆä¸crypto.createCredenitalså‚æ•°æ ¼å¼ä¸€è‡³ï¼‰æˆ–ä¸€ä¸ªåŒ…å«sslé…ç½®æ–‡ä»¶åç§°çš„å­—ç¬¦ä¸²ï¼Œç›®å‰åªæ†ç»‘Amazon RDSçš„é…ç½®æ–‡ä»¶ 2.Node.js è¿æ¥ MongoDBï¼š MongoDBæ˜¯ä¸€ç§æ–‡æ¡£å¯¼å‘æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œç”±C++æ’°å†™è€Œæˆã€‚MongoDB æ•™ç¨‹ã€‚ å®‰è£…é©±åŠ¨ 1$ cnpm install mongodb å¢åˆ æ”¹æŸ¥ è¦åœ¨ MongoDB ä¸­åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª MongoClient å¯¹è±¡ï¼Œç„¶åé…ç½®å¥½æŒ‡å®šçš„ URL å’Œ ç«¯å£å·ã€‚å¦‚æœæ•°æ®åº“ä¸å­˜åœ¨ï¼ŒMongoDB å°†åˆ›å»ºæ•°æ®åº“å¹¶å»ºç«‹è¿æ¥ã€‚ åˆ›å»ºè¿æ¥ 12345678var MongoClient = require('mongodb').MongoClient;var url = \"mongodb://localhost:27017/mydb\"; MongoClient.connect(url, function(err, db) &#123; if (err) throw err; console.log(\"æ•°æ®åº“å·²åˆ›å»º!\"); db.close();&#125;); åˆ›å»ºé›†åˆ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ createCollection() æ–¹æ³•æ¥åˆ›å»ºé›†åˆï¼š åˆ›å»ºé›†åˆ 123456789101112var MongoClient = require('mongodb').MongoClient;var url = 'mongodb://localhost:27017/mydb';MongoClient.connect(url, function (err, db) &#123; if (err) throw err; console.log('æ•°æ®åº“å·²åˆ›å»º'); var dbase = db.db(\"mydb\"); dbase.createCollection('runoob', function (err, res) &#123; if (err) throw err; console.log(\"åˆ›å»ºé›†åˆ!\"); db.close(); &#125;);&#125;); æ•°æ®åº“æ“ä½œ( CURD ) ä¸ MySQL ä¸åŒçš„æ˜¯ MongoDB ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“å’Œé›†åˆï¼Œæ‰€ä»¥ä½¿ç”¨å‰æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨å»åˆ›å»ºã€‚ æ’å…¥æ•°æ® ä»¥ä¸‹å®ä¾‹æˆ‘ä»¬è¿æ¥æ•°æ®åº“ runoob çš„ site è¡¨ï¼Œå¹¶æ’å…¥ä¸¤æ¡æ•°æ®ï¼š æ’å…¥æ•°æ® 12345678910111213141516171819202122232425var MongoClient = require('mongodb').MongoClient;var DB_CONN_STR = 'mongodb://localhost:27017/runoob'; # æ•°æ®åº“ä¸º runoob var insertData = function(db, callback) &#123; //è¿æ¥åˆ°è¡¨ site var collection = db.collection('site'); //æ’å…¥æ•°æ® var data = [&#123;\"name\":\"èœé¸Ÿæ•™ç¨‹\",\"url\":\"www.runoob.com\"&#125;,&#123;\"name\":\"èœé¸Ÿå·¥å…·\",\"url\":\"c.runoob.com\"&#125;]; collection.insert(data, function(err, result) &#123; if(err) &#123; console.log('Error:'+ err); return; &#125; callback(result); &#125;);&#125; MongoClient.connect(DB_CONN_STR, function(err, db) &#123; console.log(\"è¿æ¥æˆåŠŸï¼\"); insertData(db, function(result) &#123; console.log(result); db.close(); &#125;);&#125;); æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¾“å‡ºå°±ç»“æœä¸ºï¼š 12345678910111213$ node test.js //è¿æ¥æˆåŠŸï¼&#123; result: &#123; ok: 1, n: 2 &#125;, ops: [ &#123; name: 'èœé¸Ÿæ•™ç¨‹', url: 'www.runoob.com', _id: 58c25e13a08de70d3b9d4116 &#125;, &#123; name: 'èœé¸Ÿå·¥å…·', url: 'c.runoob.com', _id: 58c25e13a08de70d3b9d4117 &#125; ], insertedCount: 2, insertedIds: [58c25e13a08de70d3b9d4116, 58c25e13a08de70d3b9d4117]&#125; ä»è¾“å‡ºç»“æœæ¥çœ‹ï¼Œæ•°æ®å·²æ’å…¥æˆåŠŸã€‚ æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰“å¼€ MongoDB çš„å®¢æˆ·ç«¯æŸ¥çœ‹æ•°æ®ï¼Œå¦‚ï¼š 123456789101112show dbsadmin 0.000GBlocal 0.000GBrunoob 0.000GB # è‡ªåŠ¨åˆ›å»ºäº† runoob æ•°æ®åº“show tablessite # è‡ªåŠ¨åˆ›å»ºäº† site é›†åˆï¼ˆæ•°æ®è¡¨ï¼‰db.site.find() # æŸ¥çœ‹é›†åˆä¸­çš„æ•°æ®&#123; \"_id\" : ObjectId(\"58c25f300cd56e0d7ddfc0c8\"), \"name\" : \"èœé¸Ÿæ•™ç¨‹\", \"url\" : \"www.runoob.com\" &#125;&#123; \"_id\" : ObjectId(\"58c25f300cd56e0d7ddfc0c9\"), \"name\" : \"èœé¸Ÿå·¥å…·\", \"url\" : \"c.runoob.com\" &#125; æŸ¥è¯¢æ•°æ® ä»¥ä¸‹å®ä¾‹æ£€ç´¢ name ä¸º â€œèœé¸Ÿæ•™ç¨‹â€ çš„å®ä¾‹ï¼š 12345678910111213141516171819202122232425var MongoClient = require('mongodb').MongoClient;var DB_CONN_STR = 'mongodb://localhost:27017/runoob'; var selectData = function(db, callback) &#123; //è¿æ¥åˆ°è¡¨ var collection = db.collection('site'); //æŸ¥è¯¢æ•°æ® var whereStr = &#123;\"name\":'èœé¸Ÿæ•™ç¨‹'&#125;; collection.find(whereStr).toArray(function(err, result) &#123; if(err) &#123; console.log('Error:'+ err); return; &#125; callback(result); &#125;);&#125; MongoClient.connect(DB_CONN_STR, function(err, db) &#123; console.log(\"è¿æ¥æˆåŠŸï¼\"); selectData(db, function(result) &#123; console.log(result); db.close(); &#125;);&#125;); æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¾“å‡ºå°±ç»“æœä¸ºï¼š è¿æ¥æˆåŠŸï¼ 123[ &#123; _id: 58c25f300cd56e0d7ddfc0c8, name: 'èœé¸Ÿæ•™ç¨‹', url: 'www.runoob.com' &#125; ] æ›´æ–°æ•°æ® æˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹æ•°æ®åº“çš„æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œä»¥ä¸‹å®ä¾‹å°† name ä¸º â€œèœé¸Ÿæ•™ç¨‹â€ çš„ url æ”¹ä¸º https://www.runoob.comï¼š 1234567891011121314151617181920212223242526var MongoClient = require('mongodb').MongoClient;var DB_CONN_STR = 'mongodb://localhost:27017/runoob'; var updateData = function(db, callback) &#123; //è¿æ¥åˆ°è¡¨ var collection = db.collection('site'); //æ›´æ–°æ•°æ® var whereStr = &#123;\"name\":'èœé¸Ÿæ•™ç¨‹'&#125;; var updateStr = &#123;$set: &#123; \"url\" : \"https://www.runoob.com\" &#125;&#125;; collection.update(whereStr,updateStr, function(err, result) &#123; if(err) &#123; console.log('Error:'+ err); return; &#125; callback(result); &#125;);&#125; MongoClient.connect(DB_CONN_STR, function(err, db) &#123; console.log(\"è¿æ¥æˆåŠŸï¼\"); updateData(db, function(result) &#123; console.log(result); db.close(); &#125;);&#125;); æ‰§è¡ŒæˆåŠŸåï¼Œè¿›å…¥ mongo ç®¡ç†å·¥å…·æŸ¥çœ‹æ•°æ®å·²ä¿®æ”¹ï¼š 123db.site.find()&#123; \"_id\" : ObjectId(\"58c25f300cd56e0d7ddfc0c8\"), \"name\" : \"èœé¸Ÿæ•™ç¨‹\", \"url\" : \"https://www.runoob.com\" &#125;&#123; \"_id\" : ObjectId(\"58c25f300cd56e0d7ddfc0c9\"), \"name\" : \"èœé¸Ÿå·¥å…·\", \"url\" : \"c.runoob.com\" &#125; åˆ é™¤æ•°æ® ä»¥ä¸‹å®ä¾‹å°† name ä¸º â€œèœé¸Ÿå·¥å…·â€ çš„æ•°æ®åˆ é™¤ : 12345678910111213141516171819202122232425var MongoClient = require('mongodb').MongoClient;var DB_CONN_STR = 'mongodb://localhost:27017/runoob'; var delData = function(db, callback) &#123; //è¿æ¥åˆ°è¡¨ var collection = db.collection('site'); //åˆ é™¤æ•°æ® var whereStr = &#123;\"name\":'èœé¸Ÿå·¥å…·'&#125;; collection.remove(whereStr, function(err, result) &#123; if(err) &#123; console.log('Error:'+ err); return; &#125; callback(result); &#125;);&#125; MongoClient.connect(DB_CONN_STR, function(err, db) &#123; console.log(\"è¿æ¥æˆåŠŸï¼\"); delData(db, function(result) &#123; console.log(result); db.close(); &#125;);&#125;); æ‰§è¡ŒæˆåŠŸåï¼Œè¿›å…¥ mongo ç®¡ç†å·¥å…·æŸ¥çœ‹æ•°æ®å·²åˆ é™¤ï¼š 12db.site.find()&#123; \"_id\" : ObjectId(\"58c25f300cd56e0d7ddfc0c8\"), \"name\" : \"èœé¸Ÿæ•™ç¨‹\", \"url\" : \"https://www.runoob.com\" &#125;","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/åç«¯/"}],"tags":[{"name":"Node","slug":"Node","permalink":"https://yangyfeng.github.io/blogpost/tags/Node/"}]},{"title":"httpåè®®","slug":"Http/httpåè®®","date":"2020-09-09T10:20:00.000Z","updated":"2021-03-27T06:24:34.617Z","comments":true,"path":"/posts/6a5e2f06.html","link":"","permalink":"https://yangyfeng.github.io/posts/6a5e2f06.html","excerpt":"","text":"HTTP ç®€ä»‹ï¼š HTTPæ˜¯Hyper Text Transfer Protocolï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰çš„ç¼©å†™ HTTPæ˜¯å› ç‰¹ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œä¼ è¾“åè®®ï¼Œæ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„è¯·æ±‚/å“åº”åè®® HTTPæ˜¯åŸºäºå®¢æˆ·ç«¯/æœåŠ¡ç«¯ï¼ˆC/Sï¼‰çš„æ¶æ„æ¨¡å‹ HTTPæ˜¯ä¸€ä¸ªåŸºäºTCP/IPé€šä¿¡åè®®æ¥ä¼ é€’æ•°æ® HTTPåè®®é€šå¸¸æ‰¿è½½äºTCPåè®®ä¹‹ä¸Šï¼Œæœ‰æ—¶ä¹Ÿæ‰¿è½½äºTLSæˆ–SSLåè®®å±‚ä¹‹ä¸Šï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±æˆäº†æˆ‘ä»¬å¸¸è¯´çš„HTTPSé»˜è®¤HTTPçš„ç«¯å£å·ä¸º80ï¼ŒHTTPSçš„ç«¯å£å·ä¸º443 HTTPçš„è¯·æ±‚å“åº”æ¨¡å‹ï¼š HTTPåè®®æ°¸è¿œéƒ½æ˜¯å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨å›é€å“åº” è¿™æ ·å°±é™åˆ¶äº†ä½¿ç”¨HTTPåè®®ï¼Œæ— æ³•å®ç°åœ¨å®¢æˆ·ç«¯æ²¡æœ‰å‘èµ·è¯·æ±‚çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨å°†æ¶ˆæ¯æ¨é€ç»™å®¢æˆ·ç«¯ã€‚ HTTPåè®®æ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„åè®®ï¼ŒåŒä¸€ä¸ªå®¢æˆ·ç«¯çš„è¿™æ¬¡è¯·æ±‚å’Œä¸Šæ¬¡è¯·æ±‚æ˜¯æ²¡æœ‰å¯¹åº”å…³ç³» HTTP å·¥ä½œåŸç†ï¼š HTTPåè®®å·¥ä½œäºå®¢æˆ·ç«¯-æœåŠ¡ç«¯æ¶æ„ä¸Šã€‚æµè§ˆå™¨ä½œä¸ºHttpå®¢æˆ·ç«¯é€šè¿‡åœ°å€æ  Urlå°†è¯·æ±‚å‘é€åˆ°HttpæœåŠ¡ç«¯å³WebæœåŠ¡å™¨ä¸Šã€‚ WebæœåŠ¡å™¨æœ‰ï¼šApacheæœåŠ¡å™¨ï¼ŒIISæœåŠ¡å™¨ï¼ˆInternet Information Servicesï¼‰ç­‰ HTTPä¸‰ç‚¹æ³¨æ„äº‹é¡¹ï¼š HTTPæ˜¯æ— è¿æ¥ï¼šæ— è¿æ¥çš„å«ä¹‰æ˜¯é™åˆ¶æ¯æ¬¡è¿æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ã€‚æœåŠ¡å™¨å¤„ç†å®Œå®¢æˆ·çš„è¯·æ±‚ï¼Œå¹¶æ”¶åˆ°å®¢æˆ·çš„åº”ç­”åï¼Œå³æ–­å¼€è¿æ¥ã€‚é‡‡ç”¨è¿™ç§æ–¹å¼å¯ä»¥èŠ‚çœä¼ è¾“æ—¶é—´ã€‚HTTPæ˜¯åª’ä½“ç‹¬ç«‹çš„ï¼šè¿™æ„å‘³ç€ï¼Œåªè¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çŸ¥é“å¦‚ä½•å¤„ç†æ•°æ®å†…å®¹ï¼Œä»»ä½•ç±»å‹çš„æ•°æ®éƒ½å¯ä»¥é€šè¿‡HTTPå‘é€ã€‚å®¢æˆ·ç«¯ä»¥åŠæœåŠ¡å™¨æŒ‡å®šä½¿ç”¨é€‚åˆçš„MIME-typeå†…å®¹ç±»å‹ã€‚HTTPæ˜¯æ— çŠ¶æ€ï¼šHTTPåè®®æ˜¯æ— çŠ¶æ€åè®®ã€‚æ— çŠ¶æ€æ˜¯æŒ‡åè®®å¯¹äºäº‹åŠ¡å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ã€‚ç¼ºå°‘çŠ¶æ€æ„å‘³ç€å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯ï¼Œåˆ™å®ƒå¿…é¡»é‡ä¼ ï¼Œè¿™æ ·å¯èƒ½å¯¼è‡´æ¯æ¬¡è¿æ¥ä¼ é€çš„æ•°æ®é‡å¢å¤§ã€‚å¦ä¸€æ–¹é¢ï¼Œåœ¨æœåŠ¡å™¨ä¸éœ€è¦å…ˆå‰ä¿¡æ¯æ—¶å®ƒçš„åº”ç­”å°±è¾ƒå¿«ã€‚ å·¥ä½œæµç¨‹ï¼š ä¸€æ¬¡å®Œæ•´çš„Httpäº‹åŠ¡ï¼šhttp://blog.csdn.net/yipiankongbai/article/details/25029183 ä¸€æ¬¡HTTPæ“ä½œç§°ä¸ºä¸€ä¸ªäº‹åŠ¡ï¼Œå…¶å·¥ä½œè¿‡ç¨‹å¯åˆ†ä¸ºå…­æ­¥ï¼š åŸŸåè§£æ â€“&gt; å‘èµ·TCPçš„3æ¬¡æ¡æ‰‹ â€“&gt; å»ºç«‹TCPè¿æ¥åå‘èµ·httpè¯·æ±‚ â€“&gt; æœåŠ¡å™¨å“åº”httpè¯·æ±‚ï¼Œæµè§ˆå™¨å¾—åˆ°htmlä»£ç  â€“&gt; æµè§ˆå™¨è§£æhtmlä»£ç ï¼Œå¹¶è¯·æ±‚htmlä»£ç ä¸­çš„èµ„æºï¼ˆå¦‚jsã€cssã€å›¾ç‰‡ç­‰ï¼‰ â€“&gt; æµè§ˆå™¨å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“å‘ˆç°ç»™ç”¨æˆ· åŸŸåè§£æ -&gt; ä¸‰æ¬¡æ¡æ‰‹ -&gt; å»ºç«‹è¿æ¥ -&gt; å‘é€è¯·æ±‚ -&gt; å“åº”è¯·æ±‚ -&gt; æ¥æ”¶å“åº” ä»»ä½•ä¸€æ­¥å‘ç”Ÿé”™è¯¯ï¼Œéƒ½ä¼šå°†é”™è¯¯ä¿¡æ¯è¿”å›åˆ°å®¢æˆ·ç«¯ 1ï¼‰åŸŸåè§£æ ï¼šå°†ç½‘ç«™åç§°è½¬å˜æˆIPåœ°å€ï¼šlocalhostâ€“&gt;127.0.0.1 2ï¼‰å‘èµ·TCPçš„3æ¬¡æ¡æ‰‹ ï¼š å®¢æˆ·ç«¯å‘å‡ºä¸€ä¸ªSYNæ¶ˆæ¯ -ã€‹ æœåŠ¡å™¨ä½¿ç”¨SYN+ACKåº”ç­”è¡¨ç¤ºæ¥æ”¶åˆ°äº†è¿™ä¸ªæ¶ˆæ¯ -ã€‹ å®¢æˆ·æœºå†ä»¥ACKæ¶ˆæ¯å“åº” -ã€‹ å»ºç«‹èµ·å¯é çš„TCPè¿æ¥ï¼Œæ•°æ®ä¼ é€’ 3ï¼‰å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯å»ºç«‹è¿æ¥ 4ï¼‰å®¢æˆ·ç«¯å‘é€è¯·æ±‚ç»™æœåŠ¡ç«¯ï¼Œè¯·æ±‚æ–¹å¼çš„æ ¼å¼ä¸ºï¼šç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆURLï¼‰ã€åè®®ç‰ˆæœ¬å·ï¼Œåè¾¹æ˜¯MIMEä¿¡æ¯åŒ…æ‹¬è¯·æ±‚ä¿®é¥°ç¬¦ã€å®¢æˆ·æœºä¿¡æ¯å’Œå¯èƒ½çš„å†…å®¹ã€‚ 5ï¼‰æœåŠ¡ç«¯æ¥åˆ°è¯·æ±‚åï¼Œç»™äºˆç›¸åº”çš„å“åº”ä¿¡æ¯ï¼Œå…¶æ ¼å¼ä¸ºä¸€ä¸ªçŠ¶æ€è¡Œï¼ŒåŒ…æ‹¬ä¿¡æ¯çš„åè®®ç‰ˆæœ¬å·ã€ä¸€ä¸ªæˆåŠŸæˆ–é”™è¯¯çš„ä»£ç ï¼Œåè¾¹æ˜¯MIMEä¿¡æ¯åŒ…æ‹¬æœåŠ¡å™¨ä¿¡æ¯ã€å®ä½“ä¿¡æ¯å’Œå¯èƒ½çš„å†…å®¹ã€‚ 6ï¼‰å®¢æˆ·ç«¯æ¥æ”¶æœåŠ¡ç«¯æ‰€è¿”å›çš„ä¿¡æ¯é€šè¿‡æµè§ˆå™¨æ˜¾ç¤ºåœ¨ç”¨æˆ·çš„æ˜¾ç¤ºå±ä¸Šï¼Œç„¶åå®¢æˆ·æœºä¸æœåŠ¡å™¨æ–­å¼€è¿æ¥ã€‚ HTTPè¯·æ±‚æ–¹æ³•ï¼š HTTP1.0å®šä¹‰äº†ä¸‰ç§è¯·æ±‚æ–¹æ³•ï¼š GET, POST å’Œ HEADæ–¹æ³•ã€‚ HTTP1.1æ–°å¢äº†äº”ç§è¯·æ±‚æ–¹æ³•ï¼šOPTIONS, PUT, DELETE, TRACE å’Œ CONNECT æ–¹æ³•ã€‚ GET è¯·æ±‚æŒ‡å®šçš„é¡µé¢ä¿¡æ¯ï¼Œå¹¶è¿”å›å®ä½“ä¸»ä½“ã€‚ HEAD ç±»ä¼¼äºgetè¯·æ±‚ï¼Œåªä¸è¿‡è¿”å›çš„å“åº”ä¸­æ²¡æœ‰å…·ä½“çš„å†…å®¹ï¼Œç”¨äºè·å–æŠ¥å¤´ POST å‘æŒ‡å®šèµ„æºæäº¤æ•°æ®è¿›è¡Œå¤„ç†è¯·æ±‚ï¼ˆä¾‹å¦‚æäº¤è¡¨å•æˆ–è€…ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚æ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ã€‚POSTè¯·æ±‚å¯èƒ½ä¼šå¯¼è‡´æ–°çš„èµ„æºçš„å»ºç«‹å’Œ/æˆ–å·²æœ‰èµ„æºçš„ä¿®æ”¹ã€‚ PUT ä»å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ä¼ é€çš„æ•°æ®å–ä»£æŒ‡å®šçš„æ–‡æ¡£çš„å†…å®¹ã€‚ DELETE è¯·æ±‚æœåŠ¡å™¨åˆ é™¤æŒ‡å®šçš„é¡µé¢ã€‚ CONNECT HTTP/1.1åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚ OPTIONS å…è®¸å®¢æˆ·ç«¯æŸ¥çœ‹æœåŠ¡å™¨çš„æ€§èƒ½ã€‚ TRACE å›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­ã€‚ HTTP å“åº”å¤´ä¿¡æ¯ï¼š HTTPè¯·æ±‚å¤´æä¾›äº†å…³äºè¯·æ±‚ï¼Œå“åº”æˆ–è€…å…¶ä»–çš„å‘é€å®ä½“çš„ä¿¡æ¯ã€‚ æœåŠ¡å™¨æ”¯æŒå“ªäº›è¯·æ±‚æ–¹æ³•ï¼ˆå¦‚GETã€POSTç­‰ï¼‰ã€‚ Content-Encoding æ–‡æ¡£çš„ç¼–ç ï¼ˆEncodeï¼‰æ–¹æ³•ã€‚åªæœ‰åœ¨è§£ç ä¹‹åæ‰å¯ä»¥å¾—åˆ°Content-Typeå¤´æŒ‡å®šçš„å†…å®¹ç±»å‹ã€‚åˆ©ç”¨gzipå‹ç¼©æ–‡æ¡£èƒ½å¤Ÿæ˜¾è‘—åœ°å‡å°‘HTMLæ–‡æ¡£çš„ä¸‹è½½æ—¶é—´ã€‚Javaçš„GZIPOutputStreamå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œgzipå‹ç¼©ï¼Œä½†åªæœ‰Unixä¸Šçš„Netscapeå’ŒWindowsä¸Šçš„IE 4ã€IE 5æ‰æ”¯æŒå®ƒã€‚å› æ­¤ï¼ŒServletåº”è¯¥é€šè¿‡æŸ¥çœ‹Accept-Encodingå¤´ï¼ˆå³request.getHeader(â€œAccept-Encodingâ€)ï¼‰æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒgzipï¼Œä¸ºæ”¯æŒgzipçš„æµè§ˆå™¨è¿”å›ç»gzipå‹ç¼©çš„HTMLé¡µé¢ï¼Œä¸ºå…¶ä»–æµè§ˆå™¨è¿”å›æ™®é€šé¡µé¢ã€‚ Content-Length è¡¨ç¤ºå†…å®¹é•¿åº¦ã€‚åªæœ‰å½“æµè§ˆå™¨ä½¿ç”¨æŒä¹…HTTPè¿æ¥æ—¶æ‰éœ€è¦è¿™ä¸ªæ•°æ®ã€‚å¦‚æœä½ æƒ³è¦åˆ©ç”¨æŒä¹…è¿æ¥çš„ä¼˜åŠ¿ï¼Œå¯ä»¥æŠŠè¾“å‡ºæ–‡æ¡£å†™å…¥ ByteArrayOutputStreamï¼Œå®ŒæˆåæŸ¥çœ‹å…¶å¤§å°ï¼Œç„¶åæŠŠè¯¥å€¼æ”¾å…¥Content-Lengthå¤´ï¼Œæœ€åé€šè¿‡byteArrayStream.writeTo(response.getOutputStream()å‘é€å†…å®¹ã€‚ Content-Type è¡¨ç¤ºåé¢çš„æ–‡æ¡£å±äºä»€ä¹ˆMIMEç±»å‹ã€‚Servleté»˜è®¤ä¸ºtext/plainï¼Œä½†é€šå¸¸éœ€è¦æ˜¾å¼åœ°æŒ‡å®šä¸ºtext/htmlã€‚ç”±äºç»å¸¸è¦è®¾ç½®Content-Typeï¼Œå› æ­¤HttpServletResponseæä¾›äº†ä¸€ä¸ªä¸“ç”¨çš„æ–¹æ³•setContentTypeã€‚ Date å½“å‰çš„GMTæ—¶é—´ã€‚ä½ å¯ä»¥ç”¨setDateHeaderæ¥è®¾ç½®è¿™ä¸ªå¤´ä»¥é¿å…è½¬æ¢æ—¶é—´æ ¼å¼çš„éº»çƒ¦ã€‚ Expires åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™è®¤ä¸ºæ–‡æ¡£å·²ç»è¿‡æœŸï¼Œä»è€Œä¸å†ç¼“å­˜å®ƒï¼Ÿ Last-Modified æ–‡æ¡£çš„æœ€åæ”¹åŠ¨æ—¶é—´ã€‚å®¢æˆ·å¯ä»¥é€šè¿‡If-Modified-Sinceè¯·æ±‚å¤´æä¾›ä¸€ä¸ªæ—¥æœŸï¼Œè¯¥è¯·æ±‚å°†è¢«è§†ä¸ºä¸€ä¸ªæ¡ä»¶GETï¼Œåªæœ‰æ”¹åŠ¨æ—¶é—´è¿ŸäºæŒ‡å®šæ—¶é—´çš„æ–‡æ¡£æ‰ä¼šè¿”å›ï¼Œå¦åˆ™è¿”å›ä¸€ä¸ª304ï¼ˆNot Modifiedï¼‰çŠ¶æ€ã€‚Last-Modifiedä¹Ÿå¯ç”¨setDateHeaderæ–¹æ³•æ¥è®¾ç½®ã€‚ Location è¡¨ç¤ºå®¢æˆ·åº”å½“åˆ°å“ªé‡Œå»æå–æ–‡æ¡£ã€‚Locationé€šå¸¸ä¸æ˜¯ç›´æ¥è®¾ç½®çš„ï¼Œè€Œæ˜¯é€šè¿‡HttpServletResponseçš„sendRedirectæ–¹æ³•ï¼Œè¯¥æ–¹æ³•åŒæ—¶è®¾ç½®çŠ¶æ€ä»£ç ä¸º302ã€‚ Refresh è¡¨ç¤ºæµè§ˆå™¨åº”è¯¥åœ¨å¤šå°‘æ—¶é—´ä¹‹ååˆ·æ–°æ–‡æ¡£ï¼Œä»¥ç§’è®¡ã€‚é™¤äº†åˆ·æ–°å½“å‰æ–‡æ¡£ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡setHeader(â€œRefreshâ€, â€œ5; URL=http://host/path&quot;)è®©æµè§ˆå™¨è¯»å–æŒ‡å®šçš„é¡µé¢ã€‚ æ³¨æ„è¿™ç§åŠŸèƒ½é€šå¸¸æ˜¯é€šè¿‡è®¾ç½®HTMLé¡µé¢HEADåŒºçš„ï¼œMETA HTTP-EQUIV=â€Refreshâ€ CONTENT=â€5;URL=http://host/path&quot;ï¼å®ç°ï¼Œè¿™æ˜¯å› ä¸ºï¼Œè‡ªåŠ¨åˆ·æ–°æˆ–é‡å®šå‘å¯¹äºé‚£äº›ä¸èƒ½ä½¿ç”¨CGIæˆ–Servletçš„HTMLç¼–å†™è€…ååˆ†é‡è¦ã€‚ä½†æ˜¯ï¼Œå¯¹äºServletæ¥è¯´ï¼Œç›´æ¥è®¾ç½®Refreshå¤´æ›´åŠ æ–¹ä¾¿ã€‚ æ³¨æ„Refreshçš„æ„ä¹‰æ˜¯â€Nç§’ä¹‹ååˆ·æ–°æœ¬é¡µé¢æˆ–è®¿é—®æŒ‡å®šé¡µé¢â€ï¼Œè€Œä¸æ˜¯â€æ¯éš”Nç§’åˆ·æ–°æœ¬é¡µé¢æˆ–è®¿é—®æŒ‡å®šé¡µé¢â€ã€‚å› æ­¤ï¼Œè¿ç»­åˆ·æ–°è¦æ±‚æ¯æ¬¡éƒ½å‘é€ä¸€ä¸ªRefreshå¤´ï¼Œè€Œå‘é€204çŠ¶æ€ä»£ç åˆ™å¯ä»¥é˜»æ­¢æµè§ˆå™¨ç»§ç»­åˆ·æ–°ï¼Œä¸ç®¡æ˜¯ä½¿ç”¨Refreshå¤´è¿˜æ˜¯ï¼œMETA HTTP-EQUIV=â€Refreshâ€ â€¦ï¼ã€‚ æ³¨æ„Refreshå¤´ä¸å±äºHTTP 1.1æ­£å¼è§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯ä¸€ä¸ªæ‰©å±•ï¼Œä½†Netscapeå’ŒIEéƒ½æ”¯æŒå®ƒã€‚ Server æœåŠ¡å™¨åå­—ã€‚Servletä¸€èˆ¬ä¸è®¾ç½®è¿™ä¸ªå€¼ï¼Œè€Œæ˜¯ç”±WebæœåŠ¡å™¨è‡ªå·±è®¾ç½®ã€‚ Set-Cookie è®¾ç½®å’Œé¡µé¢å…³è”çš„Cookieã€‚Servletä¸åº”ä½¿ç”¨response.setHeader(â€œSet-Cookieâ€, â€¦)ï¼Œè€Œæ˜¯åº”ä½¿ç”¨HttpServletResponseæä¾›çš„ä¸“ç”¨æ–¹æ³•addCookieã€‚å‚è§ä¸‹æ–‡æœ‰å…³Cookieè®¾ç½®çš„è®¨è®ºã€‚ WWW-Authenticate å®¢æˆ·åº”è¯¥åœ¨Authorizationå¤´ä¸­æä¾›ä»€ä¹ˆç±»å‹çš„æˆæƒä¿¡æ¯ï¼Ÿåœ¨åŒ…å«401ï¼ˆUnauthorizedï¼‰çŠ¶æ€è¡Œçš„åº”ç­”ä¸­è¿™ä¸ªå¤´æ˜¯å¿…éœ€çš„ã€‚ä¾‹å¦‚ï¼Œresponse.setHeader(â€œWWW-Authenticateâ€, â€œBASIC realm=ï¼¼â€executivesï¼¼â€â€)ã€‚ æ³¨æ„Servletä¸€èˆ¬ä¸è¿›è¡Œè¿™æ–¹é¢çš„å¤„ç†ï¼Œè€Œæ˜¯è®©WebæœåŠ¡å™¨çš„ä¸“é—¨æœºåˆ¶æ¥æ§åˆ¶å—å¯†ç ä¿æŠ¤é¡µé¢çš„è®¿é—®ï¼ˆä¾‹å¦‚.htaccessï¼‰ã€‚ HTTPçŠ¶æ€ç ï¼š ä¸‹é¢æ˜¯å¸¸è§çš„HTTPçŠ¶æ€ç ï¼š 200 - è¯·æ±‚æˆåŠŸ301 - èµ„æºï¼ˆç½‘é¡µç­‰ï¼‰è¢«æ°¸ä¹…è½¬ç§»åˆ°å…¶å®ƒURL404 - è¯·æ±‚çš„èµ„æºï¼ˆç½‘é¡µç­‰ï¼‰ä¸å­˜åœ¨500 - å†…éƒ¨æœåŠ¡å™¨é”™è¯¯HTTPçŠ¶æ€ç ç”±ä¸‰ä¸ªåè¿›åˆ¶æ•°å­—ç»„æˆï¼Œç¬¬ä¸€ä¸ªåè¿›åˆ¶æ•°å­—å®šä¹‰äº†çŠ¶æ€ç çš„ç±»å‹ï¼Œåä¸¤ä¸ªæ•°å­—æ²¡æœ‰åˆ†ç±»çš„ä½œç”¨ã€‚HTTPçŠ¶æ€ç å…±åˆ†ä¸º5ç§ç±»å‹ï¼š 1** ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ 2** æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç† 3** é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚ 4** å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚ 5** æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ HTTP content-typeï¼šhttp://www.runoob.com/http/http-content-type.html","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Http","slug":"Http","permalink":"https://yangyfeng.github.io/blogpost/tags/Http/"}]},{"title":"TCP3æ¬¡æ¡æ‰‹","slug":"Http/TCP3æ¬¡æ¡æ‰‹","date":"2020-09-09T10:17:00.000Z","updated":"2021-03-27T06:24:34.616Z","comments":true,"path":"/posts/6a5e2f06.html","link":"","permalink":"https://yangyfeng.github.io/posts/6a5e2f06.html","excerpt":"","text":"ä»€ä¹ˆæ˜¯http?ä¸ºäº†æä¾›å¯é çš„ä¼ é€ï¼ŒTCPåœ¨å‘é€æ–°çš„æ•°æ®ä¹‹å‰ï¼Œä»¥ç‰¹å®šçš„é¡ºåºå°†æ•°æ®åŒ…çš„åºå·ï¼Œå¹¶éœ€è¦è¿™äº›åŒ…ä¼ é€ç»™ç›®æ ‡æœºä¹‹åçš„ç¡®è®¤æ¶ˆæ¯ã€‚TCPæ€»æ˜¯ç”¨æ¥å‘é€å¤§æ‰¹é‡çš„æ•°æ®ã€‚å½“åº”ç”¨ç¨‹åºåœ¨æ”¶åˆ°æ•°æ®åè¦åšå‡ºç¡®è®¤æ—¶ä¹Ÿè¦ç”¨åˆ°TCPã€‚ è¿‡ç¨‹ ç¬¬ä¸€æ¬¡ ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå»ºç«‹è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å‘é€synåŒ…ï¼ˆsyn=jï¼‰åˆ°æœåŠ¡å™¨ï¼Œå¹¶è¿›å…¥SYN_SENTçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ï¼›SYNï¼šåŒæ­¥åºåˆ—ç¼–å·ï¼ˆSynchronize Sequence Numbersï¼‰ã€‚ ç¬¬äºŒæ¬¡ ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ°synåŒ…ï¼Œå¿…é¡»ç¡®è®¤å®¢æˆ·çš„SYNï¼ˆack=j+1ï¼‰ï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå‘é€ä¸€ä¸ªSYNåŒ…ï¼ˆsyn=kï¼‰ï¼Œå³SYN+ACKåŒ…ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€ï¼› ç¬¬ä¸‰æ¬¡ ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYN+ACKåŒ…ï¼Œå‘æœåŠ¡å™¨å‘é€ç¡®è®¤åŒ…ACK(ack=k+1ï¼‰ï¼Œæ­¤åŒ…å‘é€å®Œæ¯•ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›å…¥ESTABLISHEDï¼ˆTCPè¿æ¥æˆåŠŸï¼‰çŠ¶æ€ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹ã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Http","slug":"Http","permalink":"https://yangyfeng.github.io/blogpost/tags/Http/"}]},{"title":"create-react-app(æ³¨æ„äº‹é¡¹)","slug":"React/create-react-app(æ³¨æ„äº‹é¡¹)","date":"2020-09-09T10:01:00.000Z","updated":"2021-03-27T06:24:34.620Z","comments":true,"path":"/posts/6a5e2f06.html","link":"","permalink":"https://yangyfeng.github.io/posts/6a5e2f06.html","excerpt":"React.createClass is not a functionåœ¨React16ä»¥ä¸Šï¼Œå·²ç»æ‘’å¼ƒReact.createClass()è¿™ä¸ªæ–¹æ³• å–è€Œä»£ä¹‹çš„æ˜¯1class Welcome extends React.Component&#123;&#125; é…ç½®webpack å‰ç½®æ¡ä»¶(precondition) Creating a New Application å®‰è£…yarn 1npm install yarn -g å®‰è£…ä¾èµ– 1yarn install æ˜¾ç¤ºwebpacké…ç½® 1npm run eject æ·»åŠ alias å¯ä»¥æ ¹æ®é¡¹ç›®è‡ªè¡Œé…ç½® 12345678alias: &#123; 'react-native': 'react-native-web', 'src':path.join(__dirname, '..', 'src'), 'language':path.join(__dirname, '..', 'src/language'), 'router':path.join(__dirname, '..', 'src/router'), 'Modebase':path.join(__dirname, '..', 'src/Modebase'), 'containers':path.join(__dirname, '..', 'src/containers') &#125; æ·»åŠ cssnext(postcs)ä¸€ç§å¯ä»¥è®©ä½ ä½¿ç”¨CSSæœ€æ–°ç‰¹æ€§çš„æ’ä»¶ã€‚å®ƒé€šè¿‡å°†æœ€æ–°çš„CSSç‰¹æ€§è½¬å˜ä¸ºç°é˜¶æ®µæµè§ˆå™¨æ‰€å…¼å®¹çš„ç‰¹æ€§ï¼Œè¿™æ ·ä½ ä¸ç”¨å†ç­‰å¾…æµè§ˆå™¨å¯¹æŸä¸€ç‰¹å®šæ–°ç‰¹æ€§çš„æ”¯æŒã€‚","text":"React.createClass is not a functionåœ¨React16ä»¥ä¸Šï¼Œå·²ç»æ‘’å¼ƒReact.createClass()è¿™ä¸ªæ–¹æ³• å–è€Œä»£ä¹‹çš„æ˜¯1class Welcome extends React.Component&#123;&#125; é…ç½®webpack å‰ç½®æ¡ä»¶(precondition) Creating a New Application å®‰è£…yarn 1npm install yarn -g å®‰è£…ä¾èµ– 1yarn install æ˜¾ç¤ºwebpacké…ç½® 1npm run eject æ·»åŠ alias å¯ä»¥æ ¹æ®é¡¹ç›®è‡ªè¡Œé…ç½® 12345678alias: &#123; 'react-native': 'react-native-web', 'src':path.join(__dirname, '..', 'src'), 'language':path.join(__dirname, '..', 'src/language'), 'router':path.join(__dirname, '..', 'src/router'), 'Modebase':path.join(__dirname, '..', 'src/Modebase'), 'containers':path.join(__dirname, '..', 'src/containers') &#125; æ·»åŠ cssnext(postcs)ä¸€ç§å¯ä»¥è®©ä½ ä½¿ç”¨CSSæœ€æ–°ç‰¹æ€§çš„æ’ä»¶ã€‚å®ƒé€šè¿‡å°†æœ€æ–°çš„CSSç‰¹æ€§è½¬å˜ä¸ºç°é˜¶æ®µæµè§ˆå™¨æ‰€å…¼å®¹çš„ç‰¹æ€§ï¼Œè¿™æ ·ä½ ä¸ç”¨å†ç­‰å¾…æµè§ˆå™¨å¯¹æŸä¸€ç‰¹å®šæ–°ç‰¹æ€§çš„æ”¯æŒã€‚ ä¿®æ”¹webpack.config.dev.jsæ·»åŠ postcssæ’ä»¶ 1234567891011&#123; loader: require.resolve('postcss-loader'), options: &#123; ident: 'postcss', plugins: () =&gt; [ require('postcss-flexbugs-fixes'), require('postcss-cssnext', &#123; browsers: ['last 2 version'] &#125; ], &#125; &#125; webPackæŒ‰éœ€åŠ è½½ æ·»åŠ react-router4 ä½¿ç”¨react-router-domï¼Œå‚è€ƒåˆæ¢ React Router 4.0 1yarn add react-router-dom åœ¨react-router4ä¸­è¿›è¡Œä»£ç æ‹†åˆ† react-routerå‡çº§åˆ°4åï¼Œä¾¿æ²¡æœ‰äº†getComponentè¿™ä¸ªå‚æ•°ã€‚æ‰€ä»¥æˆ‘ä»¬å¾—æ¢ç§æ–¹å¼ï¼Œreact-router4å®˜æ–¹ç¤ºä¾‹ä¹Ÿæä¾›äº†code splittingçš„æ–¹æ³•ï¼Œåˆ©ç”¨webpackç»“åˆbundle-loaderï¼Œå®ƒæ˜¯åœ¨require.ensureåŸºç¡€ä¸Šå°è£…çš„ï¼Œæ›´å‹å¥½çš„å®ç°å¼‚æ­¥åŠ è½½è¿‡ç¨‹ã€‚ æ·»åŠ Bundle.jsç»„ä»¶ 1234567891011121314151617export default class Bundle extends Component &#123; constructor(props) &#123; super(props); this.state = &#123; mod: null &#125;; &#125; load = props =&gt; &#123; this.setState(&#123; mod: null &#125;); props.load(mod =&gt; &#123; this.setState(&#123; mod: mod ? mod : null &#125;); &#125;); &#125; componentWillMount() &#123; this.load(this.props); &#125; render() &#123; return this.state.mod ? this.props.children(this.state.mod) : null &#125; &#125; ä½¿ç”¨require.ensure()æ¥è¿›è¡Œæ¨¡å—çš„å¼‚æ­¥åŠ è½½ 1&lt;Bundle load=&#123;(cb) =&gt; &#123; require.ensure([], require =&gt; &#123; cb(require('containers/Buttons/containers').default); &#125;,'Buttons'); &#125;&#125;&gt; &#123;(Buttons) =&gt; &lt;Buttons &#123;...props&#125;/&gt;&#125; &lt;/Bundle&gt; webPackæå–å…¬å…±æ¨¡å— é¦–å…ˆæŠŠå…¥å£å¤„æ”¹å†™ä¸ºä¸‹é¢è¿™æ ·ï¼ŒæŠŠå…¬å…±çš„æ–¹æ³•æå–å‡ºæ¥ 123456789entry: &#123; app:[ require.resolve('./polyfills'), paths.appIndexJs, require.resolve('react-error-overlay'), require.resolve('react-dev-utils/webpackHotDevClient') ], vendor: ['react', 'react-dom', 'react-router','react-router-dom', 'mobx', 'mobx-react'] &#125; æå–å…¬å…±æ¨¡å— 1new webpack.optimize.CommonsChunkPlugin(&#123; name: 'vendor', filename: 'vendor.[hash:8].js' &#125;) Webpack DLL ç”¨æ³• Dllä½¿ç”¨æ–¹æ³•å…¶å®æŒºç®€å•çš„ã€‚ç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šä¾‹å­ã€‚ æˆ‘é‡åˆ°ä¸€äº›å‘è¿™é‡Œå’Œå¤§å®¶è¯´æ˜ä¸€ä¸‹ é¦–å…ˆåœ¨ä¸»ç›®å½•ä¸‹é¢æ–°å»º webpack.dll.dev.js 1234567891011121314const webpack = require('webpack'); const path = require('path'); module.exports = &#123; entry: &#123; vendor: [path.join(__dirname, 'src', 'vendor.js')], &#125;, output: &#123; path: path.join(__dirname, 'dll'), filename: '[name].js', library: '[name]', &#125;, plugins: [ new webpack.DllPlugin(&#123; path: path.join(__dirname, 'dll', '[name]-manifest.json'), filename: '[name].js', name: '[name]', &#125;), ] &#125;; è¿™ä¸ªWebpackæ–‡ä»¶ä¸»è¦çš„åŠŸèƒ½æ˜¯åœ¨æ ¹ç›®å½•ç”Ÿæˆdllæ–‡ä»¶å¤¹ã€‚é‡Œé¢åŒ…å«æœ‰vendor.jsï¼ˆindex.htmléœ€è¦æ·»åŠ çš„jsï¼‰å’Œvendor-manifest.json ï¼ˆDllPluginç”Ÿæˆçš„jsonæ–‡ä»¶ï¼‰ åœ¨ä¸»webpackæ–‡ä»¶é‡Œé¢é€šè¿‡DllReferencePluginæ’ä»¶å¼•ç”¨ ç„¶åå†package.jsoné‡Œé¢æ·»åŠ  webpack â€“config webpack.dll.dev.js ç„¶ååœ¨ä¸»webpackæ–‡ä»¶æ·»åŠ å¦‚ä¸‹ä»£ç  1const manifest = require('../dll/vendor-manifest.json'); plugins: [ new webpack.DllReferencePlugin(&#123; manifest &#125;) ] ä¸‹é¢å°±æ˜¯dllæ¯”è¾ƒå‘çš„åœ°æ–¹ï¼Œå¦‚ä½•åœ¨index.htmlä¸­å¼•å…¥verdor.jså‘¢ã€‚ é¦–å…ˆæˆ‘ä»¬æ€è€ƒç›´æ¥åœ¨publicåº•ä¸‹çš„index.htmlä¸­ç›´æ¥å¼•ç”¨ï¼Œè¿™ä¸ªdllpluginçš„åŒ…å¹¶ä¸ä¼šè¢«æ‰“è¿›å†…å­˜é‡Œï¼Œéœ€è¦æŒ‡å®šä¸€ä¸ªstaticç›®å½• è§£å†³åŠæ³•ä½¿ç”¨AddAssetHtmlPlugin åœ¨htmlwebpackåæ’å…¥ä¸€ä¸ªAddAssetHtmlPluginæ’ä»¶ï¼Œç”¨äºå°†vendoræ’å…¥æ‰“åŒ…åçš„é¡µé¢ 1new AddAssetHtmlPlugin(&#123; filepath: require.resolve('../dll/vendor.js'), includeSourcemap: false &#125;) èŠ‚çœäº†è¿‘30S!!! ä½¿ç”¨UglifyJsPluginå‹ç¼©ä»£ç  1new webpack.optimize.UglifyJsPlugin(&#123; compressor: &#123; warnings: false, &#125; &#125;) æ·»åŠ ANTDå…¨å±€ç»„ä»¶å’Œcss ä¿®æ”¹webpack","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Create-React-App","slug":"Create-React-App","permalink":"https://yangyfeng.github.io/blogpost/tags/Create-React-App/"},{"name":"React","slug":"React","permalink":"https://yangyfeng.github.io/blogpost/tags/React/"}]},{"title":"React è„šæ‰‹æ¶å·¥å…·ï¼ˆcreate-react-appï¼‰","slug":"React/React è„šæ‰‹æ¶å·¥å…·ï¼ˆcrate-react-appï¼‰","date":"2020-09-09T09:55:00.000Z","updated":"2021-03-27T06:24:34.620Z","comments":true,"path":"/posts/a2043eea.html","link":"","permalink":"https://yangyfeng.github.io/posts/a2043eea.html","excerpt":"ä»‹ç»åœ¨å¼€å‘reactåº”ç”¨æ—¶ï¼Œåº”è¯¥æ²¡æœ‰äººç”¨ä¼ ç»Ÿçš„æ–¹æ³•å¼•å…¥reactçš„æºæ–‡ä»¶(js)ï¼Œç„¶ååœ¨htmlç¼–è¾‘å§ã€‚ å¤§å®¶éƒ½æ˜¯ç”¨webpack + es6æ¥ç»“åˆreactå¼€å‘å‰ç«¯åº”ç”¨ã€‚ è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ä½¿ç”¨npmæ¥å®‰è£…å„ç§æ’ä»¶ï¼Œæ¥ä»å¤´åˆ°å°¾è‡ªå·±æ­å»ºç¯å¢ƒã€‚ æ¯”å¦‚ï¼š 12345npm install react react-dom --savenpm install babel babel-loader babel-core babel-preset-es2015 babel-preset-react --savenpm install babel webpack webpack-dev-server -g","text":"ä»‹ç»åœ¨å¼€å‘reactåº”ç”¨æ—¶ï¼Œåº”è¯¥æ²¡æœ‰äººç”¨ä¼ ç»Ÿçš„æ–¹æ³•å¼•å…¥reactçš„æºæ–‡ä»¶(js)ï¼Œç„¶ååœ¨htmlç¼–è¾‘å§ã€‚ å¤§å®¶éƒ½æ˜¯ç”¨webpack + es6æ¥ç»“åˆreactå¼€å‘å‰ç«¯åº”ç”¨ã€‚ è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ä½¿ç”¨npmæ¥å®‰è£…å„ç§æ’ä»¶ï¼Œæ¥ä»å¤´åˆ°å°¾è‡ªå·±æ­å»ºç¯å¢ƒã€‚ æ¯”å¦‚ï¼š 12345npm install react react-dom --savenpm install babel babel-loader babel-core babel-preset-es2015 babel-preset-react --savenpm install babel webpack webpack-dev-server -g ç±»ä¼¼è¿™æ ·çš„è„šæ‰‹æ¶ï¼Œæˆ‘æ‰«äº†ç½‘ç»œä¸Šæ¯”è¾ƒå¤šäººç”¨å’Œå…³æ³¨çš„ï¼Œä¸€å…±å‘ç°äº†ä¸‰ä¸ªï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š 123react-boilerplatereact-redux-starter-kitcreate-react-app(facebookå®˜æ–¹å¼€å‘) ç‰¹ç‚¹å®‰è£…å’Œä½¿ç”¨(é»˜è®¤ç›‘å¬3000ç«¯å£) 1234567npm install -g create-react-appcreate-react-app my-appcd my-app/npm start æºç ç»“æ„ç®€å•æ¸…æ™° å¦‚æœä½ ä½¿ç”¨è¿‡webpack-dev-serveræˆ–webpackæ­å»ºè¿‡å¼€å‘ç¯å¢ƒï¼Œä½ å°±ä¼šå‘ç°ï¼Œcreate-react-appçš„å¼€å‘ç¯å¢ƒä¹Ÿæœ‰ç±»ä¼¼webpack-dev-serverçš„â€“inline â€“hotè‡ªåŠ¨åˆ·æ–°çš„åŠŸèƒ½ã€‚ ç¿»çœ‹äº†ä¸€ä¸‹æºç ï¼Œæ²¡æœ‰æ‰¾åˆ°webpack.config.jsæ–‡ä»¶ï¼Œå¦‚æœæœ‰ä½¿ç”¨webpackå°±åº”è¯¥æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œå¥½å¥‡æ€ªã€‚ çœ‹äº†ä¸€ä¸‹node_modulesç›®å½•ï¼Œä¹Ÿæ²¡æ‰¾åˆ°webpackç›¸å…³çš„ä¸œè¥¿ã€‚ package.json package.jsonä¸­ä¹Ÿæ²¡æœ‰webpackç›¸å…³çš„ä¸œè¥¿,ä½†æ˜¯åœ¨react-scriptsä¸­ä¾èµ–äº†webpack çº¿ä¸Šç¼–è¯‘å‘½ä»¤ ç¼–è¯‘å‡ºæ¥çš„æ–‡ä»¶å¾ˆå°ï¼Œä¸”æ–‡ä»¶åè¿˜å¸¦hashå€¼ï¼Œæ–¹ä¾¿æˆ‘ä»¬åšcacheï¼Œè€Œä¸”å®ƒè¿˜æä¾›ä¸€ä¸ªæœåŠ¡å™¨ï¼Œè®©æˆ‘ä»¬åœ¨æœ¬åœ°ä¹Ÿèƒ½çœ‹åˆ°çº¿ä¸Šç”Ÿäº§ç¯å¢ƒç±»ä¼¼çš„æ•ˆæœ 1npm run build è¿è¡Œä¸‹é¢ä¸¤æ¡å‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹çº¿ä¸Šç”Ÿäº§ç¯å¢ƒçš„è¿è¡Œæ•ˆæœ 123npm install -g pushstate-serverpushstate-server build apiå¼€å‘ CORSé—®é¢˜:æ¯•ç«Ÿç«¯å£ä¸åŒï¼Œè€Œçº¿ä¸Šç¯å¢ƒå´æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºä½ éƒ½æ§åˆ¶çº¿ä¸Šç¯å¢ƒçš„reactåº”ç”¨å’Œapiåº”ç”¨ï¼Œè·‘åœ¨åŒä¸€ä¸ªç«¯å£ä¸Šã€‚ æŒ‰ç…§ä»¥å¾€æ€è·¯ï¼Œè§£å†³çš„æ–¹æ³•å¯èƒ½æ˜¯ç”¨ç¯å¢ƒå˜é‡ï¼Œæ¯”å¦‚ const apiBaseUrl = process.env.NODE_ENV === â€˜developmentâ€™ ? â€˜localhost:3001â€™ : â€˜/â€˜ ä½†æ˜¯è¿™æ ·æèµ·æ¥ï¼Œè¿˜æ˜¯æœ‰äº›å¤æ‚ï¼Œç„¶è€Œï¼Œcreate-react-appæä¾›äº†ä¸€ä¸ªè¶…çº§ç®€å•çš„æ–¹æ³•ï¼Œåªéœ€è¦åœ¨package.jsonæ–‡ä»¶ä¸­ï¼ŒåŠ ä¸€ä¸ªé…ç½®é¡¹å°±å¯ä»¥äº†ã€‚ â€œproxyâ€: â€œhttp://localhost:3001/&quot;, æ‰§è¡Œnpm run eject æš´éœ²é…ç½®æ–‡ä»¶ç­‰ æŠ¥é”™è§£å†³æ–¹æ¡ˆï¼š 1å…ˆæ‰§è¡Œgit add . å’Œ git commit -m \"init\" åœ¨æ‰§è¡Œ npm run eject","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Create-React-App","slug":"Create-React-App","permalink":"https://yangyfeng.github.io/blogpost/tags/Create-React-App/"},{"name":"React","slug":"React","permalink":"https://yangyfeng.github.io/blogpost/tags/React/"}]},{"title":"Devopsæ˜¯ä»€ä¹ˆ","slug":"å¼€å‘å·¥å…·/devopsæ˜¯ä»€ä¹ˆ","date":"2020-09-09T09:33:00.000Z","updated":"2021-03-27T06:24:34.641Z","comments":true,"path":"/posts/cfdabafc.html","link":"","permalink":"https://yangyfeng.github.io/posts/cfdabafc.html","excerpt":"DevOpsæ˜¯ä¸€ç§é‡è§†â€œè½¯ä»¶å¼€å‘äººå‘˜ï¼ˆDevï¼‰â€å’Œâ€œITè¿ç»´æŠ€æœ¯äººå‘˜ï¼ˆOpsï¼‰â€ä¹‹é—´æ²Ÿé€šåˆä½œçš„æ–‡åŒ–ã€è¿åŠ¨æˆ–æƒ¯ä¾‹ã€‚é€è¿‡è‡ªåŠ¨åŒ–â€œè½¯ä»¶äº¤ä»˜â€å’Œâ€œæ¶æ„å˜æ›´â€çš„æµç¨‹ï¼Œæ¥ä½¿å¾—æ„å»ºã€æµ‹è¯•ã€å‘å¸ƒè½¯ä»¶èƒ½å¤Ÿæ›´åŠ åœ°å¿«æ·ã€é¢‘ç¹å’Œå¯é ã€‚ DevOpsï¼ˆDevelopment å’Œ Operations çš„ç»„åˆè¯ï¼‰æ˜¯ä¸€ç§é‡è§†â€œè½¯ä»¶å¼€å‘äººå‘˜ï¼ˆDevï¼‰â€å’Œâ€œIT è¿ç»´æŠ€æœ¯äººå‘˜ï¼ˆOpsï¼‰â€ä¹‹é—´æ²Ÿé€šåˆä½œçš„æ–‡åŒ–ã€è¿åŠ¨æˆ–æƒ¯ä¾‹ã€‚é€è¿‡è‡ªåŠ¨åŒ–â€œè½¯ä»¶äº¤ä»˜â€å’Œâ€œæ¶æ„å˜æ›´â€çš„æµç¨‹ï¼Œæ¥ä½¿å¾—æ„å»ºã€æµ‹è¯•ã€å‘å¸ƒè½¯ä»¶èƒ½å¤Ÿæ›´åŠ åœ°å¿«æ·ã€é¢‘ç¹å’Œå¯é ã€‚","text":"DevOpsæ˜¯ä¸€ç§é‡è§†â€œè½¯ä»¶å¼€å‘äººå‘˜ï¼ˆDevï¼‰â€å’Œâ€œITè¿ç»´æŠ€æœ¯äººå‘˜ï¼ˆOpsï¼‰â€ä¹‹é—´æ²Ÿé€šåˆä½œçš„æ–‡åŒ–ã€è¿åŠ¨æˆ–æƒ¯ä¾‹ã€‚é€è¿‡è‡ªåŠ¨åŒ–â€œè½¯ä»¶äº¤ä»˜â€å’Œâ€œæ¶æ„å˜æ›´â€çš„æµç¨‹ï¼Œæ¥ä½¿å¾—æ„å»ºã€æµ‹è¯•ã€å‘å¸ƒè½¯ä»¶èƒ½å¤Ÿæ›´åŠ åœ°å¿«æ·ã€é¢‘ç¹å’Œå¯é ã€‚ DevOpsï¼ˆDevelopment å’Œ Operations çš„ç»„åˆè¯ï¼‰æ˜¯ä¸€ç§é‡è§†â€œè½¯ä»¶å¼€å‘äººå‘˜ï¼ˆDevï¼‰â€å’Œâ€œIT è¿ç»´æŠ€æœ¯äººå‘˜ï¼ˆOpsï¼‰â€ä¹‹é—´æ²Ÿé€šåˆä½œçš„æ–‡åŒ–ã€è¿åŠ¨æˆ–æƒ¯ä¾‹ã€‚é€è¿‡è‡ªåŠ¨åŒ–â€œè½¯ä»¶äº¤ä»˜â€å’Œâ€œæ¶æ„å˜æ›´â€çš„æµç¨‹ï¼Œæ¥ä½¿å¾—æ„å»ºã€æµ‹è¯•ã€å‘å¸ƒè½¯ä»¶èƒ½å¤Ÿæ›´åŠ åœ°å¿«æ·ã€é¢‘ç¹å’Œå¯é ã€‚ ä¼ ç»Ÿçš„è½¯ä»¶ç»„ç»‡å°†å¼€å‘ã€IT è¿è¥å’Œè´¨é‡ä¿éšœè®¾ä¸ºå„è‡ªåˆ†ç¦»çš„éƒ¨é—¨ï¼Œåœ¨è¿™ç§ç¯å¢ƒä¸‹å¦‚ä½•é‡‡ç”¨æ–°çš„å¼€å‘æ–¹æ³•ï¼ˆä¾‹å¦‚æ•æ·è½¯ä»¶å¼€å‘ï¼‰ï¼Œæ˜¯ä¸€ä¸ªé‡è¦çš„è¯¾é¢˜ã€‚æŒ‰ç…§ä»å‰çš„å·¥ä½œæ–¹å¼ï¼Œå¼€å‘å’Œéƒ¨ç½²ï¼Œä¸éœ€è¦ IT æ”¯æŒæˆ–è€… QA æ·±å…¥çš„è·¨éƒ¨é—¨çš„æ”¯æŒï¼›è€Œç°åœ¨å´éœ€è¦æå…¶ç´§å¯†çš„å¤šéƒ¨é—¨åä½œã€‚è€Œ DevOps è€ƒè™‘çš„è¿˜ä¸æ­¢æ˜¯è½¯ä»¶éƒ¨ç½²ï¼Œå®ƒæ˜¯ä¸€å¥—é’ˆå¯¹è¿™å‡ ä¸ªéƒ¨é—¨é—´æ²Ÿé€šä¸åä½œé—®é¢˜çš„æµç¨‹å’Œæ–¹æ³•ã€‚ éœ€è¦é¢‘ç¹äº¤ä»˜çš„ä¼ä¸šå¯èƒ½æ›´éœ€è¦å¯¹ DevOps æœ‰ä¸€ä¸ªå¤§è‡´çš„äº†è§£ã€‚Flickr å‘å±•äº†è‡ªå·±çš„ DevOps èƒ½åŠ›ï¼Œä½¿ä¹‹èƒ½å¤Ÿæ”¯æ’‘ä¸šåŠ¡éƒ¨é—¨â€œæ¯å¤©éƒ¨ç½² 10 æ¬¡â€çš„è¦æ±‚ï¼Œå¦‚æœä¸€ä¸ªç»„ç»‡è¦ç”Ÿäº§é¢å‘å¤šç§ç”¨æˆ·ã€å…·å¤‡å¤šæ ·åŠŸèƒ½çš„åº”ç”¨ç¨‹åºï¼Œå…¶éƒ¨ç½²å‘¨æœŸå¿…ç„¶ä¼šå¾ˆçŸ­ã€‚è¿™ç§èƒ½åŠ›ä¹Ÿè¢«ç§°ä¸ºæŒç»­éƒ¨ç½²ï¼Œå¹¶ä¸”ç»å¸¸ä¸ç²¾ç›Šåˆ›ä¸šæ–¹æ³•è”ç³»èµ·æ¥ã€‚ä» 2009 å¹´èµ·ï¼Œç›¸å…³çš„å·¥ä½œç»„ã€ä¸“ä¸šç»„ç»‡å’Œåšå®¢å¿«é€Ÿæ¶Œç°ã€‚ DevOps çš„å¼•å…¥èƒ½å¯¹äº§å“äº¤ä»˜ã€æµ‹è¯•ã€åŠŸèƒ½å¼€å‘å’Œç»´æŠ¤ï¼ˆåŒ…æ‹¬â”€â”€æ›¾ç»ç½•è§ä½†å¦‚ä»Šå·²å±¡è§ä¸é²œçš„â”€â”€â€œçƒ­è¡¥ä¸â€ï¼‰èµ·åˆ°æ„ä¹‰æ·±è¿œçš„å½±å“ã€‚åœ¨ç¼ºä¹ DevOps èƒ½åŠ›çš„ç»„ç»‡ä¸­ï¼Œå¼€å‘ä¸è¿è¥ä¹‹é—´å­˜åœ¨ç€ä¿¡æ¯â€œé¸¿æ²Ÿâ€â”€â”€ä¾‹å¦‚è¿è¥äººå‘˜è¦æ±‚æ›´å¥½çš„å¯é æ€§å’Œå®‰å…¨æ€§ï¼Œå¼€å‘äººå‘˜åˆ™å¸Œæœ›åŸºç¡€è®¾æ–½å“åº”æ›´å¿«ï¼Œè€Œä¸šåŠ¡ç”¨æˆ·çš„éœ€æ±‚åˆ™æ˜¯æ›´å¿«åœ°å°†æ›´å¤šçš„ç‰¹æ€§å‘å¸ƒç»™æœ€ç»ˆç”¨æˆ·ä½¿ç”¨ã€‚è¿™ç§ä¿¡æ¯é¸¿æ²Ÿå°±æ˜¯æœ€å¸¸å‡ºé—®é¢˜çš„åœ°æ–¹ã€‚ ä»¥ä¸‹å‡ æ–¹é¢å› ç´ å¯èƒ½ä¿ƒä½¿ä¸€ä¸ªç»„ç»‡å¼•å…¥ DevOpsï¼š ä½¿ç”¨æ•æ·æˆ–å…¶ä»–è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸æ–¹æ³• ä¸šåŠ¡è´Ÿè´£äººè¦æ±‚åŠ å¿«äº§å“äº¤ä»˜çš„é€Ÿç‡ è™šæ‹ŸåŒ–å’Œäº‘è®¡ç®—åŸºç¡€è®¾æ–½ï¼ˆå¯èƒ½æ¥è‡ªå†…éƒ¨æˆ–å¤–éƒ¨ä¾›åº”å•†ï¼‰æ—¥ç›Šæ™®é æ•°æ®ä¸­å¿ƒè‡ªåŠ¨åŒ–æŠ€æœ¯å’Œé…ç½®ç®¡ç†å·¥å…·çš„æ™®åŠ æœ‰ä¸€ç§è§‚ç‚¹è®¤ä¸ºï¼Œå½“å‰å ä¸»å¯¼åœ°ä½çš„â€œä¼ ç»Ÿâ€ç¾å›½å¼ç®¡ç†é£æ ¼ï¼ˆâ€œæ–¯éš†æ¨¡å‹ vs ä¸°ç”°æ¨¡å‹â€ï¼‰ä¼šå¯¼è‡´â€œçƒŸå›±å¼è‡ªåŠ¨åŒ–â€ï¼Œä»è€Œé€ æˆå¼€å‘ä¸è¿è¥ä¹‹é—´çš„é¸¿æ²Ÿï¼Œå› æ­¤éœ€è¦ DevOps èƒ½åŠ›æ¥å…‹æœç”±æ­¤å¼•å‘çš„é—®é¢˜ã€‚ DevOps ç»å¸¸è¢«æè¿°ä¸ºâ€œå¼€å‘å›¢é˜Ÿä¸è¿è¥å›¢é˜Ÿä¹‹é—´æ›´å…·åä½œæ€§ã€æ›´é«˜æ•ˆçš„å…³ç³»â€ã€‚ç”±äºå›¢é˜Ÿé—´åä½œå…³ç³»çš„æ”¹å–„ï¼Œæ•´ä¸ªç»„ç»‡çš„æ•ˆç‡å› æ­¤å¾—åˆ°æå‡ï¼Œä¼´éšé¢‘ç¹å˜åŒ–è€Œæ¥çš„ç”Ÿäº§ç¯å¢ƒçš„é£é™©ä¹Ÿèƒ½å¾—åˆ°é™ä½ã€‚","categories":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://yangyfeng.github.io/blogpost/categories/å¼€å‘å·¥å…·/"}],"tags":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://yangyfeng.github.io/blogpost/tags/å¼€å‘å·¥å…·/"},{"name":"Devops","slug":"Devops","permalink":"https://yangyfeng.github.io/blogpost/tags/Devops/"}]},{"title":"é¢è¯•é¢˜é›†é”¦ï¼ˆ1ï¼‰","slug":"å‰ç«¯æ¯æ—¥ä¸€é¢˜/é¢è¯•é¢˜é›†é”¦ï¼ˆ1ï¼‰","date":"2020-09-08T16:00:00.000Z","updated":"2021-03-27T06:24:34.638Z","comments":true,"path":"/posts/714f78f3.html","link":"","permalink":"https://yangyfeng.github.io/posts/714f78f3.html","excerpt":"ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿè·¨åŸŸè¯·æ±‚èµ„æºçš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ1ã€ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿç”±äºæµè§ˆå™¨åŒæºç­–ç•¥ï¼Œå‡¡æ˜¯å‘é€è¯·æ±‚urlçš„åè®®ã€åŸŸåã€ç«¯å£ä¸‰è€…ä¹‹é—´ä»»æ„ä¸€ä¸å½“å‰é¡µé¢åœ°å€ä¸åŒå³ä¸ºè·¨åŸŸã€‚å­˜åœ¨è·¨åŸŸçš„æƒ…å†µï¼šç½‘ç»œåè®®ä¸åŒï¼Œå¦‚httpåè®®è®¿é—®httpsåè®®ã€‚ç«¯å£ä¸åŒï¼Œå¦‚80ç«¯å£è®¿é—®8080ç«¯å£ã€‚åŸŸåä¸åŒï¼Œå¦‚qianduanblog.comè®¿é—®baidu.comã€‚å­åŸŸåä¸åŒï¼Œå¦‚abc.qianduanblog.comè®¿é—®def.qianduanblog.comã€‚åŸŸåå’ŒåŸŸåå¯¹åº”ip,å¦‚www.a.comè®¿é—®20.205.28.90.2ã€è·¨åŸŸè¯·æ±‚èµ„æºçš„æ–¹æ³•ï¼š(1)ã€porxyä»£ç†å®šä¹‰å’Œç”¨æ³•ï¼šproxyä»£ç†ç”¨äºå°†è¯·æ±‚å‘é€ç»™åå°æœåŠ¡å™¨ï¼Œé€šè¿‡æœåŠ¡å™¨æ¥å‘é€è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚çš„ç»“æœä¼ é€’ç»™å‰ç«¯ã€‚å®ç°æ–¹æ³•ï¼šé€šè¿‡nginxä»£ç†ï¼›æ³¨æ„ç‚¹ï¼š1ã€å¦‚æœä½ ä»£ç†çš„æ˜¯httpsåè®®çš„è¯·æ±‚ï¼Œé‚£ä¹ˆä½ çš„proxyé¦–å…ˆéœ€è¦ä¿¡ä»»è¯¥è¯ä¹¦ï¼ˆå°¤å…¶æ˜¯è‡ªå®šä¹‰è¯ä¹¦ï¼‰æˆ–è€…å¿½ç•¥è¯ä¹¦æ£€æŸ¥ï¼Œå¦åˆ™ä½ çš„è¯·æ±‚æ— æ³•æˆåŠŸã€‚(2)ã€CORS ã€Cross-Origin Resource Sharingã€‘å®šä¹‰å’Œç”¨æ³•ï¼šæ˜¯ç°ä»£æµè§ˆå™¨æ”¯æŒè·¨åŸŸèµ„æºè¯·æ±‚çš„ä¸€ç§æœ€å¸¸ç”¨çš„æ–¹å¼ã€‚ä½¿ç”¨æ–¹æ³•ï¼šä¸€èˆ¬éœ€è¦åç«¯äººå‘˜åœ¨å¤„ç†è¯·æ±‚æ•°æ®çš„æ—¶å€™ï¼Œæ·»åŠ å…è®¸è·¨åŸŸçš„ç›¸å…³æ“ä½œã€‚å¦‚ä¸‹ï¼š 123456res.writeHead(200, &#123; \"Content-Type\": \"text/html; charset=UTF-8\", \"Access-Control-Allow-Origin\":'http://localhost', 'Access-Control-Allow-Methods': 'GET, POST, OPTIONS', 'Access-Control-Allow-Headers': 'X-Requested-With, Content-Type'&#125;); (3)ã€jsonpå®šä¹‰å’Œç”¨æ³•ï¼šé€šè¿‡åŠ¨æ€æ’å…¥ä¸€ä¸ªscriptæ ‡ç­¾ã€‚æµè§ˆå™¨å¯¹scriptçš„èµ„æºå¼•ç”¨æ²¡æœ‰åŒæºé™åˆ¶ï¼ŒåŒæ—¶èµ„æºåŠ è½½åˆ°é¡µé¢åä¼šç«‹å³æ‰§è¡Œï¼ˆæ²¡æœ‰é˜»å¡çš„æƒ…å†µä¸‹ï¼‰ã€‚ç‰¹ç‚¹ï¼šé€šè¿‡æƒ…å†µä¸‹ï¼Œé€šè¿‡åŠ¨æ€åˆ›å»ºscriptæ¥è¯»å–ä»–åŸŸçš„åŠ¨æ€èµ„æºï¼Œè·å–çš„æ•°æ®ä¸€èˆ¬ä¸ºjsonæ ¼å¼ã€‚å®ä¾‹å¦‚ä¸‹ï¼š1234567891011&lt;script&gt; function testjsonp(data) &#123; console.log(data.name); // è·å–è¿”å›çš„ç»“æœ &#125;&lt;/script&gt;&lt;script&gt; var _script = document.createElement('script'); _script.type = \"text/javascript\"; _script.src = \"http://localhost:8888/jsonp?callback=testjsonp\"; document.head.appendChild(_script);&lt;/script&gt; ç¼ºç‚¹ï¼š 1ã€è¿™ç§æ–¹å¼æ— æ³•å‘é€postè¯·æ±‚ï¼ˆè¿™é‡Œï¼‰ 2ã€å¦å¤–è¦ç¡®å®šjsonpçš„è¯·æ±‚æ˜¯å¦å¤±è´¥å¹¶ä¸å®¹æ˜“ï¼Œå¤§å¤šæ•°æ¡†æ¶çš„å®ç°éƒ½æ˜¯ç»“åˆè¶…æ—¶æ—¶é—´æ¥åˆ¤å®šã€‚","text":"ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿè·¨åŸŸè¯·æ±‚èµ„æºçš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ1ã€ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿç”±äºæµè§ˆå™¨åŒæºç­–ç•¥ï¼Œå‡¡æ˜¯å‘é€è¯·æ±‚urlçš„åè®®ã€åŸŸåã€ç«¯å£ä¸‰è€…ä¹‹é—´ä»»æ„ä¸€ä¸å½“å‰é¡µé¢åœ°å€ä¸åŒå³ä¸ºè·¨åŸŸã€‚å­˜åœ¨è·¨åŸŸçš„æƒ…å†µï¼šç½‘ç»œåè®®ä¸åŒï¼Œå¦‚httpåè®®è®¿é—®httpsåè®®ã€‚ç«¯å£ä¸åŒï¼Œå¦‚80ç«¯å£è®¿é—®8080ç«¯å£ã€‚åŸŸåä¸åŒï¼Œå¦‚qianduanblog.comè®¿é—®baidu.comã€‚å­åŸŸåä¸åŒï¼Œå¦‚abc.qianduanblog.comè®¿é—®def.qianduanblog.comã€‚åŸŸåå’ŒåŸŸåå¯¹åº”ip,å¦‚www.a.comè®¿é—®20.205.28.90.2ã€è·¨åŸŸè¯·æ±‚èµ„æºçš„æ–¹æ³•ï¼š(1)ã€porxyä»£ç†å®šä¹‰å’Œç”¨æ³•ï¼šproxyä»£ç†ç”¨äºå°†è¯·æ±‚å‘é€ç»™åå°æœåŠ¡å™¨ï¼Œé€šè¿‡æœåŠ¡å™¨æ¥å‘é€è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚çš„ç»“æœä¼ é€’ç»™å‰ç«¯ã€‚å®ç°æ–¹æ³•ï¼šé€šè¿‡nginxä»£ç†ï¼›æ³¨æ„ç‚¹ï¼š1ã€å¦‚æœä½ ä»£ç†çš„æ˜¯httpsåè®®çš„è¯·æ±‚ï¼Œé‚£ä¹ˆä½ çš„proxyé¦–å…ˆéœ€è¦ä¿¡ä»»è¯¥è¯ä¹¦ï¼ˆå°¤å…¶æ˜¯è‡ªå®šä¹‰è¯ä¹¦ï¼‰æˆ–è€…å¿½ç•¥è¯ä¹¦æ£€æŸ¥ï¼Œå¦åˆ™ä½ çš„è¯·æ±‚æ— æ³•æˆåŠŸã€‚(2)ã€CORS ã€Cross-Origin Resource Sharingã€‘å®šä¹‰å’Œç”¨æ³•ï¼šæ˜¯ç°ä»£æµè§ˆå™¨æ”¯æŒè·¨åŸŸèµ„æºè¯·æ±‚çš„ä¸€ç§æœ€å¸¸ç”¨çš„æ–¹å¼ã€‚ä½¿ç”¨æ–¹æ³•ï¼šä¸€èˆ¬éœ€è¦åç«¯äººå‘˜åœ¨å¤„ç†è¯·æ±‚æ•°æ®çš„æ—¶å€™ï¼Œæ·»åŠ å…è®¸è·¨åŸŸçš„ç›¸å…³æ“ä½œã€‚å¦‚ä¸‹ï¼š 123456res.writeHead(200, &#123; \"Content-Type\": \"text/html; charset=UTF-8\", \"Access-Control-Allow-Origin\":'http://localhost', 'Access-Control-Allow-Methods': 'GET, POST, OPTIONS', 'Access-Control-Allow-Headers': 'X-Requested-With, Content-Type'&#125;); (3)ã€jsonpå®šä¹‰å’Œç”¨æ³•ï¼šé€šè¿‡åŠ¨æ€æ’å…¥ä¸€ä¸ªscriptæ ‡ç­¾ã€‚æµè§ˆå™¨å¯¹scriptçš„èµ„æºå¼•ç”¨æ²¡æœ‰åŒæºé™åˆ¶ï¼ŒåŒæ—¶èµ„æºåŠ è½½åˆ°é¡µé¢åä¼šç«‹å³æ‰§è¡Œï¼ˆæ²¡æœ‰é˜»å¡çš„æƒ…å†µä¸‹ï¼‰ã€‚ç‰¹ç‚¹ï¼šé€šè¿‡æƒ…å†µä¸‹ï¼Œé€šè¿‡åŠ¨æ€åˆ›å»ºscriptæ¥è¯»å–ä»–åŸŸçš„åŠ¨æ€èµ„æºï¼Œè·å–çš„æ•°æ®ä¸€èˆ¬ä¸ºjsonæ ¼å¼ã€‚å®ä¾‹å¦‚ä¸‹ï¼š1234567891011&lt;script&gt; function testjsonp(data) &#123; console.log(data.name); // è·å–è¿”å›çš„ç»“æœ &#125;&lt;/script&gt;&lt;script&gt; var _script = document.createElement('script'); _script.type = \"text/javascript\"; _script.src = \"http://localhost:8888/jsonp?callback=testjsonp\"; document.head.appendChild(_script);&lt;/script&gt; ç¼ºç‚¹ï¼š 1ã€è¿™ç§æ–¹å¼æ— æ³•å‘é€postè¯·æ±‚ï¼ˆè¿™é‡Œï¼‰ 2ã€å¦å¤–è¦ç¡®å®šjsonpçš„è¯·æ±‚æ˜¯å¦å¤±è´¥å¹¶ä¸å®¹æ˜“ï¼Œå¤§å¤šæ•°æ¡†æ¶çš„å®ç°éƒ½æ˜¯ç»“åˆè¶…æ—¶æ—¶é—´æ¥åˆ¤å®šã€‚ ä»‹ç»ä¸€ä¸‹ JS çš„åŸºæœ¬æ•°æ®ç±»å‹ã€‚1Undefinedã€Nullã€Booleanã€Numberã€String å¦‚ä½•åˆ©ç”¨JavaScriptå®ç°ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ï¼Œå­˜åœ¨onï¼Œoffï¼Œemitä¸‰ä¸ªæ–¹æ³•ï¼Ÿè¿™ä¸ªé¢˜ç›®çš„æ„ä¹‰åœ¨å“ªé‡Œï¼Ÿæˆ‘æƒ³ï¼Œåº”è¯¥æ˜¯å¯¹äºä¸€äº›ç‰¹å®šçš„ä¸šåŠ¡é€»è¾‘ï¼Œæ¯”å¦‚åœ¨æ³¨å†Œä¸€ä¸ªâ€œé€šçŸ¥â€çš„äº‹ä»¶ï¼Œåœ¨ä¸Nativeäº¤äº’ä¹‹åï¼Œå‡è®¾è¿™ä¸ªäº¤äº’æ˜¯åœ¨å…¥å£çº§åˆ«çš„é¡µé¢é‡Œï¼Œé‚£ä¹ˆå¦‚ä½•å‘é€ç»™å…·ä½“æŸä¸ªä¸šåŠ¡å‘¢ï¼Ÿäº‹ä»¶åº”è¯¥æ˜¯æœ€ç®€å•çš„ä¸€ç§æ–¹å¼ï¼Œåœ¨æŸä¸ªå…·ä½“çš„ä¸šåŠ¡ä¸­æ³¨å†Œä¸€ä¸ªäº‹ä»¶ï¼Œç„¶ååœ¨ä¸Nativeäº¤äº’å®Œï¼Œæ‹¿åˆ°æŸäº›æ•°æ®åï¼Œç„¶åè§¦å‘è¿™ä¸ªäº‹ä»¶ã€‚ æˆ‘ä»¬æ¥ä¸€æ­¥ä¸€æ­¥å®ç°ä¸€ä¸ªæœ€ç®€å•çš„äº‹ä»¶ç±»Eventï¼Œä¸è€ƒè™‘ä»»ä½•å…¶ä»–å¤æ‚çš„æƒ…å†µã€‚å‡è®¾åœ¨è¿™ä¸ªEventç±»çš„å†…éƒ¨æœ‰ä¸€ä¸ªthis._events = [] æ•°ç»„æ¥ç»´ç³»æ•´ä¸ªäº‹ä»¶ç³»ç»Ÿï¼Œæˆ‘ä»¬åˆ†åˆ«å®ç°onï¼Œoffï¼Œemitä¸‰ä¸ªæ–¹æ³•å³å¯ã€‚ onï¼ˆæ³¨å†Œä¸€ä¸ªäº‹ä»¶ï¼‰ï¼š1234567Event.prototype.on = function(type,fun)&#123; let cbs = this._events[type]; cbs ? cbs.push(fun) : this._events[type] = []; if (!cbs) &#123; this._events[type].push(fun) &#125; &#125; è¿™é‡Œä¸ºä»€ä¹ˆè¦å°†this._eventsè®¾è®¡ä¸ºäºŒç»´æ•°ç»„ï¼Ÿå› ä¸ºäº‹ä»¶å¯ä»¥æ˜¯å¤šä¸ªï¼Œä½†æ˜¯äº‹ä»¶åå¯èƒ½ç›¸åŒã€‚è¿™ä¸ªé€»è¾‘æ„å›¾éå¸¸çš„æ˜æ˜¾ï¼Œæ ¹æ®typeå‚æ•°ä»this._eventsä¸­è·å–æ˜¯å¦å­˜åœ¨ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªtypeä¸ºkeyçš„æ•°ç»„ï¼Œå¹¶å°†äº‹ä»¶å¥æŸ„ç¨‹åºpushåˆ°æ•°ç»„ä¸­ã€‚ offï¼ˆæ³¨é”€ä¸€ä¸ªäº‹ä»¶ï¼‰ï¼š123456789101112131415161718192021222324252627Event.prototype.off = function (type, fun) &#123; let cbs = this._events[type]; //äº‹ä»¶åˆ—é˜Ÿä¸­æ— äº‹ä»¶ if (!cbs) &#123; return this; &#125; //åˆ é™¤æ‰€æœ‰çš„äº‹ä»¶ if (!event &amp;&amp; !fun) &#123; this._events = &#123;&#125;; return this; &#125; //åªæœ‰äº‹ä»¶åç§°æ—¶ if (event &amp;&amp; !fun) &#123; this._events[type] = null; return this; &#125; //åˆ é™¤æŸä¸ªäº‹ä»¶é˜Ÿåˆ—ä¸­çš„æŸä¸ªäº‹ä»¶ let cb; let i = cbs.length; while (i--) &#123; cb = cbs[i]; if (cb === fun || cb.fun === fun) &#123; cbs.splice(i, 1); break; &#125; &#125; &#125; è™½ç„¶æ³¨é”€äº‹ä»¶æ–¹æ³•çš„é€»è¾‘å¯èƒ½ç›¸æ¯”ä¹‹ä¸‹ç¨è®¸å¤šäº†äº›ï¼Œä½†å®ƒçš„å®ç°ä¹Ÿéå¸¸ç®€å•ï¼Œåªè¦åªå­˜åœ¨äº‹ä»¶ç»„keyåçš„æƒ…å†µï¼Œæˆ–è€…åˆ é™¤æŸä¸ªäº‹ä»¶é˜Ÿåˆ—ä¸­çš„æŸä¸ªäº‹ä»¶å¥æŸ„ç¨‹åºå³å¯ã€‚ emitï¼ˆè§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼‰ï¼š123456789101112Event.prototype.emit = function(type)&#123; let cbs = this._events[type]; let args = tools.toArray(arguments,1); if (cbs) &#123; let i = 0; let j = cbs.length; for(;i&lt;j;i++)&#123; let cb = cbs[i]; cb.apply(this,args); &#125; &#125;&#125; é€»è¾‘ä¾ç„¶éå¸¸ç®€å•ï¼Œé€šè¿‡äº‹ä»¶åä»this._eventsè·å–ç›¸åº”çš„äº‹ä»¶å¥æŸ„ç¨‹åºæ•°ç»„ï¼Œç„¶åå°†argumentsè½¬æˆæ•°ç»„ï¼Œï¼ˆè¿™é‡Œè€ƒè™‘çš„æ˜¯å¯èƒ½ä¼šä¼ å…¥å‚æ•°ï¼‰å¦‚æœäº‹ä»¶å¥æŸ„ç¨‹åºæ•°ç»„å­˜åœ¨ï¼Œè¿›è¡Œå¾ªç¯ï¼Œå†è®²argså‚æ•°applyç»™æ¯ä¸€ä¸ªå–å‡ºæ¥çš„äº‹ä»¶å¥æŸ„ç¨‹åºã€‚ ##è¯·æè¿°ä¸€ä¸ªç½‘é¡µä»å¼€å§‹è¯·æ±‚é“æœ€ç»ˆæ˜¾ç¤ºçš„å®Œæ•´è¿‡ç¨‹ï¼Ÿ12345678ä¸€ä¸ªç½‘é¡µä»è¯·æ±‚åˆ°æœ€ç»ˆæ˜¾ç¤ºçš„å®Œæ•´è¿‡ç¨‹ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹7ä¸ªæ­¥éª¤ï¼šï¼ˆ1ï¼‰åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç½‘å€ï¼›ï¼ˆ2ï¼‰å‘é€è‡³DNSæœåŠ¡å™¨å¹¶è·å¾—åŸŸåå¯¹åº”çš„WEBæœåŠ¡å™¨IPåœ°å€ï¼›ï¼ˆ3ï¼‰ä¸WEBæœåŠ¡å™¨å»ºç«‹TCPè¿æ¥ï¼›ï¼ˆ4ï¼‰æµè§ˆå™¨å‘WEBæœåŠ¡å™¨çš„IPåœ°å€å‘é€ç›¸åº”çš„HTTPè¯·æ±‚ï¼›ï¼ˆ5ï¼‰WEBæœåŠ¡å™¨å“åº”è¯·æ±‚å¹¶è¿”å›æŒ‡å®šURLçš„æ•°æ®ï¼Œæˆ–é”™è¯¯ä¿¡æ¯ï¼Œå¦‚æœè®¾å®šé‡å®šå‘ï¼Œåˆ™é‡å®šå‘åˆ°æ–°çš„URLåœ°å€ï¼›ï¼ˆ6ï¼‰æµè§ˆå™¨ä¸‹è½½æ•°æ®åè§£æHTMLæºæ–‡ä»¶ï¼Œè§£æçš„è¿‡ç¨‹ä¸­å®ç°å¯¹é¡µé¢çš„æ’ç‰ˆï¼Œè§£æå®Œæˆååœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºåŸºç¡€é¡µé¢ï¼›ï¼ˆ7ï¼‰åˆ†æé¡µé¢ä¸­çš„è¶…é“¾æ¥å¹¶æ˜¾ç¤ºåœ¨å½“å‰é¡µé¢ï¼Œé‡å¤ä»¥ä¸Šè¿‡ç¨‹ç›´è‡³æ— è¶…é“¾æ¥éœ€è¦å‘é€ï¼Œå®Œæˆå…¨éƒ¨æ•°æ®æ˜¾ç¤ºã€‚ è¯·æè¿°ä¸€ä¸‹ cookiesï¼ŒsessionStorage å’Œ localStorage çš„åŒºåˆ«ï¼Ÿ12345678Web Storageæœ‰ä¸¤ç§å½¢å¼ï¼šLocalStorageï¼ˆæœ¬åœ°å­˜å‚¨ï¼‰å’ŒsessionStorageï¼ˆä¼šè¯å­˜å‚¨ï¼‰ã€‚è¿™ä¸¤ç§æ–¹å¼éƒ½å…è®¸å¼€å‘è€…ä½¿ç”¨jsè®¾ç½®çš„é”®å€¼å¯¹è¿›è¡Œæ“ä½œï¼Œåœ¨åœ¨é‡æ–°åŠ è½½ä¸åŒçš„é¡µé¢çš„æ—¶å€™è¯»å‡ºå®ƒä»¬ã€‚è¿™ä¸€ç‚¹ä¸cookieç±»ä¼¼ã€‚ï¼ˆ1ï¼‰ä¸cookieä¸åŒçš„æ˜¯ï¼šWeb Storageæ•°æ®å®Œå…¨å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œä¸éœ€è¦é€šè¿‡æµè§ˆå™¨çš„è¯·æ±‚å°†æ•°æ®ä¼ ç»™æœåŠ¡å™¨ï¼Œå› æ­¤xç›¸æ¯”cookieæ¥è¯´èƒ½å¤Ÿå­˜å‚¨æ›´å¤šçš„æ•°æ®ï¼Œå¤§æ¦‚5Må·¦å³ã€‚ï¼ˆ2ï¼‰LocalStorageå’ŒsessionStorageåŠŸèƒ½ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯å­˜å‚¨æŒä¹…æ—¶é—´ä¸ä¸€æ ·ã€‚LocalStorageï¼šæµè§ˆå™¨å…³é—­äº†æ•°æ®ä»ç„¶å¯ä»¥ä¿å­˜ä¸‹æ¥ï¼Œå¹¶å¯ç”¨äºæ‰€æœ‰åŒæºï¼ˆç›¸åŒçš„åŸŸåã€åè®®å’Œç«¯å£ï¼‰çª—å£ï¼ˆæˆ–æ ‡ç­¾é¡µï¼‰ï¼›sessionStorageï¼šæ•°æ®å­˜å‚¨åœ¨çª—å£å¯¹è±¡ä¸­ï¼Œçª—å£å…³é—­åå¯¹åº”çš„çª—å£å¯¹è±¡æ¶ˆå¤±ï¼Œå­˜å‚¨çš„æ•°æ®ä¹Ÿä¼šä¸¢å¤±ã€‚æ³¨æ„ï¼šsessionStorage éƒ½å¯ä»¥ç”¨localStorage æ¥ä»£æ›¿ï¼Œä½†éœ€è¦è®°ä½çš„æ˜¯ï¼Œåœ¨çª—å£æˆ–è€…æ ‡ç­¾é¡µå…³é—­æ—¶ï¼Œä½¿ç”¨sessionStorage å­˜å‚¨çš„æ•°æ®ä¼šä¸¢å¤±ã€‚ï¼ˆ3ï¼‰ä½¿ç”¨ local storageå’Œsession storageä¸»è¦é€šè¿‡åœ¨jsä¸­æ“ä½œè¿™ä¸¤ä¸ªå¯¹è±¡æ¥å®ç°ï¼Œåˆ†åˆ«ä¸ºwindow.localStorageå’Œwindow.sessionStorage. è¿™ä¸¤ä¸ªå¯¹è±¡å‡æ˜¯Storageç±»çš„ä¸¤ä¸ªå®ä¾‹ï¼Œè‡ªç„¶ä¹Ÿå…·æœ‰Storageç±»çš„å±æ€§å’Œæ–¹æ³•ã€‚ è¯´è¯´jsä¸­çš„event loopæœºåˆ¶ï¼Ÿé¦–å…ˆjavascriptæ˜¯å•çº¿ç¨‹æœºåˆ¶ï¼Œå°±æ˜¯æŒ‡å½“æˆ‘ä»¬åœ¨æ‰§è¡Œä¸€ä¸ªä»»åŠ¡çš„æ—¶å€™ï¼Œå…¶å®ƒçš„äº‹æƒ…éƒ½å¾—ç­‰å¾…ä»–æ‰§è¡Œå®Œæ¯• åœ¨jsä¸­æ‰€æœ‰ä»»åŠ¡åˆ†ä¸ºä¸¤ç§, åŒæ­¥ä»»åŠ¡åŠå¼‚æ­¥ä»»åŠ¡ æ‰§è¡Œæ ˆæ‰§è¡Œä¸»çº¿ç¨‹ä»»åŠ¡ï¼Œå½“æœ‰æ“ä½œdomï¼Œajaxäº¤äº’ï¼Œä½¿ç”¨å®šæ—¶å™¨å¼‚æ­¥æ“ä½œçš„æ—¶å€™ï¼Œè¿™äº›ä»»åŠ¡ä¼šè¢«ç§»å…¥åˆ° callback queue ä»»åŠ¡é˜Ÿåˆ—ä¸­å½“ä¸»çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºæ—¶ï¼Œä¼šè¯»å–callback queueé˜Ÿåˆ—ä¸­çš„å‡½æ•°ï¼Œè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œä¸Šè¿°è¿‡ç¨‹ä¼šä¸æ–­é‡å¤ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„Event Loop(äº‹ä»¶å¾ªç¯) åœ¨ä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¸­,å¼‚æ­¥ä»»åŠ¡è¿”å›ç»“æœåä¼šè¢«æ‰”è¿›ä¸€ä¸ªä»»åŠ¡åˆ—é˜Ÿä¸­ï¼Œæ ¹æ®å¼‚æ­¥äº‹ä»¶ä¸Šçš„ç±»å‹ï¼Œè¿™ä¸ªäº‹ä»¶ä¼šè¢«æ”¾åˆ°å¯¹åº”çš„å®ä»»åŠ¡æˆ–è€…å¾®ä»»åŠ¡åˆ—é˜Ÿä¸­å»ï¼Œ å½“æ‰§è¡Œæ ˆä¸ºç©ºçš„æ—¶å€™ï¼Œä¸»çº¿ç¨‹ä¼šå…ˆæŸ¥çœ‹å¾®ä»»åŠ¡ä¸­çš„äº‹ä»¶åˆ—é˜Ÿï¼Œå¦‚æœå¾®ä»»åŠ¡ä¸æ˜¯ç©ºå…ˆä¾æ¬¡æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå¦‚æœæ˜¯ç©ºçš„å†å»å®ä»»åŠ¡åˆ—é˜Ÿä¸­å–å‡ºä¸€ä¸ªäº‹ä»¶å¹¶æŠŠå¯¹åº”çš„å›è°ƒåŠ å…¥åˆ°å½“å‰æ‰§è¡Œæ ˆï¼Œå¦‚æ­¤åå¤ï¼Œè¿›å…¥å¾ªç¯ ä¸‹é¢ç”¨ä¸€é“é¢˜æ¥åŠ æ·±å°è±¡ 1234567891011setTimeout(function () &#123; console.log(1);&#125;);new Promise( (resolve,reject) =&gt; &#123; console.log(2)&#125;).then( (val) =&gt; &#123; console.log(val);&#125;)è¾“å‡ºçš„ç»“æœæ˜¯2,1 è§£é‡Šï¼š å®šæ—¶å™¨æ˜¯å®ä»»åŠ¡ï¼ŒPromiseæ˜¯å¼‚æ­¥çš„æ˜¯å¾®ä»»åŠ¡ã€‚æ‰€ä»¥å…ˆæ‰§è¡Œå¾®ä»»åŠ¡ console.log(2),åœ¨æ‰§è¡Œå®ä»»åŠ¡console.log(1) æ€ä¹ˆç†è§£jsä¸­çš„å†…å­˜æ³„æ¼?å†…å­˜æ³„æ¼çš„å®šä¹‰ä¸ºå½“ç¨‹åºä¸å†éœ€è¦çš„å†…å­˜ï¼Œç”±äºæŸç§åŸå› å…¶ä¸ä¼šè¿”å›åˆ°æ“ä½œç³»ç»Ÿæˆ–å¯ç”¨å†…å­˜æ± ï¼Œå†…å­˜æ³„æ¼ä¼šå¯¼è‡´ä¸€ç³»åˆ—é—®é¢˜ï¼Œæ¯”å¦‚: è¿è¡Œç¼“é˜³ï¼Œå´©æºƒï¼Œé«˜å»¶è¿Ÿç­‰ jsä¸­å¸¸è§çš„å†…å­˜æ³„éœ²: 1ã€æ„å¤–çš„å…¨å±€å˜é‡ 2ã€é—å¿˜çš„è®¡æ—¶å™¨æˆ–å›è°ƒå‡½æ•° 3ã€è„±ç¦»æ–‡æ¡£çš„DOMå¼•ç”¨ 4ã€é—­åŒ… æ€ä¹ˆç†è§£jsä¸­æ˜¯åŸå‹é“¾? å¦‚ä½•å®ç°ç»§æ‰¿? æ¯ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ æ¯ä¸ªåŸå‹å¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘æ„é€ å‡½æ•°çš„æŒ‡é’ˆ æ¯ä¸ªå®ä¾‹éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘åŸå‹å¯¹è±¡çš„æŒ‡é’ˆ æŸ¥æ‰¾æ–¹å¼æ˜¯ä¸€å±‚å±‚å‘ä¸ŠæŸ¥æ‰¾ç›´è‡³é¡¶å±‚Object.prototype å®ç°ç»§æ‰¿çš„æ–¹å¼å¸¸ç”¨çš„æœ‰: åŸå‹é“¾ç»§æ‰¿ å€Ÿç”¨æ„é€ å‡½æ•°(call,apply) ç»„åˆç»§æ‰¿(åŸå‹é“¾ï¼‹æ„é€ å‡½æ•°) åŸå‹å¼ç»§æ‰¿ å¯„ç”Ÿå¼ç»„åˆå¼ç»§æ‰¿ new è¿ç®—ç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆ?1ã€åˆ›å»ºä¸€ä¸ªç©ºçš„å¯¹è±¡ 2ã€å°†ç©ºçš„å¯¹è±¡çš„protoæˆå‘˜æŒ‡å‘æ„é€ å‡½æ•°çš„prototypeæˆå‘˜å¯¹è±¡ 3ã€è°ƒç”¨æ„é€ å‡½æ•°å°†thisæŒ‡å‘å‰é¢åˆ›å»ºçš„å¯¹è±¡","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"é¢è¯•é¢˜","slug":"é¢è¯•é¢˜","permalink":"https://yangyfeng.github.io/blogpost/tags/é¢è¯•é¢˜/"}]},{"title":"lessåœ¨vueä¸­çš„ä½¿ç”¨","slug":"CSSé¢„å¤„ç†/lessåœ¨vueä¸­çš„ä½¿ç”¨","date":"2020-09-07T16:00:00.000Z","updated":"2021-03-27T06:24:34.613Z","comments":true,"path":"/posts/8136685c.html","link":"","permalink":"https://yangyfeng.github.io/posts/8136685c.html","excerpt":"","text":"lessåœ¨vueä¸­çš„ä½¿ç”¨é¦–å…ˆvueç¯å¢ƒæ­å»ºæˆåŠŸ ç¬¬ä¸€æ­¥ï¼šå®‰è£… less å’Œless-loader 1å®‰è£…lessä¾èµ–ï¼šnpm install less less-loader --save ç¬¬äºŒæ­¥ï¼šä¿®æ”¹webpack.base.config.jsæ–‡ä»¶ï¼Œé…ç½®loaderåŠ è½½ä¾èµ–ï¼Œè®©å…¶æ”¯æŒå¤–éƒ¨çš„less,åœ¨åŸæ¥çš„ä»£ç ä¸Šæ·»åŠ  1234567// æ­¤ç§æ–¹æ³•åœ¨æ§åˆ¶å°ä¸­æ ‡ç­¾æ ·å¼æ˜¾ç¤ºçš„æ˜¯styleæ ‡ç­¾æ ·å¼&#123; test: /\\.less$/, loader: \"style-loader!css-loader!less-loader\",&#125;, 1234567// å¯ä»¥åœ¨æ§åˆ¶å°ä¸­çœ‹åˆ°å½“å‰æ ‡ç­¾æ ·å¼æ¥è‡ªäºå“ªä¸ªlessæ–‡ä»¶&#123; test: /\\.less$/, loader: \"style-loader!css-loader!less-loader\", options: &#123; sourceMap: true &#125;&#125; ç¬¬ä¸‰æ­¥ï¼šåœ¨vueæ–‡ä»¶ä¸­çš„styleæ ‡ç­¾ä¸­æ·»åŠ lang=â€lessâ€å³å¯åœ¨æ ‡ç­¾ä¸­ä½¿ç”¨lessï¼Œæˆ–è€…å¤–éƒ¨å¼•å…¥less","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Less","slug":"Less","permalink":"https://yangyfeng.github.io/blogpost/tags/Less/"},{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"}]},{"title":"goè¯­è¨€çš„å®‰è£…","slug":"Golang/goè¯­è¨€çš„å®‰è£…","date":"2020-09-07T16:00:00.000Z","updated":"2021-03-27T06:24:34.616Z","comments":true,"path":"/posts/7b1282c0.html","link":"","permalink":"https://yangyfeng.github.io/posts/7b1282c0.html","excerpt":"","text":"ç®€ä»‹Go æ˜¯ä¸€ä¸ªå¼€æºçš„ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒèƒ½è®©æ„é€ ç®€å•ã€å¯é ä¸”é«˜æ•ˆçš„è½¯ä»¶å˜å¾—å®¹æ˜“ã€‚ è¯­è¨€ç‰¹è‰² ç®€æ´ã€å¿«é€Ÿã€å®‰å…¨ å¹¶è¡Œã€æœ‰è¶£ã€å¼€æº å†…å­˜ç®¡ç†ã€væ•°ç»„å®‰å…¨ã€ç¼–è¯‘è¿…é€Ÿ è¯­è¨€ç”¨é€”Go è¯­è¨€è¢«è®¾è®¡æˆä¸€é—¨åº”ç”¨äºæ­è½½ Web æœåŠ¡å™¨ï¼Œå­˜å‚¨é›†ç¾¤æˆ–ç±»ä¼¼ç”¨é€”çš„å·¨å‹ä¸­å¤®æœåŠ¡å™¨çš„ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ã€‚ å¯¹äºé«˜æ€§èƒ½åˆ†å¸ƒå¼ç³»ç»Ÿé¢†åŸŸè€Œè¨€ï¼ŒGo è¯­è¨€æ— ç–‘æ¯”å¤§å¤šæ•°å…¶å®ƒè¯­è¨€æœ‰ç€æ›´é«˜çš„å¼€å‘æ•ˆç‡ã€‚å®ƒæä¾›äº†æµ·é‡å¹¶è¡Œçš„æ”¯æŒï¼Œè¿™å¯¹äºæ¸¸æˆæœåŠ¡ç«¯çš„å¼€å‘è€Œè¨€æ˜¯å†å¥½ä¸è¿‡äº†ã€‚ è¯­è¨€ç¯å¢ƒå®‰è£…Go è¯­è¨€æ”¯æŒä»¥ä¸‹ç³»ç»Ÿï¼š Linux FreeBSD Mac OS Xï¼ˆä¹Ÿç§°ä¸º Darwinï¼‰ Window ä½¿ç”¨è¿™ä¸ªåœ°å€ï¼šhttps://golang.google.cn/dl/ã€‚ Go ç¯å¢ƒå˜é‡ å°†%GOPATH%\\binæ·»åŠ åˆ°Pathé‡Œ æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ è‡³æ­¤å°±å¯ä»¥å¼€å§‹ä½ çš„ç¬¬ä¸€ä¸ªGoç¨‹åºäº†ï¼ï¼ï¼ï¼ åŸæ–‡åœ°å€ï¼šhttps://blog.csdn.net/shumeigang/article/details/88664961","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/åç«¯/"}],"tags":[{"name":"GoLang","slug":"GoLang","permalink":"https://yangyfeng.github.io/blogpost/tags/GoLang/"}]},{"title":"microsoft vs codeæ¢ä¸»é¢˜","slug":"å¼€å‘å·¥å…·/microsoft vs codeæ¢ä¸»é¢˜","date":"2020-09-07T11:47:00.000Z","updated":"2021-03-27T06:24:34.643Z","comments":true,"path":"/posts/e8b3e153.html","link":"","permalink":"https://yangyfeng.github.io/posts/e8b3e153.html","excerpt":"01ã€èœå•é€‰æ‹© -&gt; å‚è€ƒä¸‹å›¾ 02ã€å¯¹è¯æ¡†è¯´æ˜ -&gt; å‚è€ƒä¸‹å›¾","text":"01ã€èœå•é€‰æ‹© -&gt; å‚è€ƒä¸‹å›¾ 02ã€å¯¹è¯æ¡†è¯´æ˜ -&gt; å‚è€ƒä¸‹å›¾ 01ã€èœå•é€‰æ‹© -&gt; å‚è€ƒä¸‹å›¾ 02ã€å¯¹è¯æ¡†è¯´æ˜ -&gt; å‚è€ƒä¸‹å›¾","categories":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://yangyfeng.github.io/blogpost/categories/å¼€å‘å·¥å…·/"}],"tags":[{"name":"VsCode","slug":"VsCode","permalink":"https://yangyfeng.github.io/blogpost/tags/VsCode/"}]},{"title":"microsoft vs codeå¸¸ç”¨ä¸»é¢˜æ”¶é›†","slug":"å¼€å‘å·¥å…·/microsoft vs codeå¸¸ç”¨ä¸»é¢˜æ”¶é›†","date":"2020-09-07T10:55:00.000Z","updated":"2021-03-27T06:24:34.642Z","comments":true,"path":"/posts/230490ec.html","link":"","permalink":"https://yangyfeng.github.io/posts/230490ec.html","excerpt":"é¡µé¢å¤ªç™½ä¸å–œæ¬¢ï¼Œé»‘è‰²åˆå¤ªå‹æŠ‘æ€ä¹ˆåŠï¼Ÿ","text":"é¡µé¢å¤ªç™½ä¸å–œæ¬¢ï¼Œé»‘è‰²åˆå¤ªå‹æŠ‘æ€ä¹ˆåŠï¼Ÿ Slack Themeï¼ˆæœ¬äººå¾ˆå–œæ¬¢ï¼‰ cozygreenï¼ˆè¿‘è§†çœ¼å¿…å¤‡&lt;(â–°Ë˜â—¡Ë˜â–°)&gt;ï¼‰","categories":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://yangyfeng.github.io/blogpost/categories/å¼€å‘å·¥å…·/"}],"tags":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://yangyfeng.github.io/blogpost/tags/å¼€å‘å·¥å…·/"}]},{"title":"vscodeæ±‰åŒ–æ•™ç¨‹","slug":"å¼€å‘å·¥å…·/vscodeæ±‰åŒ–æ•™ç¨‹","date":"2020-09-07T10:55:00.000Z","updated":"2021-03-27T06:24:34.643Z","comments":true,"path":"/posts/e8b3e153.html","link":"","permalink":"https://yangyfeng.github.io/posts/e8b3e153.html","excerpt":"VSCODEé»˜è®¤æƒ…å†µä¸‹æ˜¯è‹±æ–‡çš„ã€‚ ç›¸å…³æ¨èï¼šã€Švscodeä½¿ç”¨æ•™ç¨‹ã€‹","text":"VSCODEé»˜è®¤æƒ…å†µä¸‹æ˜¯è‹±æ–‡çš„ã€‚ ç›¸å…³æ¨èï¼šã€Švscodeä½¿ç”¨æ•™ç¨‹ã€‹ ç‚¹å‡»å·¦ä¾§èœå•æ æœ€åº•ä¸‹çš„å››æ–¹å½¢æŒ‰é’®æ‰“å¼€æ‰©å±•ç¨‹åºç•Œé¢ï¼Œåœ¨è¾“å…¥æ¡†å†…è¾“å…¥Chineseå¹¶æ‰¾åˆ°ã€Chinese (Simplified) Language Pack for Visual Studio Codeã€‘è¿™ä¸ªæ’ä»¶ã€‚åœ¨è¿™ä¸ªæ’ä»¶çš„è¯¦ç»†ç•Œé¢ç‚¹å‡»ã€Installã€‘æŒ‰é’®è¿›è¡Œå®‰è£…ã€‚ å®‰è£…å®ŒæˆåæŒ‰å¿«æ·é”®ã€CTRL+SHILF+Pã€‘æ‰“å¼€å‘½ä»¤é¢æ¿å¹¶è¾“å…¥ã€configã€‘åæ‰¾åˆ°ã€Configure Display Languageã€‘é€‰é¡¹å¹¶ç‚¹å‡»ã€‚ åœ¨æ¥ä¸‹æ¥çš„äºŒçº§èœå•é€‰æ‹©ã€zh-cnã€‘ï¼Œæ­¤æ—¶ç¼–è¾‘å™¨ä¼šå¼¹å‡ºä¸ªè®¿é—®çª—å£æ˜¯å¦è¦é‡å¯ç¼–è¾‘å™¨ç”Ÿæ•ˆè¯­è¨€çš„ä¿®æ”¹ï¼Œç‚¹å‡»ã€restartã€‘æŒ‰é’®é‡æ–°å¯åŠ¨ç¼–è¾‘å™¨ã€‚ é‡å¯ç¼–è¾‘å™¨åå°±æ±‰åŒ–æˆä¸­æ–‡æˆåŠŸäº† ä»¥ä¸Šå°±æ˜¯vscodeå¦‚ä½•æ±‰åŒ–çš„è¯¦ç»†å†…å®¹","categories":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://yangyfeng.github.io/blogpost/categories/å¼€å‘å·¥å…·/"}],"tags":[{"name":"VsCode","slug":"VsCode","permalink":"https://yangyfeng.github.io/blogpost/tags/VsCode/"}]},{"title":"ä»€ä¹ˆæ˜¯å‰ç«¯å·¥ç¨‹åŒ–","slug":"å‰ç«¯å·¥ç¨‹åŒ–/ä»€ä¹ˆæ˜¯å‰ç«¯å·¥ç¨‹åŒ–","date":"2020-09-04T08:20:00.000Z","updated":"2021-03-27T06:24:34.629Z","comments":true,"path":"/posts/b4383892.html","link":"","permalink":"https://yangyfeng.github.io/posts/b4383892.html","excerpt":"å‰ç«¯å·¥ç¨‹åŒ–æ˜¯ç°ä»£å‰ç«¯çš„å¿…å¤‡æŠ€èƒ½å¿«ç‹—æ‰“è½¦å‰ç«¯å›¢é˜Ÿä¸ºä¾‹ã€‚ å‰ç«¯çš„å¼€å‘æ¡†æ¶ä»¥ Vue ä¸ºä¸»ï¼Œä½¿ç”¨ Webpack è§£å†³æ¥å£ mockã€ä»£ç æ£€æŸ¥ã€ä»£ç ç¼–è¯‘ã€æ„å»ºã€å‹ç¼©ã€æ·»åŠ ç‰ˆæœ¬å·ã€éƒ¨ç½²ç­‰å…¨æµç¨‹çš„å·¥ä½œã€‚æ¶‰åŠåˆ°çš„æŠ€æœ¯ç‚¹æœ‰ Vueã€Vuexã€ESlintã€stylelintã€mockã€Webpackã€Sassã€PostCSS ç­‰ã€‚å¯¹å‰ç«¯çš„è¦æ±‚ç›¸æ¯”å‡ å¹´å‰å·²ç»ä»å•çº¯çš„ JSã€CSS é—®é¢˜å˜æˆäº†æ›´å¤šå·¥ç¨‹åŒ–ä¸ºä¸»çš„é—®é¢˜ã€‚ å‰ç«¯å·¥ç¨‹åŒ–æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„è¯é¢˜ï¼Œç”šè‡³åˆ°ç°åœ¨éƒ½æ²¡æœ‰ä¸€ä¸ªå‡†ç¡®çš„å®šä¹‰ã€‚ç¬”è€…å¯¹å‰ç«¯å·¥ç¨‹åŒ–çš„ç†è§£æ˜¯ï¼šä¸€åˆ‡èƒ½æå‡å‰ç«¯å¼€å‘æ•ˆç‡ï¼Œæé«˜å‰ç«¯åº”ç”¨è´¨é‡çš„æ‰‹æ®µå’Œå·¥å…·éƒ½æ˜¯å‰ç«¯å·¥ç¨‹åŒ–ã€‚","text":"å‰ç«¯å·¥ç¨‹åŒ–æ˜¯ç°ä»£å‰ç«¯çš„å¿…å¤‡æŠ€èƒ½å¿«ç‹—æ‰“è½¦å‰ç«¯å›¢é˜Ÿä¸ºä¾‹ã€‚ å‰ç«¯çš„å¼€å‘æ¡†æ¶ä»¥ Vue ä¸ºä¸»ï¼Œä½¿ç”¨ Webpack è§£å†³æ¥å£ mockã€ä»£ç æ£€æŸ¥ã€ä»£ç ç¼–è¯‘ã€æ„å»ºã€å‹ç¼©ã€æ·»åŠ ç‰ˆæœ¬å·ã€éƒ¨ç½²ç­‰å…¨æµç¨‹çš„å·¥ä½œã€‚æ¶‰åŠåˆ°çš„æŠ€æœ¯ç‚¹æœ‰ Vueã€Vuexã€ESlintã€stylelintã€mockã€Webpackã€Sassã€PostCSS ç­‰ã€‚å¯¹å‰ç«¯çš„è¦æ±‚ç›¸æ¯”å‡ å¹´å‰å·²ç»ä»å•çº¯çš„ JSã€CSS é—®é¢˜å˜æˆäº†æ›´å¤šå·¥ç¨‹åŒ–ä¸ºä¸»çš„é—®é¢˜ã€‚ å‰ç«¯å·¥ç¨‹åŒ–æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„è¯é¢˜ï¼Œç”šè‡³åˆ°ç°åœ¨éƒ½æ²¡æœ‰ä¸€ä¸ªå‡†ç¡®çš„å®šä¹‰ã€‚ç¬”è€…å¯¹å‰ç«¯å·¥ç¨‹åŒ–çš„ç†è§£æ˜¯ï¼šä¸€åˆ‡èƒ½æå‡å‰ç«¯å¼€å‘æ•ˆç‡ï¼Œæé«˜å‰ç«¯åº”ç”¨è´¨é‡çš„æ‰‹æ®µå’Œå·¥å…·éƒ½æ˜¯å‰ç«¯å·¥ç¨‹åŒ–ã€‚ å®ç°å‰ç«¯å·¥ç¨‹åŒ–çš„å¥½å¤„åœ¨å‰ç«¯é¢†åŸŸè¶Šæ¥è¶Šç¹è£ï¼Œè¶Šæ¥è¶Šå¤æ‚çš„ä»Šå¤©ï¼Œå­¦ä¹ å‰ç«¯å·¥ç¨‹åŒ–åˆèƒ½ç»™æˆ‘ä»¬å¸¦æ¥å“ªäº›å¥½å¤„å‘¢ï¼Ÿ 1. æå¤§æå‡å¼€å‘æ•ˆç‡ å‰ç«¯å·¥ç¨‹åŒ–çš„æ¼”è¿›å¯ä»¥æå¤§åœ°æå‡å¼€å‘æ•ˆç‡ã€‚å‰ç«¯å‘å±•åˆ°ç°åœ¨ï¼Œç¤¾åŒºæ¶Œç°å‡ºå¤§é‡çš„ä¼˜ç§€æ¡†æ¶å’Œå·¥å…·ï¼Œå¾—ä»¥å°†å‰ç«¯å·¥ç¨‹å¸ˆä»ç¹é‡çš„å·¥ä½œä¸­è§£è„±å‡ºæ¥ã€‚ ä¸¾ä¸ªä¾‹å­ï¼ŒåŒæ ·åœ°ç»™ä¸€ä¸ª dom å…ƒç´ ç»‘å®šä¸€ä¸ª click äº‹ä»¶ï¼Œä½¿ç”¨çº¯ JS å¯èƒ½è¿™æ ·åšï¼š 123document.getElementById('myDom').addEventListener('click', function(e)&#123; // do some thing&#125;) æˆ‘ä»¬å¼•å…¥ jQuery çš„æƒ…å†µä¸‹ï¼Œå°±ç®€å•äº†è®¸å¤šï¼š 123$('#myDom').click(function()&#123; // do some thing&#125;) å¦‚æœåœ¨ Vue ä¸­ï¼Œæ—¢ç®€å•åˆæ¸…æ™°ï¼š 123456789&lt;div @click=\"doSomething\"&gt;&lt;/div&gt;// ...methods: &#123; doSomething: function () &#123; // do some thing &#125;&#125; å¦‚æœæœ‰å¤§é‡çš„äº‹ä»¶ç»‘å®šï¼Œæ²¡æœ‰å¼€å‘å·¥å…·çš„æ”¯æ’‘ï¼Œå°†æœ‰å¤§é‡é‡å¤çš„ä»£ç éœ€è¦å†™ï¼Œæƒ³æƒ³å°±å¤´ç–¼ã€‚æ•ˆç‡ä¹‹ä½ä¸‹å¯è§ä¸€æ–‘ã€‚ ä¸ºäº†å‡å°‘è¯·æ±‚æ•°ï¼Œå‰ç«¯å¼€å‘è€…é€šå¸¸ä¼šæŠŠå¤§é‡å°ºå¯¸è¾ƒå°ã€ç»†ç¢çš„å°å›¾ç‰‡åˆå¹¶æˆä¸€å¼ å¤§çš„é€æ˜çš„é›ªç¢§å›¾ï¼Œåœ¨ CSS ä¸­é€šè¿‡è®¾ç½®å…ƒç´ çš„ background-position æ¥ä½¿ç”¨å›¾ç‰‡ã€‚å¦‚æœæ˜¯å®Œå…¨æ‰‹åŠ¨å»æ‹¼å›¾ã€æµ‹è·ï¼Œå°†è€—è´¹å¤§é‡çš„æ—¶é—´ã€‚ä½†åœ¨é›ªç¢§å›¾æ’ä»¶ webpack-spriteSmith çš„å¸®åŠ©ä¸‹ï¼Œå°å›¾å¯ä»¥è‡ªåŠ¨æ‹¼æˆé›ªç¢§å›¾ï¼Œå¹¶ç”Ÿæˆå¯¹åº”çš„ CSS æ ·å¼ï¼Œæ’ä»¶èƒ½å¸®åŠ©æˆ‘ä»¬å¤„ç†è¿™ç§æ¯«æ— æŠ€æœ¯å«é‡çš„ä½“åŠ›æ´»ï¼Œæ•ˆç‡åŠ å€ã€‚ å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæ²¡æœ‰å‰ç«¯è„šæ‰‹æ¶çš„æƒ…å†µä¸‹ï¼Œå¦‚æœä»é›¶å¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œéœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´å»åˆå§‹åŒ–é¡¹ç›®ï¼Œæ¯”å¦‚å®‰è£…å„ç§ npm åŒ…ã€é…ç½®å„ç§ Webpack çš„ loaderã€é…ç½®çƒ­åŠ è½½ã€‚å¦‚æœç¢°åˆ°ç¯å¢ƒæ­å»ºä¸é¡ºåˆ©çš„æƒ…å†µï¼Œè¿˜éœ€è¦èŠ±è´¹å¾ˆé•¿æ—¶é—´å»æ’æŸ¥é—®é¢˜ï¼Œå•å•ä¸€ä¸ªé¡¹ç›®åˆå§‹åŒ–çš„åŠ¨ä½œå°±è¶³ä»¥è€—è´¹ä¸€ä¸¤å¤©çš„æ—¶é—´ã€‚æœ‰è„šæ‰‹æ¶å·¥å…·çš„æƒ…å†µä¸‹ï¼Œåªéœ€è¦ç®€å•çš„ä¸€ä¸ªåˆå§‹åŒ–å‘½ä»¤ï¼Œ2 åˆ†é’Ÿçš„æ—¶é—´å°±å¯ä»¥å®Œæˆé¡¹ç›®çš„åˆå§‹åŒ–ã€‚å‰ç«¯åªéœ€è¦èšç„¦åˆ°ä¸šåŠ¡å¼€å‘æœ¬èº«ï¼Œæ•ˆç‡å¤§å¹…æå‡ã€‚ 2. é™ä½å¤§å‹é¡¹ç›®çš„å¼€å‘éš¾åº¦ é¦–å…ˆå‰ç«¯å·¥ç¨‹åŒ–ä¸­æå€¡æ¨¡å—åŒ–ã€ç»„ä»¶åŒ–ã€‚æ¨¡å—åŒ–çš„æ€æƒ³å°†å¤§å‹é¡¹ç›®çš„åŠŸèƒ½è¿›è¡Œåˆ†è§£ï¼Œåˆ†æ‹†æˆä¸€ä¸ªä¸ªç‹¬ç«‹çš„æ¨¡å—ã€‚æ¯ä¸ªæ¨¡å—çš„å¼€å‘éš¾åº¦ç›´çº¿ä¸‹é™ã€‚åŒæ—¶åŸºäºç‰ˆæœ¬æ§åˆ¶å·¥å…· Gitï¼Œå¤šä¸ªå¼€å‘è€…å¯ä»¥å¹¶è¡Œå¼€å‘ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚é¡¹ç›®åœ¨åæœŸè¿­ä»£çš„æ—¶å€™ï¼Œç”±äºæ¯ä¸ªæ¨¡å—ç›¸å¯¹ç‹¬ç«‹ï¼Œè€¦åˆæ€§æä½ï¼Œä¸€ä¸ªåŠŸèƒ½çš„è°ƒæ•´å¾€å¾€åªéœ€è¦ä¿®æ”¹å…¶ä¸­çš„ä¸€ä¸ªæ¨¡å—å°±å¯ä»¥ï¼Œé£é™©å¯æ§ã€‚ä¸è‡³äºå‡ºç°æ”¹åŠ¨ä¸€å¤„ä»£ç ï¼Œå¼•å‘å…¨å±€é—®é¢˜çš„æƒ…å†µã€‚ å…¶æ¬¡ï¼Œå‰ç«¯å·¥ç¨‹åŒ–æå€¡ç”¨å®Œå–„çš„æµç¨‹è§„èŒƒå’Œä»£ç è§„èŒƒæ¥ä¿è¯å¤§å‹åº”ç”¨çš„è´¨é‡å’Œå¯ç»´æŠ¤æ€§ã€‚æ¯”å¦‚é€šè¿‡ ESlintã€stylelint å¯¹ä»£ç è¿›è¡Œè‡ªåŠ¨æ ¡éªŒï¼Œé€šè¿‡è¯„å®¡ã€è¯¦ç»†è®¾è®¡ã€å¼€å‘ã€è”è°ƒã€æµ‹è¯•ã€ä¸Šçº¿ç­‰æ¯ä¸ªç¯èŠ‚çš„æ§åˆ¶ï¼Œç¡®ä¿é¡¹ç›®çš„é«˜è´¨é‡å’ŒæŒ‰æ—¶äº¤ä»˜ã€‚å‘ä¸»åˆ†æ”¯åˆå¹¶ä»£ç å¿…é¡»ç»è¿‡ code reviewã€‚æµç¨‹è§„èŒƒç¡®ä¿äº†å¤§å‹é¡¹ç›®è´¨é‡å’Œå¯ç»´æŠ¤æ€§çš„åŒæ—¶èƒ½å¤Ÿå¦‚æœŸäº¤ä»˜ã€‚ æ›´æ˜“è·å¾—é¢è¯•å®˜é’ç ä¾ç¨€è®°å¾—å…­ä¸ƒå¹´å‰å»é¢è¯•ï¼Œé‡åˆ°é¢è¯•é¢˜å¤§æ¦‚æ˜¯è¿™ç§é£æ ¼ï¼šâ€œå¦‚ä½•å®ç°æ°´å¹³å‚ç›´å±…ä¸­â€ï¼Œâ€œjs äº‹ä»¶å§”æ‰˜çš„åŸç†æ˜¯ä»€ä¹ˆâ€ï¼Œâ€œå¸¸è§çš„ css hack æ–¹å¼æœ‰ä»€ä¹ˆï¼Ÿâ€ï¼Œâ€œ$(function(){})ä¸ window.onload æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿâ€ ä»Šå¤©é¢è¯•é‡åˆ°çš„é¢è¯•é¢˜å¤§æ¦‚æ˜¯è¿™ç§é£æ ¼ï¼šâ€œèƒ½è®²ä¸‹ Vue å®ç°åŒå‘æ•°æ®ç»‘å®šçš„åŸç†å—ï¼Ÿâ€ï¼Œâ€œWebpack ä¸­å¦‚ä½•é…ç½® Babelï¼Ÿâ€ï¼Œâ€œpromise å’Œ await/async çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿâ€ å¦‚æœæƒ³è¿›å…¥å¤§å…¬å¸å·¥ä½œï¼Œå‰ç«¯å·¥ç¨‹åŒ–æ›´æ˜¯éœ€è¦å…·å¤‡çš„åŸºæœ¬ç´ è´¨ã€‚å¤§å…¬å¸çš„ä¸šåŠ¡å¾€å¾€éå¸¸å¤æ‚ï¼Œè€Œä¸”å¯¹ç¨³å®šæ€§çš„è¦æ±‚æé«˜ã€‚ä¸ä¹‹ç›¸å¯¹åº”çš„å‰ç«¯å·¥ç¨‹åŒ–ç¨‹åº¦å¾ˆé«˜ï¼Œå„ç§é…å¥—çš„åŸºç¡€å»ºè®¾å¾ˆæˆç†Ÿã€‚æ¯”å¦‚ç¾å›¢ç‚¹è¯„ä½“ç³»åŒ–çš„å·¥ç¨‹åŒ–æ–¹æ¡ˆã€ç§»åŠ¨ç»„ä»¶åº“ Vixã€è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…· Freekiteã€Hybrid åŠŸèƒ½ä½“éªŒçš„è§£å†³æ–¹æ¡ˆ Titans ç­‰ã€‚æƒ³å¾—åˆ°è¿™äº›å…¬å¸çš„é’çï¼Œå€™é€‰äººéœ€è¦åœ¨å‰ç«¯å·¥ç¨‹åŒ–é¢†åŸŸæœ‰è¾ƒæ·±çš„ç§¯ç´¯ã€‚ å‰ç«¯çš„å²—ä½æŠ€èƒ½å·²ç»å‘ç”Ÿæ·±åˆ»çš„å˜åŒ–ã€‚æœ‰äººç”šè‡³æˆè¨€æˆå‰ç«¯å·¥ç¨‹å¸ˆä¸ºå‰ç«¯é…ç½®å·¥ç¨‹å¸ˆã€‚ fouberï¼ˆå¼ äº‘é¾™ï¼‰æ›¾ç»åœ¨è‡ªå·±çš„åšæ–‡ä¸­è¯´ï¼š 1\"å‰ç«¯æ˜¯ä¸€ç§æŠ€æœ¯é—®é¢˜è¾ƒå°‘ã€å·¥ç¨‹é—®é¢˜è¾ƒå¤šçš„è½¯ä»¶å¼€å‘é¢†åŸŸã€‚â€ æ‰€ä»¥å‰ç«¯å·¥ç¨‹åŒ–æ˜¯æ¯ä¸ªç°ä»£å‰ç«¯äººåº”è¯¥å¿…å¤‡çš„æŠ€èƒ½ã€‚ è°éœ€è¦å‰ç«¯å·¥ç¨‹åŒ–ï¼Ÿ3. åˆä¸­çº§å‰ç«¯å·¥ç¨‹å¸ˆ å¯¹äºåˆçº§ä¸­çº§å‰ç«¯å·¥ç¨‹å¸ˆæ¥è¯´ï¼Œç”±äºå·¥ä½œç»éªŒè¾ƒå°‘ï¼ŒæŠ€æœ¯çš„å®½åº¦å’Œå¹¿åº¦éƒ½ä¸è¶³ï¼Œå¯¹å‰ç«¯å·¥ç¨‹åŒ–çš„è®¤çŸ¥å…¶å®ä¹Ÿæ˜¯ä¸å¤Ÿçš„ï¼Œä¸€ä¸Šæ¥æ•´ä½“æŒæ¡å‰ç«¯å·¥ç¨‹åŒ–è‚¯å®šæ˜¯æœ‰å›°éš¾çš„ã€‚å¯¹äºè¿™éƒ¨åˆ†åŒå­¦æ¥è®²ï¼Œé¦–è¦çš„äº‹æƒ…è¦å­¦ä¼šå»â€ç”¨â€ï¼Œå¾ªåºæ¸è¿›åœ°å»äº†è§£å…¶ä¸­çš„åŸç†ã€‚ä¾‹å¦‚åœ¨å¼€å‘ä¹‹ä½™ï¼Œè‡ªå·±å­¦ä¸€å­¦å¦‚ä½•å®ç°ä¸€ä¸ªç®€å•çš„è„šæ‰‹æ¶å·¥å…·ï¼Œäº†è§£ä¸€ä¸‹æ—¥å¸¸å¼€å‘å¿…å¤‡çš„è„šæ‰‹æ¶æ˜¯å¦‚ä½•å®ç°çš„ï¼Œä»¥ç‚¹å¸¦é¢åœ°å­¦ä¹ é‡Œé¢ç”¨åˆ°çš„æŠ€æœ¯ç‚¹ã€‚ æœŸæœ›æ™‹å‡çš„å‰ç«¯å·¥ç¨‹å¸ˆ å‰ç«¯å·¥ç¨‹åŒ–èƒ½åŠ›ä¹Ÿæ˜¯ä¸€ä¸ªèµ„æ·±å‰ç«¯çš„å¿…å¤‡æŠ€èƒ½ã€‚å·¥ä½œå¥½å¤šå¹´äº†ï¼Œå¦‚æœè¿å‰ç«¯å·¥ç¨‹åŒ–éƒ½çŸ¥ä¹‹ç”šå°‘ï¼Œç”šè‡³è¿ä¸€ä¸ªåŸºæœ¬çš„è„šæ‰‹æ¶éƒ½ä¸èƒ½è‡ªå·±æ­å»ºï¼Œè¿™æ˜¯ä¸åŠæ ¼çš„ã€‚å¦‚æœå°†æ¥å¸¦å›¢é˜Ÿï¼Œæ€ä¹ˆèƒ½æŒ‡å¯¼å›¢é˜ŸåŒå­¦ï¼Œæ€ä¹ˆèƒ½å¸¦é¢†å›¢é˜Ÿè¿›æ­¥å‘¢ï¼Ÿå¦‚æœå»å‚åŠ å…¬å¸çš„æ™‹å‡ï¼Œä¹Ÿæ˜¯æ²¡æœ‰è¯´æœåŠ›çš„ã€‚å› ä¸ºæƒ³è¦æ™‹å‡é«˜ Tï¼Œå¿…ç„¶éœ€è¦åœ¨æ•ˆç‡å’Œæ€§èƒ½ä¼˜åŒ–ç­‰æ–¹é¢æœ‰æ·±åšçš„ç§¯ç´¯å’Œè´¡çŒ®ã€‚ æ‰€ä»¥ï¼Œæ— è®ºä½ æ˜¯å¤„åœ¨ä»€ä¹ˆé˜¶æ®µï¼Œæ·±å…¥äº†è§£ä¸€ä¸‹å‰ç«¯å·¥ç¨‹åŒ–éƒ½æ˜¯ææœ‰å¿…è¦çš„ã€‚ å‰ç«¯åº”ç”¨è¶Šæ¥è¶Šå¤æ‚ï¼Œå¯¹å‰ç«¯å·¥ç¨‹åŒ–çš„è¦æ±‚è¶Šæ¥è¶Šé«˜ã€‚è„šæ‰‹æ¶ä½œä¸ºç›®å‰å‰ç«¯å·¥ç¨‹åŒ–çš„ä¸€ä¸ªé‡è¦çš„ç»„æˆéƒ¨åˆ†ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­æ‰®æ¼”äº†è‡³å…³é‡è¦çš„è§’è‰²ã€‚ç°åœ¨å‡ ä¹æ‰€æœ‰ä¸»æµå‰ç«¯å‡ æ¡†æ¶éƒ½æœ‰è‡ªå·±é…å¥—çš„è„šæ‰‹æ¶ï¼Œæ— ç–‘ç»™å¼€å‘è€…å¸¦æ¥äº†æå¤§çš„ä¾¿åˆ©ã€‚ä½†æ­£å¦‚ä¸Šæ–‡æ‰€è¿°ï¼Œå¾ˆå¤šå¼€å‘è€…ç”±äºæœ¬èº«å…¥è¡Œè¾ƒçŸ­ï¼Œæˆ–è€…å¾ˆå¤šå·¥ä½œå¤šå¹´çš„å¼€å‘è€…ç”±äºå…¬å¸ä¸šåŠ¡çš„åŸå› ï¼Œæ²¡æœ‰æœºä¼šæ¥è§¦åˆ°å‰ç«¯å·¥ç¨‹åŒ–é¢†åŸŸã€‚ å­¦ä¹ ç›®å½•å¼€ç¯‡è¯ï¼šåˆ°åº•ä»€ä¹ˆæ˜¯å‰ç«¯å·¥ç¨‹åŒ– ç¬¬ä¸€éƒ¨åˆ†ï¼šæ¨¡æ¿è®¾è®¡ ç¬¬01è¯¾ï¼šæ¨¡æ¿åŠŸèƒ½è®¾è®¡ç¬¬02è¯¾ï¼šWebpack åŸºæœ¬ä»‹ç»ç¬¬03è¯¾ï¼šæ­å»ºé¡¹ç›®æ¨¡æ¿æ¡†æ¶ç¬¬04è¯¾ï¼šå‰ç«¯æ¨¡å—åŒ–è§£å†³æ–¹æ¡ˆç¬¬05è¯¾ï¼šæ­å»ºæœ¬åœ°å¼€å‘ç¯å¢ƒç¬¬06è¯¾ï¼šæ­å»ºæœ¬åœ° Mock æœåŠ¡ç¬¬07è¯¾ï¼šå¼•å…¥ä»£ç æ£€æŸ¥å·¥å…·ç¬¬08è¯¾ï¼šè‡ªåŠ¨ç”Ÿæˆé›ªç¢§å›¾ç¬¬09è¯¾ï¼šæ ¹æ®æµè§ˆå™¨æ„å»ºç¬¬10è¯¾ï¼šæ ¹æ®ç¯å¢ƒæ„å»ºç¬¬11è¯¾ï¼šé›†æˆç§»åŠ¨ç«¯è°ƒè¯•å·¥å…·ç¬¬12è¯¾ï¼šå¼•å…¥å•å…ƒæµ‹è¯•ç¬¬13è¯¾ï¼šå¼•å…¥ e2e æµ‹è¯•ç¬¬14è¯¾ï¼šWebpack æ„å»ºæ€§èƒ½ä¼˜åŒ–ç¬¬15è¯¾ï¼šæ·»åŠ éƒ¨ç½²åŠŸèƒ½ç¬¬16è¯¾ï¼šèšåˆé¡¹ç›®é…ç½®å¹¶æ¨¡æ¿åŒ– ç¬¬äºŒéƒ¨åˆ†ï¼šå‘½ä»¤è¡Œè®¾è®¡ ç¬¬17è¯¾ï¼šcli åŠŸèƒ½è®¾è®¡ï¼ˆä¸Šï¼‰ç¬¬18è¯¾ï¼šcli åŠŸèƒ½è®¾è®¡ï¼ˆä¸‹ï¼‰ ç»“è¯­ï¼šå¼€æ”¾çš„å¿ƒæ€æ‰æ˜¯æ›´é«˜é˜¶çš„å·¥ç¨‹åŒ– å­¦å®Œåè‡³å°‘æœ‰ä»¥ä¸‹å‡ ç‚¹æ”¶è·ï¼š å¯¹å‰ç«¯å·¥ç¨‹åŒ–æœ‰ä¸€ä¸ªç³»ç»Ÿè®¤çŸ¥ï¼› èƒ½ç‹¬ç«‹è®¾è®¡ä¸€å¥—å‰ç«¯å·¥ç¨‹åŒ–è§£å†³æ–¹æ¡ˆï¼› çŸ¥è¯†å¹¿åº¦ä¸Šæœ‰å¤§å¹…æå‡ï¼› è¿›å…¥æ›´å¥½çš„å¹³å°ï¼Œè·å¾—æ›´å¥½çš„è–ªé…¬ã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯å·¥ç¨‹åŒ–","slug":"å‰ç«¯å·¥ç¨‹åŒ–","permalink":"https://yangyfeng.github.io/blogpost/tags/å‰ç«¯å·¥ç¨‹åŒ–/"}]},{"title":"webpackä¾èµ–åŠ è½½cdné…ç½®","slug":"Vue/webpackä¾èµ–åŠ è½½cdné…ç½®","date":"2019-07-16T05:27:58.000Z","updated":"2021-03-27T06:24:34.624Z","comments":true,"path":"/posts/f8a3109a.html","link":"","permalink":"https://yangyfeng.github.io/posts/f8a3109a.html","excerpt":"CDNæœåŠ¡å•†çš„é€‰æ‹©è¦ä½¿ç”¨cdnåŠŸèƒ½ï¼Œå°±éœ€è¦cdnæœåŠ¡å•†ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±æ­å»ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€äº›æ¯”è¾ƒçŸ¥åçš„æœåŠ¡å•†ï¼Œåº†å¹¸çš„æ˜¯å¸‚é¢ä¸Šæœ‰ä¸å°‘çš„å…è´¹cdnæœåŠ¡å•†ï¼Œå¦‚ï¼š BootCDN unpkg å…¶ä¸­BootCDN æ˜¯ Bootstrap ä¸­æ–‡ç½‘æ”¯æŒå¹¶ç»´æŠ¤çš„å‰ç«¯å¼€æºé¡¹ç›®å…è´¹ CDN æœåŠ¡ï¼Œé¡¹ç›®èµ„æºåŒæ­¥äº cdnjs ä»“åº“ã€‚ç•Œé¢ç›¸å¯¹æ¯”è¾ƒå¥½çœ‹ï¼Œä¸”æ”¯æŒæœç´¢åŠŸèƒ½ï¼Œå¯ä»¥åœ¨çº¿æµ‹è¯•cdnæ˜¯å¦æ­£å¸¸ï¼Œæ‰€ä»¥ä¸‹é¢ä»¥Bootcdnä¸ºä¾‹è¯´æ˜ã€‚ webpackçš„ä½œç”¨åœ¨å‰æ®µé¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨webpackè¿›è¡Œé¡¹ç›®æ­å»ºï¼Œ ä¸»è¦ä½œç”¨æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯ 1.å¯åŠ¨æœåŠ¡å™¨ç¯å¢ƒï¼Œç”¨äºè°ƒè¯•ä»£ç  2.æ„å»ºé¡¹ç›®ï¼Œç”Ÿæˆé™æ€èµ„æº åœ¨webpackä¸­ä½¿ç”¨cdnæ˜¯åœ¨æ‰“åŒ…ç”Ÿæˆé™æ€èµ„æºçš„æ—¶å€™åšå¤„ç†ï¼Œä¸»è¦åŸç†æ˜¯ä½¿ç”¨html-webpack-pluginåŠ¨æ€æ’å…¥cdné“¾æ¥ã€‚ å…³äºwebpackçš„ä½¿ç”¨è¿™é‡Œä¸åšè¿‡å¤šçš„ä»‹ç»ï¼Œå°†ä»¥vueâ€“cli 2.xç”Ÿæˆçš„é»˜è®¤é¡¹ç›®ä¸ºä¾‹åšä»‹ç»","text":"CDNæœåŠ¡å•†çš„é€‰æ‹©è¦ä½¿ç”¨cdnåŠŸèƒ½ï¼Œå°±éœ€è¦cdnæœåŠ¡å•†ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±æ­å»ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€äº›æ¯”è¾ƒçŸ¥åçš„æœåŠ¡å•†ï¼Œåº†å¹¸çš„æ˜¯å¸‚é¢ä¸Šæœ‰ä¸å°‘çš„å…è´¹cdnæœåŠ¡å•†ï¼Œå¦‚ï¼š BootCDN unpkg å…¶ä¸­BootCDN æ˜¯ Bootstrap ä¸­æ–‡ç½‘æ”¯æŒå¹¶ç»´æŠ¤çš„å‰ç«¯å¼€æºé¡¹ç›®å…è´¹ CDN æœåŠ¡ï¼Œé¡¹ç›®èµ„æºåŒæ­¥äº cdnjs ä»“åº“ã€‚ç•Œé¢ç›¸å¯¹æ¯”è¾ƒå¥½çœ‹ï¼Œä¸”æ”¯æŒæœç´¢åŠŸèƒ½ï¼Œå¯ä»¥åœ¨çº¿æµ‹è¯•cdnæ˜¯å¦æ­£å¸¸ï¼Œæ‰€ä»¥ä¸‹é¢ä»¥Bootcdnä¸ºä¾‹è¯´æ˜ã€‚ webpackçš„ä½œç”¨åœ¨å‰æ®µé¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨webpackè¿›è¡Œé¡¹ç›®æ­å»ºï¼Œ ä¸»è¦ä½œç”¨æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯ 1.å¯åŠ¨æœåŠ¡å™¨ç¯å¢ƒï¼Œç”¨äºè°ƒè¯•ä»£ç  2.æ„å»ºé¡¹ç›®ï¼Œç”Ÿæˆé™æ€èµ„æº åœ¨webpackä¸­ä½¿ç”¨cdnæ˜¯åœ¨æ‰“åŒ…ç”Ÿæˆé™æ€èµ„æºçš„æ—¶å€™åšå¤„ç†ï¼Œä¸»è¦åŸç†æ˜¯ä½¿ç”¨html-webpack-pluginåŠ¨æ€æ’å…¥cdné“¾æ¥ã€‚ å…³äºwebpackçš„ä½¿ç”¨è¿™é‡Œä¸åšè¿‡å¤šçš„ä»‹ç»ï¼Œå°†ä»¥vueâ€“cli 2.xç”Ÿæˆçš„é»˜è®¤é¡¹ç›®ä¸ºä¾‹åšä»‹ç» html-webpack-pluginçš„ä½¿ç”¨html-webpack-pluginæ˜¯webpackçš„ä¸€ä¸ªæ’ä»¶ï¼Œå¯ä»¥åŠ¨æ€çš„åˆ›å»ºå’Œç¼–è¾‘htmlå†…å®¹ï¼Œåœ¨htmlä¸­ä½¿ç”¨esjè¯­æ³•å¯ä»¥è¯»å–åˆ°é…ç½®ä¸­çš„å‚æ•°ï¼Œç®€åŒ–äº†htmlæ–‡ä»¶çš„æ„å»ºã€‚ æˆ‘ä»¬è¿™æ¬¡ä¸»è¦æ˜¯ä½¿ç”¨å®ƒæ¥åŠ¨æ€æ’å…¥cdné“¾æ¥ï¼Œå¦‚linkæ ‡ç­¾å’Œscriptæ ‡ç­¾ã€‚ åˆ›å»ºVueé¡¹ç›®vue-cli 2.x1vue init webpack webpack-cdn-demo åˆ›å»ºåä¸ºwebpack-cdn-demoï¼Œç±»å‹ä¸ºwebpackçš„vueé¡¹ç›®ï¼Œå¦‚æœå®‰è£…çš„vue-cliæ˜¯3.xç‰ˆæœ¬ï¼Œå‘½ä»¤ä¸å¤ªä¸€æ ·ï¼Œè¯¦ç»†å¯çœ‹vue-cli 3ã€‚ å®‰è£…ä¾èµ–12$ cd webpack-cdn-demo$ npm install å¯åŠ¨é¡¹ç›®1$ npm run dev ç›®å½•ç»“æ„ 1234567891011+-- build| +-- utils.js js å·¥å…·ç±»| +-- webpack.base.conf.js webpackåŸºç¡€é…ç½®| +-- webpack.dev.conf.js webpackå¼€å‘é…ç½®| +-- webpack.prod.conf.js webpackæ„å»ºé…ç½®+-- config+-- src| +-- App.vue vueæ–‡ä»¶ç»„ä»¶| +-- main.js å…¥å£æ–‡ä»¶+-- index.html é¡µé¢+-- package.json é¡¹ç›®æ–‡ä»¶ å…¶ä¸­buildæ–‡ä»¶å¤¹ä¸­çš„webpack.prod.conf.jsæ˜¯æˆ‘ä»¬ä¸»è¦æ³¨æ„çš„æ–‡ä»¶,æˆ‘ä»¬åœ¨è¯¥æ–‡ä»¶ä¸­åŠ¨æ€è®¾ç½®ä¸éœ€è¦è¢«æ‰“åŒ…çš„æ¨¡å—å¹¶æ„å»ºå‡ºåˆé€‚çš„é“¾æ¥ã€‚ ç¡®å®šéœ€è¦ä½¿ç”¨CDNçš„æ¨¡å—åœ¨webpacké¡¹ç›®ä¸­ï¼Œæ‰€å¼•å…¥çš„ç¬¬ä¸‰æ–¹èµ„æºä¼šè¢«ç»Ÿä¸€æ‰“åŒ…è¿›venderæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡webpackçš„externalså±æ€§å¯ä»¥è®¾ç½®æ‰“åŒ…æ—¶æ’é™¤è¯¥æ¨¡å—ï¼Œè¯¦æƒ…è¯´æ˜è§å¤–éƒ¨æ‰©å±•(externals)ã€‚ åœ¨å‰é¢çš„æ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºçš„é¡¹ç›®åŒ…æ‹¬vueã€vue-routerï¼Œåœ¨æ­£å¼å¼€å‘åœ¨è¿˜ä¼šæœ‰uiåº“ï¼Œå¦‚element-uiï¼Œä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œæˆ‘ä»¬å†å®‰è£…element-uiå’Œaxiosä¸¤ä¸ªæ¨¡å—ï¼Œå¹¶å®ç°åœ¨æ„å»ºæ˜¯æŠŠè¿™æ˜¯ä¸ªæ¨¡å—ä»¥cdnçš„å½¢å¼å¼•å…¥ã€‚ æ‰€éœ€æ¨¡å— vue vue-router element-ui axios 1npm install element-ui axios -S æ³¨æ„å®‰è£…æ—¶è®°å¾— -Sï¼Œå®ƒçš„ä½œç”¨æ˜¯å®‰è£…å®Œååœ¨package.jsoné¡¹ç›®æ–‡ä»¶ä¸­æ’å…¥è®°å½•ï¼Œåç»­æ“ä½œéœ€è¦è¯»å–å·²å®‰è£…æ¨¡å— ç¡®å®šCDNèµ„æºURIå¯¹äºcdnï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±æ­å»ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸“ä¸šçš„cdnæœåŠ¡å•†ï¼Œè¿™é‡Œä½¿ç”¨å…è´¹çš„cdn bootcdnã€‚é€‰ç”¨å…è´¹cdnæœ‰å¾ˆå¤šå¥½å¤„ï¼Œä½†æ¯•ç«Ÿæœ‰éšæ‚£ï¼Œé‚£å°±æ˜¯æœåŠ¡æœ‰å¯èƒ½ä¼šå¥”æºƒã€‚ bootcdn https://www.bootcdn.cn ä¾æ¬¡æœç´¢å‡ºå‰é¢æ¨¡å—ï¼Œç»“æœå¦‚ä¸‹: æ¨¡å— ç‰ˆæœ¬ js css vue 2.5.2 https://cdn.bootcss.com/vue/2.5.2/vue.min.js - vue-router 3.0.1 https://cdn.bootcss.com/vue-router/3.0.1/vue-router.min.js - element-ui 2.6.3 https://cdn.bootcss.com/element-ui/2.6.1/index.js https://cdn.bootcss.com/element-ui/2.6.1/theme-chalk/index.css axios 0.18.0 https://cdn.bootcss.com/axios/0.18.0/axios.min.js - æŒ‰ç…§è§„å¾‹ï¼Œå¾—å‡ºcdnèµ„æºè·¯å¾„è§„åˆ™ä¸º 1https://cdn.bootcss.com + æ¨¡å—å + ç‰ˆæœ¬å· + å…·ä½“è·¯å¾„ å…¶ä»–cdnæœåŠ¡å•†åŒç† æ‰“åŒ…å‰çš„å¤„ç†build/utils.jsæ·»åŠ è¯»å–äº‹ä»¶ä½¿ç”¨cdnå…¶å®ä¹Ÿå°±æ˜¯åœ¨webpackçƒ­å¯åŠ¨å’Œæ‰“åŒ…é¡¹ç›®çš„æ—¶å€™åŠ¨æ€æ’å…¥scriptå’Œstyleé“¾æ¥ï¼Œä¸ºäº†æ–¹ä¾¿ç»´æŠ¤ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨build/utils.jsæ–‡ä»¶ä¸Šæ·»åŠ å‡ ä¸ªæ–¹æ³•ï¼Œå°†æ¥åœ¨webpack.dev.conf.jså’Œwebpack.prod.conf.jsä¸Šå¯ä»¥ä½¿ç”¨ã€‚ å¦‚æœæ²¡æœ‰build/utils.jsï¼Œå¯ä»¥åœ¨å…¶ä»–æ–‡ä»¶ä¸Šæ·»åŠ ï¼Œåªè¦åœ¨åç»­æ­¥éª¤ä¸­èƒ½æ“ä½œåˆ°å°±è¡Œ æ·»åŠ cdnæ ¹åœ°å€ 12// build/utils.js å›½å†…å…è´¹cdné•œåƒæºexports.cdnBaseHttp = 'https://cdn.bootcss.com'; æ·»åŠ cdnæ¨¡å— æŒ‰ç…§éœ€è¦åˆ æ”¹ 1234567// build/utils.js externalé…ç½®exports.externalConfig = [ &#123; name: 'vue', scope: 'Vue', js: 'vue.min.js' &#125;, &#123; name: 'vue-router', scope: 'VueRouter', js: 'vue-router.min.js' &#125;, &#123; name: 'axios', scope: 'axios', js: 'axios.min.js' &#125;, &#123; name: 'element-ui', scope: 'ELEMENT', js: 'index.js', css: 'theme-chalk/index.css' &#125;,]; name æ¨¡å—åç§°ï¼Œä¸package.jsonåŒå scope æ¨¡å—ä½œç”¨åŸŸå‘½å js jsåœ°å€ css cssåœ°å€ è¿™é‡Œç‰¹åˆ«æ³¨æ„scopeï¼Œå®ƒæ˜¯webpacké…ç½®çš„externalå‚æ•°ä¸‹çš„ä¿¡æ¯ï¼Œæ¯”å¦‚vueçš„ä½œç”¨åŸŸå‘½åæ˜¯Vueï¼Œvue-routerçš„ä½œç”¨åŸŸå‘½åæ˜¯VueRouterï¼Œelement-uiçš„ä½œç”¨åŸŸå‘½åæ˜¯ELEMENTï¼ŒåŒç†ï¼Œjqçš„ä½œç”¨åŸŸå‘½åæ˜¯JQueryï¼Œå…·ä½“åšæ³•æ˜¯å…ˆå¼•å…¥è¯¥èµ„æºï¼Œç„¶ååœ¨æ§åˆ¶å°ä¾æ¬¡è¾“å…¥è¿‘ä¼¼çš„å€¼ï¼Œä¸€ä¸ªä¸ªåŒ¹é…(ç›®å‰æ²¡æ‰¾åˆ°æ›´å¥½çš„åšæ³•)ã€‚ æ·»åŠ è·å–ç‰ˆæœ¬å·æ–¹æ³• 123456789101112// build/utils.js è·å–æ¨¡å—ç‰ˆæœ¬å·exports.getModulesVersion = () =&gt; &#123; let mvs = &#123;&#125;; let regexp = /^npm_package_.&#123;0,3&#125;dependencies_/gi; for (let m in process.env) &#123; // ä»nodeå†…ç½®å‚æ•°ä¸­è¯»å–ï¼Œä¹Ÿå¯ç›´æ¥import é¡¹ç›®æ–‡ä»¶è¿›æ¥ if (regexp.test(m)) &#123; // åŒ¹é…æ¨¡å— // è·å–åˆ°æ¨¡å—ç‰ˆæœ¬å· mvs[m.replace(regexp, '').replace(/_/g, '-')] = process.env[m].replace(/(~|\\^)/g, ''); &#125; &#125; return mvs;&#125;; å¯¼å‡ºä¸éœ€è¦è¢«æ‰“åŒ…çš„cdnæ¨¡å—é…ç½®é‡ç‚¹ 123456789101112131415161718// build/utils.jsexports.getExternalModules = config =&gt; &#123; let externals = &#123;&#125;; // ç»“æœ let dependencieModules = this.getModulesVersion(); // è·å–å…¨éƒ¨çš„æ¨¡å—å’Œç‰ˆæœ¬å· config = config || this.externalConfig; // é»˜è®¤ä½¿ç”¨utilsä¸‹çš„é…ç½® config.forEach(item =&gt; &#123; // éå†é…ç½® if (item.name in dependencieModules) &#123; let version = dependencieModules[item.name]; // æ‹¼æ¥css å’Œ js å®Œæ•´é“¾æ¥ item.css = item.css &amp;&amp; [this.cdnBaseHttp, item.name, version, item.css].join('/'); item.js = item.js &amp;&amp; [this.cdnBaseHttp, item.name, version, item.js].join('/'); externals[item.name] = item.scope; // ä¸ºæ‰“åŒ…æ—¶å‡†å¤‡ &#125; else &#123; throw new Error('ç›¸å…³ä¾èµ–æœªå®‰è£…ï¼Œè¯·å…ˆæ‰§è¡Œnpm install ' + item.name); &#125; &#125;); return externals;&#125;; webpack.dev.conf.jsæ·»åŠ cdné…ç½®åœ¨webpackçƒ­å¯åŠ¨æœ¬åœ°è°ƒè¯•çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨cdnã€‚ è·å–cdné…ç½® 12345// build/webpack.dev.conf.js å¤§æ¦‚åœ¨15è¡Œconst externalConfig = JSON.parse(JSON.stringify(utils.externalConfig)); // è¯»å–é…ç½®utils.getExternalModules(externalConfig); // è·å–åˆ°åˆé€‚çš„è·¯å¾„ï¼ˆå¼•ç”¨ç±»å‹ï¼Œè‡ªåŠ¨æ”¹å˜ï¼‰// const devWebpackConfig = merge ....... åœ¨build/webpack.dev.conf.jsä¸­ï¼Œé»˜è®¤å·²ç»å¼•å…¥äº†utils.jsï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥è°ƒç”¨ç›¸å…³æ–¹æ³•ï¼Œå¦‚æœæ˜¯è‡ªå®šä¹‰çš„æ–‡ä»¶ï¼Œè®°å¾—å¼•å…¥ã€‚ HtmlWebpackPluginæ’ä»¶ä¸­å¯¼å‡ºcdn ç´§æ¥ç€æˆ‘ä»¬åœ¨è¯¥æ–‡ä»¶ä¸‹æ‰¾åˆ°devWebpackConfigä¸‹çš„pluginsä¸‹çš„HtmlWebpackPluginæ’ä»¶ï¼Œå®ƒçš„ä½œç”¨æ˜¯åŠ¨æ€æ„å»ºhtmlé¡µé¢ï¼ŒåŸå§‹é…ç½®å¦‚ä¸‹ï¼š 123456new HtmlWebpackPlugin(&#123; filename: 'index.html', template: 'index.html', inject: true&#125;),// ä»£è¡¨å¤„ç†æ ¹ç›®å½•ä¸‹çš„index.htmlæ–‡ä»¶ æˆ‘ä»¬å¯ä»¥å¾€é‡Œé¢æ·»åŠ ç‚¹è‡ªå®šä¹‰å±æ€§ï¼Œæ–¹ä¾¿åœ¨index.htmlä¸­è°ƒç”¨ã€‚ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š 1234567new HtmlWebpackPlugin(&#123; filename: 'index.html', template: 'index.html', inject: true, cdnConfig: externalConfig, // cdné…ç½® onlyCss: true, //devä¸‹åªåŠ è½½css&#125;), å…¶ä¸­cdnConfigå’ŒonlyCssè‡ªå®šä¹‰å±æ€§ï¼Œåœ¨htmlä¸Šé€šè¿‡htmlWebpackPlugin.optionså¯ä»¥è¯»å–åˆ°ã€‚ æ›´å¤šhtml-webpack-pluginé…ç½®æƒ…å†µå®˜ç½‘ï¼Œè¿™é‡Œæš‚æ—¶ä¸éœ€è¦æ›´å¤šã€‚ webpack.prod.conf.jsæ·»åŠ cdné…ç½®å’Œå¿½ç•¥æ¨¡å—åœ¨æ‰“åŒ…çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨cdnï¼Œé…ç½®å’Œå‰é¢devçš„å·®ä¸å¤šï¼Œåªä¸è¿‡éœ€è¦åšå¤šä¸€æ­¥ã€‚ è·å–cdné…ç½® 12345// build/webpack.prod.conf.js å¤§æ¦‚åœ¨15è¡Œconst externalConfig = JSON.parse(JSON.stringify(utils.externalConfig)); // è¯»å–é…ç½®const externalModules = utils.getExternalModules(externalConfig); // è·å–åˆ°åˆé€‚è·¯å¾„å’Œå¿½ç•¥æ¨¡å—// const webpackConfig = merge(baseWebpackConfig.... æ³¨æ„æ­¤å¤„çš„externalModulesï¼Œåé¢ç”¨åˆ°ï¼Œä¹Ÿå°±æ˜¯æ¯”devå¤šçš„æ­¥éª¤ã€‚ webpcké…ç½®åŠ å¤šä¸ªå±æ€§externals externalsä»£è¡¨æ„å»ºæ—¶ä¸éœ€è¦è¢«å¤„ç†çš„æ¨¡å—ï¼Œä¹Ÿå°±æ˜¯å‰é¢è¯´çš„scopeéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚ 123456// build/webpack.prod.conf.jsconst webpackConfig = merge(baseWebpackConfig, &#123; externals: externalModules, // æ„å»ºæ—¶å¿½ç•¥çš„èµ„æº // å…¶ä»–å±æ€§&#125; HtmlWebpackPluginæ’ä»¶ä¸­å¯¼å‡ºcdn å’Œdevä¸€æ ·ï¼Œæˆ‘ä»¬ä¿®æ”¹webpackConfigä¸‹çš„pluginsä¸‹çš„HtmlWebpackPluginæ’ä»¶é…ç½® (è¿™é‡Œçš„é»˜è®¤é…ç½®æ¯”devçš„å¤šï¼Œä¸»è¦æ˜¯csså‹ç¼©å’Œjså‹ç¼©ç›¸å…³) 12345new HtmlWebpackPlugin(&#123; // å…¶ä»–é»˜è®¤é…ç½® cdnConfig: externalConfig, // cdné…ç½® onlyCss: false, //åŠ è½½css&#125;), åŠ å…¥å’Œdevä¸€æ ·çš„ä¸¤ä¸ªé…ç½®ï¼Œä¸è¿‡éœ€è¦æŠŠonlyCssæ”¹ä¸ºtrueï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ›æ‰“åŒ…æ—¶ä¸å•å•ä½¿ç”¨cssã€‚ index.htmlæ’å…¥ç›¸å…³é“¾æ¥webpacké…ç½®å·²ç»å®Œæˆï¼Œåœ¨html-webpack-pluginä¸­å·²ç»æ·»åŠ äº†ç›¸å…³å‚æ•°ï¼Œæˆ‘ä»¬å†åœ¨é¡µé¢ä¸Šå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä½¿ç”¨è¯­æ³•æ˜¯ejsï¼Œå’Œasp.netï¼Œjspï¼Œphpç±»ä¼¼ã€‚ 12345678910111213141516&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;!-- å…¶ä»–æ ‡ç­¾ --&gt; &lt;% htmlWebpackPlugin.options.cdnConfig.forEach(function(item)&#123; if(item.css)&#123; %&gt; &lt;link href=\"&lt;%= item.css %&gt;\" rel=\"stylesheet\" /&gt; &lt;% &#125;&#125;) %&gt; &lt;/head&gt; &lt;body&gt; &lt;!-- å…¶ä»–æ ‡ç­¾ --&gt; &lt;% htmlWebpackPlugin.options.cdnConfig.forEach(function(item)&#123; if(item.js &amp;&amp; !htmlWebpackPlugin.options.onlyCss)&#123; %&gt; &lt;script type=\"text/javascript\" src=\"&lt;%= item.js %&gt;\"&gt;&lt;/script&gt; &lt;% &#125;&#125;) %&gt; &lt;!-- built files will be auto injected --&gt; &lt;/body&gt;&lt;/html&gt; é€šè¿‡&lt;% %&gt; å’Œ htmlWebpackPlugin.options ç”¨jséå†æ’å…¥linkæ ‡ç­¾å’Œscriptæ ‡ç­¾ã€‚ ps: ä¿®æ”¹äº†webpacké…ç½®ï¼Œéœ€è¦é‡å¯é¡¹ç›®æ‰ä¼šç”Ÿæ•ˆ æ„‰å¿«çš„å¼€å‘æ­¤æ—¶å¯åŠ¨é¡¹ç›®ï¼ŒæŸ¥çœ‹æ§åˆ¶å°æˆ–è€…æŸ¥çœ‹æºä»£ç ï¼Œå¯ä»¥æ¸…æ¥šçš„ç›¸å…³èµ„æºæ¥æº æœ‰ä¸€ä¸ªæ›´å¥½çš„æ’ä»¶webpack-cdn-plugin åŸæ–‡é“¾æ¥","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"},{"name":"Webpack","slug":"Webpack","permalink":"https://yangyfeng.github.io/blogpost/tags/Webpack/"}]},{"title":"gitå­ç›®å½•åˆ›å»ºåˆ†æ”¯","slug":"Git/gitå­ç›®å½•åˆ›å»ºåˆ†æ”¯","date":"2019-07-13T06:01:41.000Z","updated":"2021-03-27T06:24:34.615Z","comments":true,"path":"/posts/2bdc4097.html","link":"","permalink":"https://yangyfeng.github.io/posts/2bdc4097.html","excerpt":"ä½¿ç”¨åœºæ™¯ ä¾‹å¦‚ï¼Œåœ¨é¡¹ç›®Gameä¸­æœ‰ä¸€ä¸ªå­ç›®å½•AIã€‚Gameå’ŒAIåˆ†åˆ«æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„gité¡¹ç›®ï¼Œå¯ä»¥åˆ†å¼€ç»´æŠ¤ã€‚ä¸ºäº†é¿å…ç›´æ¥å¤åˆ¶ç²˜è´´ä»£ç ï¼Œæˆ‘ä»¬å¸Œæœ›Gameä¸­çš„AIå­ç›®å½•ä¸AIçš„gité¡¹ç›®å…³è”ï¼Œæœ‰3å±‚æ„æ€ï¼š 1.AIå­ç›®å½•ä½¿ç”¨AIçš„gité¡¹ç›®æ¥å¡«å……ï¼Œå†…å®¹ä¿æŒä¸€è‡´ã€‚ 2.å½“AIçš„gité¡¹ç›®ä»£ç æœ‰æ›´æ–°ï¼Œå¯ä»¥æ‹‰å–æ›´æ–°åˆ°Gameé¡¹ç›®çš„AIå­ç›®å½•æ¥ã€‚ 3.åè¿‡æ¥ï¼Œå½“Gameé¡¹ç›®çš„AIå­ç›®å½•æœ‰å˜æ›´ï¼Œè¿˜å¯ä»¥æ¨é€è¿™äº›å˜æ›´åˆ°AIçš„gité¡¹ç›®ã€‚ ç”¨git subtreeå¯ä»¥è½»æ¾æ»¡è¶³ä¸Šé¢çš„éœ€æ±‚ã€‚","text":"ä½¿ç”¨åœºæ™¯ ä¾‹å¦‚ï¼Œåœ¨é¡¹ç›®Gameä¸­æœ‰ä¸€ä¸ªå­ç›®å½•AIã€‚Gameå’ŒAIåˆ†åˆ«æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„gité¡¹ç›®ï¼Œå¯ä»¥åˆ†å¼€ç»´æŠ¤ã€‚ä¸ºäº†é¿å…ç›´æ¥å¤åˆ¶ç²˜è´´ä»£ç ï¼Œæˆ‘ä»¬å¸Œæœ›Gameä¸­çš„AIå­ç›®å½•ä¸AIçš„gité¡¹ç›®å…³è”ï¼Œæœ‰3å±‚æ„æ€ï¼š 1.AIå­ç›®å½•ä½¿ç”¨AIçš„gité¡¹ç›®æ¥å¡«å……ï¼Œå†…å®¹ä¿æŒä¸€è‡´ã€‚ 2.å½“AIçš„gité¡¹ç›®ä»£ç æœ‰æ›´æ–°ï¼Œå¯ä»¥æ‹‰å–æ›´æ–°åˆ°Gameé¡¹ç›®çš„AIå­ç›®å½•æ¥ã€‚ 3.åè¿‡æ¥ï¼Œå½“Gameé¡¹ç›®çš„AIå­ç›®å½•æœ‰å˜æ›´ï¼Œè¿˜å¯ä»¥æ¨é€è¿™äº›å˜æ›´åˆ°AIçš„gité¡¹ç›®ã€‚ ç”¨git subtreeå¯ä»¥è½»æ¾æ»¡è¶³ä¸Šé¢çš„éœ€æ±‚ã€‚ git subtreeç”¨æ³•1. ç¬¬ä¸€æ¬¡æ·»åŠ å­ç›®å½•ï¼Œå»ºç«‹ä¸gité¡¹ç›®çš„å…³è”å»ºç«‹å…³è”æ€»å…±æœ‰2æ¡å‘½ä»¤ã€‚ 1234567è¯­æ³•ï¼šgit remote add -f &lt;å­ä»“åº“å&gt; &lt;å­ä»“åº“åœ°å€&gt; è§£é‡Šï¼šå…¶ä¸­-fæ„æ€æ˜¯åœ¨æ·»åŠ è¿œç¨‹ä»“åº“ä¹‹åï¼Œç«‹å³æ‰§è¡Œfetchã€‚è¯­æ³•ï¼šgit subtree add --prefix=&lt;å­ç›®å½•å&gt; &lt;å­ä»“åº“å&gt; &lt;åˆ†æ”¯&gt; --squash è§£é‡Šï¼šâ€“squashæ„æ€æ˜¯æŠŠsubtreeçš„æ”¹åŠ¨åˆå¹¶æˆä¸€æ¬¡commitï¼Œè¿™æ ·å°±ä¸ç”¨æ‹‰å–å­é¡¹ç›®å®Œæ•´çš„å†å²è®°å½•ã€‚â€“prefixä¹‹åçš„=ç­‰å·ä¹Ÿå¯ä»¥ç”¨ç©ºæ ¼ã€‚ ç¤ºä¾‹12git remote add -f ai https://github.com/aoxu/ai.git git subtree add --prefix=ai ai master --squash 2. ä»è¿œç¨‹ä»“åº“æ›´æ–°å­ç›®å½•æ›´æ–°å­ç›®å½•æœ‰2æ¡å‘½ä»¤ã€‚12è¯­æ³•ï¼šgit fetch &lt;è¿œç¨‹ä»“åº“å&gt; &lt;åˆ†æ”¯&gt; è¯­æ³•ï¼šgit subtree pull --prefix=&lt;å­ç›®å½•å&gt; &lt;è¿œç¨‹åˆ†æ”¯&gt; &lt;åˆ†æ”¯&gt; --squash ç¤ºä¾‹12git fetch ai master git subtree pull --prefix=ai ai --squash 3. ä»å­ç›®å½•pushåˆ°è¿œç¨‹ä»“åº“ï¼ˆç¡®è®¤ä½ æœ‰å†™æƒé™ï¼‰æ¨é€å­ç›®å½•çš„å˜æ›´æœ‰1æ¡å‘½ä»¤ã€‚1è¯­æ³•ï¼šgit subtree push --prefix=&lt;å­ç›®å½•å&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt; åˆ†æ”¯ ç¤ºä¾‹1git subtree push --prefix=ai ai master åŸæ–‡åœ°å€ï¼šhttp://cssor.com/git-subtree-usage.html","categories":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://yangyfeng.github.io/blogpost/categories/å¼€å‘å·¥å…·/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://yangyfeng.github.io/blogpost/tags/Git/"}]},{"title":"gitå¸¸ç”¨å‘½ä»¤","slug":"Git/gitå¸¸ç”¨å‘½ä»¤","date":"2019-07-13T05:48:01.000Z","updated":"2021-03-27T06:24:34.615Z","comments":true,"path":"/posts/423abe9e.html","link":"","permalink":"https://yangyfeng.github.io/posts/423abe9e.html","excerpt":"æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼šhttp://blog.csdn.net/u011043843/article/details/33336625 githubè®¾ç½®æ·»åŠ SSHï¼šhttps://blog.csdn.net/binyao02123202/article/details/20130891","text":"æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼šhttp://blog.csdn.net/u011043843/article/details/33336625 githubè®¾ç½®æ·»åŠ SSHï¼šhttps://blog.csdn.net/binyao02123202/article/details/20130891 ä¸€.è®¾ç½®gitçš„å…¨å±€å˜é‡(ç”¨æˆ·åå’Œé‚®ç®±)121. git config --global user.nameâ€ç”¨æˆ·å(å»ºè®®æ˜¯è‹±æ–‡)â€ åˆ›å»ºç”¨æˆ·å2. git config --global user.emailâ€é‚®ç®±åœ°å€â€ åˆ›å»ºé‚®ç®± äºŒ.åˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“12341. git clone &lt;url&gt; ä»è¿œç¨‹æœåŠ¡å™¨å…‹éš†ä¸€ä¸ªå®Œå…¨ä¸€æ ·çš„ç‰ˆæœ¬åº“åˆ°æœ¬åœ° ï¼š2. git add . æš‚å­˜æ–‡ä»¶3. git commit -a &lt;æ³¨é‡Š&gt; æäº¤4. git push -u origin master æ¨é€ï¼ˆæ¨é€åˆ°ä¸»åˆ†æ”¯ï¼‰ ä¸‰.æœ¬åœ°å·²ç»åˆ›å»ºè¯¥ç›®å½•123451. git init .åˆå§‹åŒ–2. git remote add origin ssh://git.com/lsy/demo.git å¢åŠ ä¸€ä¸ªè¿œç¨‹æœåŠ¡ç«¯ 3. git add æ–‡ä»¶å/å·¥ç¨‹å .ï¼ˆæ‰€æœ‰æ–‡ä»¶ï¼‰ æš‚å­˜æ–‡ä»¶4. git commit -m â€œInitial commitâ€ æäº¤5. git push -u origin master æ¨é€ï¼ˆæ¨é€åˆ°ä¸»åˆ†æ”¯ï¼‰ å››.å­˜åœ¨gitä»“åº“12341. cd demo è¿›å…¥è¯¥ä»“åº“2. git remote add origin ssh://git.com/lsy/hhh.gitï¼ˆgit pull åŒæ­¥ä»£ç åˆ°æœ¬åœ°ï¼‰å¢åŠ ä¸€ä¸ªè¿œç¨‹æœåŠ¡ç«¯3. git push -u origin --allï¼ˆä¸Šä¼ ä»£ç åˆ°è¿œç¨‹åº“ï¼‰ æ¨é€4. git push -u origin --tags æ¨é€æ ‡ç­¾åˆ°ä¸»æœº äº”.å¸¸ç”¨å‘½ä»¤ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455561. git branch æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰åˆ†æ”¯2. git branch -a æŸ¥çœ‹è¿œç¨‹æ‰€æœ‰çš„åˆ†æ”¯3. git branch -r æŸ¥çœ‹è¿œç¨‹æ‰€æœ‰åˆ†æ”¯(ä¸åŒ…æ‹¬å½“å‰åˆ†æ”¯)4. git push origin --delete &lt;name&gt; å¯ä»¥åˆ é™¤è¿œç¨‹åˆ†æ”¯5. git branch -d &lt;name&gt; å¯ä»¥åˆ é™¤æœ¬åœ°åˆ†æ”¯ï¼ˆåœ¨ä¸»åˆ†æ”¯ä¸­ï¼‰6. git status æŸ¥çœ‹å½“å‰çŠ¶æ€ 7. git commit -am \"init\" æäº¤å¹¶ä¸”åŠ æ³¨é‡Š 8. git subtree push --prefix= [ç›®å½•åœ°å€(dist)] origin [åˆ†æ”¯åç§°(gh-pages)] å•ä¸ªç›®å½•æ‰˜ç®¡å‘½ä»¤9. git remote add origin git@192.168.1.119:ndshow10. git push origin master å°†æ–‡ä»¶ç»™æ¨åˆ°æœåŠ¡å™¨ä¸Š 11. git remote show origin æ˜¾ç¤ºè¿œç¨‹åº“originé‡Œçš„èµ„æº 12. git push origin master:develop æäº¤æœ¬åœ°masteråˆ†æ”¯ä½œä¸ºè¿œç¨‹çš„developåˆ†æ”¯13. git checkout --track origin/dev åˆ‡æ¢åˆ°è¿œç¨‹devåˆ†æ”¯14. git checkout -b dev å»ºç«‹ä¸€ä¸ªæ–°çš„æœ¬åœ°åˆ†æ”¯dev15. git merge origin/dev å°†åˆ†æ”¯devä¸å½“å‰åˆ†æ”¯è¿›è¡Œåˆå¹¶16. git checkout dev åˆ‡æ¢åˆ°æœ¬åœ°devåˆ†æ”¯17. git remote show æŸ¥çœ‹è¿œç¨‹åº“18. git remote remove &lt;name&gt; åˆ é™¤remote19. git add . æš‚å­˜æ–‡ä»¶å…¨éƒ¨20. git rm æ–‡ä»¶å(åŒ…æ‹¬è·¯å¾„) ä»gitä¸­åˆ é™¤æŒ‡å®šæ–‡ä»¶21. git clone git:// ä¸‹è½½22. github.com/schacon/grit.git ä»æœåŠ¡å™¨ä¸Šå°†ä»£ç ç»™æ‹‰ä¸‹æ¥23. git config --list çœ‹æ‰€æœ‰ç”¨æˆ·24. git ls-files çœ‹å·²ç»è¢«æäº¤çš„25. git rm [file name] åˆ é™¤ä¸€ä¸ªæ–‡ä»¶26. git commit -a æäº¤å½“å‰reposçš„æ‰€æœ‰çš„æ”¹å˜27. git add [file name] æ·»åŠ ä¸€ä¸ªæ–‡ä»¶åˆ°git index28. git commit -v å½“ä½ ç”¨ï¼vå‚æ•°çš„æ—¶å€™å¯ä»¥çœ‹commitçš„å·®å¼‚29. git commit -m \"This is the message describing the commit\" æ·»åŠ commitä¿¡æ¯30. git commit -a -aæ˜¯ä»£è¡¨addï¼ŒæŠŠæ‰€æœ‰çš„changeåŠ åˆ°git indexé‡Œç„¶åå†commit31. git commit -a -v ä¸€èˆ¬æäº¤å‘½ä»¤32. git log çœ‹ä½ commitçš„æ—¥å¿—33. git diff æŸ¥çœ‹å°šæœªæš‚å­˜çš„æ›´æ–°34. git rm a.a ç§»é™¤æ–‡ä»¶(ä»æš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸­åˆ é™¤)35. git rm --cached a.a ç§»é™¤æ–‡ä»¶(åªä»æš‚å­˜åŒºä¸­åˆ é™¤)36. git commit -m \"remove\" ç§»é™¤æ–‡ä»¶(ä»Gitä¸­åˆ é™¤)37. git rm -f a.a å¼ºè¡Œç§»é™¤ä¿®æ”¹åæ–‡ä»¶(ä»æš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸­åˆ é™¤)38. git diff --cached æˆ– $ git diff --staged æŸ¥çœ‹å°šæœªæäº¤çš„æ›´æ–°39. git stash push å°†æ–‡ä»¶ç»™pushåˆ°ä¸€ä¸ªä¸´æ—¶ç©ºé—´ä¸­40. git stash pop å°†æ–‡ä»¶ä»ä¸´æ—¶ç©ºé—´popä¸‹æ¥41. git remote add origin git@github.com:username/Hello-World.git42. git push origin master å°†æœ¬åœ°é¡¹ç›®ç»™æäº¤åˆ°æœåŠ¡å™¨ä¸­43. git pull æœ¬åœ°ä¸æœåŠ¡å™¨ç«¯åŒæ­¥44. git push (è¿œç¨‹ä»“åº“å) (åˆ†æ”¯å) å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°æœåŠ¡å™¨ä¸Šå»ã€‚45. git push origin serverfix:awesomebranch46. git fetch ç›¸å½“äºæ˜¯ä»è¿œç¨‹è·å–æœ€æ–°ç‰ˆæœ¬åˆ°æœ¬åœ°ï¼Œä¸ä¼šè‡ªåŠ¨merge47. git commit -a -m \"log_message\" (-aæ˜¯æäº¤æ‰€æœ‰æ”¹åŠ¨ï¼Œ-mæ˜¯åŠ å…¥logä¿¡æ¯) æœ¬åœ°ä¿®æ”¹åŒæ­¥è‡³æœåŠ¡å™¨ç«¯ ï¼š48. git branch branch_0.1 master ä»ä¸»åˆ†æ”¯masteråˆ›å»ºbranch_0.1åˆ†æ”¯49. git branch -m branch_0.1 branch_1.0 å°†branch_0.1é‡å‘½åä¸ºbranch_1.050. git checkout branch_1.0/master åˆ‡æ¢åˆ°branch_1.0/masteråˆ†æ”¯51. git branch åˆ é™¤è¿œç¨‹branch52. git push origin :branch_remote_name53. git branch -r -d branch_remote_name54. git reset --hard commit_id ç‰ˆæœ¬å›é€€55. git logå¯ä»¥æŸ¥çœ‹æäº¤å†å²56. git reflogæŸ¥çœ‹å‘½ä»¤å†å²","categories":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://yangyfeng.github.io/blogpost/categories/å¼€å‘å·¥å…·/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://yangyfeng.github.io/blogpost/tags/Git/"}]},{"title":"vue.config.jsé…ç½®","slug":"Vue/vue.config.jsé…ç½®","date":"2019-07-13T05:41:06.000Z","updated":"2021-03-27T06:24:34.622Z","comments":true,"path":"/posts/4de2b0c3.html","link":"","permalink":"https://yangyfeng.github.io/posts/4de2b0c3.html","excerpt":"åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºvue.config.jsæ–‡ä»¶ï¼šè¯¦ç»†ä»£ç å¦‚ä¸‹ï¼š","text":"åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºvue.config.jsæ–‡ä»¶ï¼šè¯¦ç»†ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177const webpack = require('webpack')const path = require('path'); function resolve(dir) &#123; return path.join(__dirname, dir)&#125;module.exports = &#123; /* vue-cli3 é¡¹ç›®é…ç½®æ–‡ä»¶ */ /* åŸºæœ¬è·¯å¾„ é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å‡è®¾æ‚¨çš„åº”ç”¨ç¨‹åºå°†éƒ¨ç½²åœ¨åŸŸçš„æ ¹ä¸Š ä¾‹å¦‚ï¼šhttps://www.my-app.com/ å¦‚æœåº”ç”¨ç¨‹åºéƒ¨ç½²åœ¨å­è·¯å¾„ä¸Šï¼Œåˆ™éœ€è¦æŒ‡å®š è¿™é‡Œçš„å­è·¯å¾„ï¼Œä¾‹å¦‚ï¼Œå¦‚æœåº”ç”¨ç¨‹åºéƒ¨ç½²åœ¨ https://www.foobar.com/my-app/ ç„¶åæŠŠè¿™ä¸ªå˜æˆ '/my-app/' ä¾‹å¦‚ï¼šhttps://www.example.com/project/v1.1/index.html baseUrl ä¸º /project/v1.1/ baseUrl: process.env.NODE_ENV === 'production' ? '/online/' : '/' */ baseUrl: '/', // è¾“å‡ºæ–‡ä»¶ç›®å½• // åœ¨npm run buildæ—¶ ç”Ÿæˆæ–‡ä»¶çš„ç›®å½• type:string, default:'dist' outputDir: 'dist', /* æ„å»ºå¤šé¡µæ—¶ä½¿ç”¨ index: &#123; // å…¥å£ entry: 'src/index/main.js', // æ¨¡æ¿ template: 'public/index.html', // output as dist/index.html filename: 'index.html' &#125; */ pages: &#123; type: Object, Default: undefined &#125;, // ç”¨äºæ”¾ç½®ç”Ÿæˆçš„é™æ€èµ„æº (jsã€cssã€imgã€fonts) çš„ï¼›ï¼ˆé¡¹ç›®æ‰“åŒ…ä¹‹åï¼Œé™æ€èµ„æºä¼šæ”¾åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ // ç½‘ç»œè¯·æ±‚çš„é™æ€ç›®å½•ä¸º public ä¸å‚ä¸æ‰“åŒ… è¯·æ±‚åœ°å€ ./ ç›´æ¥æŒ‡å‘ public ç›®å½• assetsDir: 'assets', // æŒ‡å®šç”Ÿæˆçš„ index.html çš„è¾“å‡ºè·¯å¾„ (æ‰“åŒ…ä¹‹åï¼Œæ”¹å˜ç³»ç»Ÿé»˜è®¤çš„index.htmlçš„æ–‡ä»¶å) indexPath: 'index.html', /* å¦‚æœä½ æƒ³è¦åœ¨ç”Ÿäº§æ„å»ºæ—¶ç¦ç”¨ eslint-loaderï¼Œä½ å¯ä»¥ç”¨å¦‚ä¸‹é…ç½® lintOnSave: process.env.NODE_ENV !== 'production eslint-loader eslintæ£€æŸ¥,æ˜¯å¦åœ¨ä¿å­˜çš„æ—¶å€™æ£€æŸ¥ lintOnSaveï¼š&#123; type:Boolean default:true &#125; é—®ä½ æ˜¯å¦ä½¿ç”¨eslint */ lintOnSave: true, // é»˜è®¤æƒ…å†µä¸‹ï¼Œç”Ÿæˆçš„é™æ€èµ„æºåœ¨å®ƒä»¬çš„æ–‡ä»¶åä¸­åŒ…å«äº† hash ä»¥ä¾¿æ›´å¥½çš„æ§åˆ¶ç¼“å­˜ã€‚ä½ å¯ä»¥é€šè¿‡å°†è¿™ä¸ªé€‰é¡¹è®¾ä¸º false æ¥å…³é—­æ–‡ä»¶åå“ˆå¸Œã€‚(falseçš„æ—¶å€™å°±æ˜¯è®©åŸæ¥çš„æ–‡ä»¶åä¸æ”¹å˜) filenameHashing: false, /* ä½¿ç”¨ç¼–è¯‘å™¨ç”Ÿæˆå…¨åœ¨æµè§ˆå™¨ æ˜¯å¦ä½¿ç”¨åŒ…å«è¿è¡Œæ—¶ç¼–è¯‘å™¨çš„ Vue æ„å»ºç‰ˆæœ¬ã€‚è®¾ç½®ä¸º true åä½ å°±å¯ä»¥åœ¨ Vue ç»„ä»¶ä¸­ä½¿ç”¨ template é€‰é¡¹äº†ï¼Œä½†æ˜¯è¿™ä¼šè®©ä½ çš„åº”ç”¨é¢å¤–å¢åŠ  10kb å·¦å³ã€‚(é»˜è®¤false) https://vuejs.org/v2/guide/installation.html#Runtime-Compiler-vs-Runtime-only */ runtimeCompiler: false, /* babel-loaderåœ¨é»˜è®¤æƒ…å†µä¸‹è·³è¿‡`node_modules`æ¨¡å— æ˜¾å¼åœ°ä½¿ç”¨æ­¤é€‰é¡¹æ¥è½¬æ¢ä¾èµ–é¡¹ é»˜è®¤æƒ…å†µä¸‹ babel-loader ä¼šå¿½ç•¥æ‰€æœ‰ node_modules ä¸­çš„æ–‡ä»¶ã€‚å¦‚æœä½ æƒ³è¦é€šè¿‡ Babel æ˜¾å¼è½¬è¯‘ä¸€ä¸ªä¾èµ–ï¼Œå¯ä»¥åœ¨è¿™ä¸ªé€‰é¡¹ä¸­åˆ—å‡ºæ¥ */ transpileDependencies: [ /* string or regex */ ], // ç”Ÿäº§ç¯å¢ƒæ˜¯å¦ç”Ÿæˆ sourceMap æ–‡ä»¶ productionSourceMap: false, /* è°ƒæ•´å†…éƒ¨webpacké…ç½® see https://github.com/vuejs/vue-cli/blob/dev/docs/webpack.md æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼šæ¥æ”¶ä¸€ä¸ªåŸºäº webpack-chain çš„ ChainableConfig å®ä¾‹ã€‚å…è®¸å¯¹å†…éƒ¨çš„ webpack é…ç½®è¿›è¡Œæ›´ç»†ç²’åº¦çš„ä¿®æ”¹ã€‚ chainWebpack: config =&gt; &#123; config.module .rule('images') .use('url-loader') .loader('url-loader') .tap(options =&gt; &#123; // ä¿®æ”¹å®ƒçš„é€‰é¡¹... return options &#125;), config.entry.app = [\"babel-polyfill\", resolve('src/main.js')], // åˆ«å config.resolve.alias .set('@', resolve('src')) .set('./@assets', resolve('src/assets')) .set('@components', resolve('src/components')) .set('@font', resolve('src/font')); &#125;, */ /* configureWebpack: config =&gt; &#123; if (process.env.NODE_ENV === 'production') &#123; // ä¸ºç”Ÿäº§ç¯å¢ƒä¿®æ”¹é…ç½®... &#125; else &#123; // ä¸ºå¼€å‘ç¯å¢ƒä¿®æ”¹é…ç½®... &#125; &#125; */ // æ’ä»¶é…ç½® configureWebpack: &#123; plugins: [ new webpack.ProvidePlugin(&#123; jQuery: 'jquery', $: 'jquery' &#125;) ] &#125;, // cssç›¸å…³é…ç½® css: &#123; // æ˜¯å¦ä½¿ç”¨cssåˆ†ç¦»æ’ä»¶ ExtractTextPlugin extract: true, // å¼€å¯ CSS source maps? sourceMap: false, // cssé¢„è®¾å™¨é…ç½®é¡¹ loaderOptions: &#123;&#125;, // å¯ç”¨ CSS modules for all css / pre-processor files. modules: false &#125;, // åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨Babelï¼†TS thread-loader // é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœæœºå™¨æœ‰è¶…è¿‡1ä¸ªå†…æ ¸ parallel: require('os').cpus().length &gt; 1, // PWAï¼ˆæ¸è¿›å¼WEBåº”ç”¨ï¼‰ æ’ä»¶ç›¸å…³é…ç½® https://segmentfault.com/a/1190000012353473 // see https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa pwa: &#123;&#125;, // å®ƒæ”¯æŒwebPack-dev-serverçš„æ‰€æœ‰é€‰é¡¹ // See https://github.com/vuejs/vue-cli/blob/dev/docs/cli-service.md#configuring-proxy devServer: &#123; // ä¸»æœºå host: process.env.HOST || 'localhost', // ç«¯å£å· port: process.env.PORT || 8080, // æ˜¯å¦æ”¯æŒhttpså®‰å…¨è®¿é—® https: false, // é…ç½®è‡ªåŠ¨å¯åŠ¨æµè§ˆå™¨ process.platform === 'darwin' open: true, // çƒ­æ›´æ–°ï¼ˆwebpackå·²å®ç°äº†ï¼Œè¿™é‡Œfalseå³å¯ï¼‰ hotOnly: false, compress: true, /* é…ç½®è·¨åŸŸå¤„ç†,åªæœ‰ä¸€ä¸ªä»£ç† proxy: 'http://localhost:4000' é…ç½®å¤šä¸ªä»£ç† &#123; '/api': &#123; target: '&lt;url&gt;', ws: true, changeOrigin: true &#125;, '/foo': &#123; target: '&lt;other_url&gt;' &#125; &#125; */ proxy: null, // è¯·æ±‚ä¹‹å‰ before: app =&gt; &#123;&#125; &#125;, // ç¬¬ä¸‰æ–¹æ’ä»¶é…ç½® css loader pluginOptions: &#123; 'style-resources-loader': &#123; preProcessor: 'less', patterns: [] &#125; &#125;&#125;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"}]},{"title":"vueè½®å­å·¥å‚","slug":"Vue/vueè½®å­å·¥å‚","date":"2019-07-13T05:26:53.000Z","updated":"2021-03-27T06:24:34.624Z","comments":true,"path":"/posts/da177769.html","link":"","permalink":"https://yangyfeng.github.io/posts/da177769.html","excerpt":"Vueè½®å­å·¥å‚","text":"Vueè½®å­å·¥å‚ ç»„ä»¶åå­— ç»„ä»¶æè¿° ç»„ä»¶gitåˆ›åº“åœ°å€ element element - é¥¿äº†ä¹ˆå‡ºå“çš„Vue2çš„web UIå·¥å…·å¥—ä»¶ https://github.com/ElemeFE/element Vux Vux - åŸºäºVueå’ŒWeUIçš„ç»„ä»¶åº“ https://github.com/airyland/vux mint-ui mint-ui - Vue 2çš„ç§»åŠ¨UIå…ƒç´  https://github.com/ElemeFE/mint-ui iview iview - åŸºäº Vuejs çš„å¼€æº UI ç»„ä»¶åº“ https://github.com/iview/iview Keen-UI Keen-UI - è½»é‡çº§çš„åŸºæœ¬UIç»„ä»¶åˆé›† https://github.com/JosephusPaye/Keen-UI vue-material vue-material - é€šè¿‡Vue Materialå’ŒVue 2å»ºç«‹ç²¾ç¾çš„appåº”ç”¨ https://github.com/marcosmoura/vue-material muse-ui muse-ui - ä¸‰ç«¯æ ·å¼ä¸€è‡´çš„å“åº”å¼ UI åº“ https://github.com/museui/muse-ui vuetify vuetify - ä¸ºç§»åŠ¨è€Œç”Ÿçš„Vue JS 2ç»„ä»¶æ¡†æ¶ https://github.com/vuetifyjs/vuetify vonic vonic - å¿«é€Ÿæ„å»ºç§»åŠ¨ç«¯å•é¡µåº”ç”¨ https://github.com/wangdahoo/vonic eme eme - ä¼˜é›…çš„Markdownç¼–è¾‘å™¨ https://github.com/egoist/eme vue-multiselect vue-multiselect - Vue.jsé€‰æ‹©æ¡†è§£å†³æ–¹æ¡ˆ https://github.com/monterail/vue-multiselect vue-table vue-table - ç®€åŒ–æ•°æ®è¡¨æ ¼ https://github.com/ratiw/vue-table VueCircleMenu VueCircleMenu - æ¼‚äº®çš„vueåœ†ç¯èœå• https://github.com/OYsun/VueCircleMenu vue-chat vue-chat - vuejså’ŒvuexåŠwebpackçš„èŠå¤©ç¤ºä¾‹ https://github.com/Coffcer/vue-chat radon-ui radon-ui - å¿«é€Ÿå¼€å‘äº§å“çš„Vueç»„ä»¶åº“ https://github.com/luojilab/radon-ui vue-waterfall vue-waterfall - Vue.jsçš„ç€‘å¸ƒå¸ƒå±€ç»„ä»¶ https://github.com/MopTym/vue-waterfall vue-carbon vue-carbon - åŸºäº vue å¼€å‘MDé£æ ¼çš„ç§»åŠ¨ç«¯ https://github.com/myronliu347/vue-carbon vue-beauty vue-beauty - ç”±vueå’Œant designåˆ›å»ºçš„ä¼˜ç¾UIç»„ä»¶ https://github.com/FE-Driver/vue-beauty vue-blu vue-blu - å¸®åŠ©ä½ è½»æ¾åˆ›å»ºwebåº”ç”¨ https://github.com/chenz24/vue-blu vueAdmin vueAdmin - åŸºäºvuejs2å’Œelementçš„ç®€å•çš„ç®¡ç†å‘˜æ¨¡æ¿ https://github.com/taylorchen709/vueAdmin vue-syntax-highlight vue-syntax-highlight - Sublime Textè¯­æ³•é«˜äº® https://github.com/vuejs/vue-syntax-highlight vue-infinite-scroll vue-infinite-scroll - VueJSçš„æ— é™æ»šåŠ¨æŒ‡ä»¤ https://github.com/ElemeFE/vue-infinite-scroll Vue.Draggable Vue.Draggable - å®ç°æ‹–æ”¾å’Œè§†å›¾æ¨¡å‹æ•°ç»„åŒæ­¥ https://github.com/David-Desmaisons/Vue.Draggable vue-awesome-swiper vue-awesome-swiper - vue.jsè§¦æ‘¸æ»‘åŠ¨ç»„ä»¶ https://github.com/surmon-china/vue-awesome-swiper vue-calendar vue-calendar - æ—¥æœŸé€‰æ‹©æ’ä»¶ https://github.com/jinzhe/vue-calendar bootstrap-vue bootstrap-vue - åº”ç”¨äºVuejs2çš„Twitterçš„Bootstrap 4ç»„ä»¶ https://github.com/pi0/bootstrap-vue vue-swipe vue-swipe - VueJSè§¦æ‘¸æ»‘å— https://github.com/ElemeFE/vue-swipe vue-amap vue-amap - åŸºäºVue 2å’Œé«˜å¾·åœ°å›¾çš„åœ°å›¾ç»„ä»¶ https://github.com/ElemeFE/vue-amap vue-chartjs vue-chartjs - vueä¸­çš„Chartjsçš„å°è£… https://github.com/apertureless/vue-chartjs vue-datepicker vue-datepicker - æ—¥å†å’Œæ—¥æœŸé€‰æ‹©ç»„ä»¶ https://github.com/hilongjw/vue-datepicker markcook markcook - å¥½çœ‹çš„markdownç¼–è¾‘å™¨ https://github.com/jrainlau/markcook vue-google-maps vue-google-maps - å¸¦æœ‰åŒå‘æ•°æ®ç»‘å®šGoogleåœ°å›¾ç»„ä»¶ https://github.com/GuillaumeLeclerc/vue-google-maps vue-progressbar vue-progressbar - vueè½»é‡çº§è¿›åº¦æ¡ https://github.com/hilongjw/vue-progressbar vue-picture-input vue-picture-input - ç§»åŠ¨å‹å¥½çš„å›¾ç‰‡æ–‡ä»¶è¾“å…¥ç»„ä»¶ https://github.com/alessiomaffeis/vue-picture-input vue-infinite-loading vue-infinite-loading - VueJSçš„æ— é™æ»šåŠ¨æ’ä»¶ https://github.com/PeachScript/vue-infinite-loading vue-upload-component vue-upload-component - Vuejsæ–‡ä»¶ä¸Šä¼ ç»„ä»¶ https://github.com/lian-yue/vue-upload-component vue-datetime-picker vue-datetime-picker - æ—¥æœŸæ—¶é—´é€‰æ‹©æ§ä»¶ https://github.com/Haixing-Hu/vue-datetime-picker vue-scroller vue-scroller - Vonic UIçš„åŠŸèƒ½æ€§ç»„ä»¶ https://github.com/wangdahoo/vue-scroller vue2-calendar vue2-calendar - æ”¯æŒlunarå’Œæ—¥æœŸäº‹ä»¶çš„æ—¥æœŸé€‰æ‹©å™¨ https://github.com/icai/vue2-calendar vue-video-player vue-video-player - VueJSè§†é¢‘åŠç›´æ’­æ’­æ”¾å™¨ https://github.com/surmon-china/vue-video-player vue-fullcalendar vue-fullcalendar - åŸºäºvue.jsçš„å…¨æ—¥å†ç»„ä»¶ https://github.com/Wanderxx/vue-fullcalendar rubik rubik - åŸºäºVuejs2çš„å¼€æº UI ç»„ä»¶åº“ https://github.com/ccforward/rubik VueStar VueStar - å¸¦æ˜Ÿæ˜ŸåŠ¨ç”»çš„vueç‚¹èµæŒ‰é’® https://github.com/OYsun/VueStar vue-mugen-scroll vue-mugen-scroll - æ— é™æ»šåŠ¨ç»„ä»¶ https://github.com/egoist/vue-mugen-scroll mint-loadmore mint-loadmore - VueJSçš„åŒå‘ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶ https://github.com/mint-ui/mint-loadmore vue-tables-2 vue-tables-2 - æ˜¾ç¤ºæ•°æ®çš„bootstrapæ ·å¼ç½‘æ ¼ https://github.com/matfish2/vue-tables-2 vue-virtual-scroller vue-virtual-scroller - å¸¦ä»»æ„æ•°ç›®æ•°æ®çš„é¡ºç•…çš„æ»šåŠ¨ https://github.com/Akryum/vue-virtual-scroller DataVisualization DataVisualization - æ•°æ®å¯è§†åŒ– https://github.com/SimonZhangITer/DataVisualization vue-quill-editor vue-quill-editor - åŸºäºQuillé€‚ç”¨äºVue2çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ https://github.com/surmon-china/vue-quill-editor Vueditor Vueditor - æ‰€è§å³æ‰€å¾—çš„ç¼–è¾‘å™¨ https://github.com/hifarer/Vueditor vue-html5-editor vue-html5-editor - html5æ‰€è§å³æ‰€å¾—ç¼–è¾‘å™¨ https://github.com/PeakTai/vue-html5-editor vue-msgbox vue-msgbox - vuejsçš„æ¶ˆæ¯æ¡† https://github.com/ElemeFE/vue-msgbox vue-slider vue-slider - vue æ»‘åŠ¨ç»„ä»¶ https://github.com/warpcgd/vue-slider vue-core-image-upload vue-core-image-upload - è½»é‡çº§çš„vueä¸Šä¼ æ’ä»¶ https://github.com/Vanthink-UED/vue-core-image-upload vue-slide vue-slide - vueè½»é‡çº§æ»‘åŠ¨ç»„ä»¶ https://github.com/hilongjw/vue-slide vue-lazyload-img vue-lazyload-img - ç§»åŠ¨ä¼˜åŒ–çš„vueå›¾ç‰‡æ‡’åŠ è½½æ’ä»¶ https://github.com/JALBAA/vue-lazyload-img vue-drag-and-drop-list vue-drag-and-drop-list - åˆ›å»ºæ’åºåˆ—è¡¨çš„VueæŒ‡ä»¤ https://github.com/Alex-fun/vue-drag-and-drop-list vue-progressive-image vue-progressive-image - Vueçš„æ¸è¿›å›¾åƒåŠ è½½æ’ä»¶ https://github.com/MatteoGabriele/vue-progressive-image vuwe vuwe - åŸºäºå¾®ä¿¡WeUIæ‰€å¼€å‘çš„ä¸“ç”¨äºVue2çš„ç»„ä»¶åº“ https://github.com/vuwe/vuwe vue-dropzone vue-dropzone - ç”¨äºæ–‡ä»¶ä¸Šä¼ çš„Vueç»„ä»¶ https://github.com/rowanwins/vue-dropzone vue-charts vue-charts - è½»æ¾æ¸²æŸ“ä¸€ä¸ªå›¾è¡¨ https://github.com/hchstera/vue-charts vue-swiper vue-swiper - æ˜“äºä½¿ç”¨çš„æ»‘å—ç»„ä»¶ https://github.com/weilao/vue-swiper vue-images vue-images - æ˜¾ç¤ºä¸€ç»„å›¾ç‰‡çš„lightboxç»„ä»¶ https://github.com/littlewin-wang/vue-images vue-carousel-3d vue-carousel-3d - VueJSçš„3Dè½®æ’­ç»„ä»¶ https://github.com/Wlada/vue-carousel-3d vue-region-picker vue-region-picker - é€‰æ‹©ä¸­å›½çš„çœä»½å¸‚å’Œåœ°åŒº https://github.com/QingWei-Li/vue-region-picker vue-typer vue-typer - æ¨¡æ‹Ÿç”¨æˆ·è¾“å…¥é€‰æ‹©å’Œåˆ é™¤æ–‡æœ¬çš„Vueç»„ä»¶ https://github.com/cngu/vue-typer vue-impression vue-impression - ç§»åŠ¨Vuejs2 UIå…ƒç´  https://github.com/NewDadaFE/vue-impression vue-datatable vue-datatable - ä½¿ç”¨Vuejsåˆ›å»ºçš„DataTableView https://github.com/galenyuan/vue-datatable vue-instant vue-instant - è½»æ¾åˆ›å»ºè‡ªåŠ¨æç¤ºçš„è‡ªå®šä¹‰æœç´¢æ§ä»¶ https://github.com/santiblanko/vue-instant vue-dragging vue-dragging - ä½¿å…ƒç´ å¯ä»¥æ‹–æ‹½ https://github.com/hilongjw/vue-dragging vue-slider-component vue-slider-component - åœ¨vue1å’Œvue2ä¸­ä½¿ç”¨æ»‘å— https://github.com/NightCatSama/vue-slider-component vue2-loading-bar vue2-loading-bar - æœ€ç®€å•çš„ä»¿YoutubeåŠ è½½æ¡è§†å›¾ https://github.com/BosNaufal/vue2-loading-bar vue-datepicker vue-datepicker - æ¼‚äº®çš„Vueæ—¥æœŸé€‰æ‹©å™¨ç»„ä»¶ https://github.com/weifeiyue/vue-datepicker vue-video vue-video - Vue.jsçš„HTML5è§†é¢‘æ’­æ”¾å™¨ https://github.com/hilongjw/vue-video vue-toast-mobile vue-toast-mobile - VueJSçš„toastæ’ä»¶ https://github.com/ElemeFE/vue-toast-mobile vue-image-crop-upload vue-image-crop-upload - vueå›¾ç‰‡å‰ªè£ä¸Šä¼ ç»„ä»¶ https://github.com/dai-siki/vue-image-crop-upload vue-tooltip vue-tooltip - å¸¦ç»‘å®šä¿¡æ¯æç¤ºçš„æç¤ºå·¥å…· https://github.com/Akryum/vue-tooltip vue-highcharts vue-highcharts - HighChartsç»„ä»¶ https://github.com/weizhenye/vue-highcharts vue-touch-ripple vue-touch-ripple - vuejsçš„è§¦æ‘¸rippleç»„ä»¶ https://github.com/surmon-china/vue-touch-ripple coffeebreak coffeebreak - å®æ—¶ç¼–è¾‘CSSç»„ä»¶å·¥å…· https://github.com/Kocisov/coffeebreak vue-datasource vue-datasource - åˆ›å»ºVueJSåŠ¨æ€è¡¨æ ¼ https://github.com/coderdiaz/vue-datasource vue2-timepicker vue2-timepicker - ä¸‹æ‹‰æ—¶é—´é€‰æ‹©å™¨ https://github.com/phoenixwong/vue2-timepicker vue-date-picker vue-date-picker - VueJSæ—¥æœŸé€‰æ‹©å™¨ç»„ä»¶ https://github.com/Bubblings/vue-date-picker vue-scrollbar vue-scrollbar - æœ€ç®€å•çš„æ»šåŠ¨åŒºåŸŸç»„ä»¶ https://github.com/BosNaufal/vue-scrollbar vue-quill vue-quill - vueç»„ä»¶æ„å»ºquillç¼–è¾‘å™¨ https://github.com/CroudSupport/vue-quill vue-google-signin-button vue-google-signin-button - å¯¼å…¥è°·æ­Œç™»å½•æŒ‰é’® https://github.com/phanan/vue-google-signin-button vue-svgicon vue-svgicon - åˆ›å»ºsvgå›¾æ ‡ç»„ä»¶çš„å·¥å…· https://github.com/MMF-FE/vue-svgicon vue-float-label vue-float-label - VueJSæµ®åŠ¨æ ‡ç­¾æ¨¡å¼ https://github.com/bkzl/vue-float-label vue-baidu-map vue-baidu-map - åŸºäº Vue 2çš„ç™¾åº¦åœ°å›¾ç»„ä»¶åº“ https://github.com/Dafrok/vue-baidu-map vue-social-sharing vue-social-sharing - ç¤¾äº¤åˆ†äº«ç»„ä»¶ https://github.com/nicolasbeauvais/vue-social-sharing vue2-editor vue2-editor - HTMLç¼–è¾‘å™¨ https://github.com/davidroyer/vue2-editor vue-tagsinput vue-tagsinput - åŸºäºVueJSçš„æ ‡ç­¾ç»„ä»¶ https://github.com/Ginhing/vue-tagsinput vue-easy-slider vue-easy-slider - Vue 2.xçš„æ»‘å—ç»„ä»¶ https://github.com/shhdgit/vue-easy-slider datepicker datepicker - åŸºäºflatpickrçš„æ—¶é—´é€‰æ‹©ç»„ä»¶ https://github.com/vue-bulma/datepicker vue-chart vue-chart - å¼ºå¤§çš„é«˜é€Ÿçš„vueå›¾è¡¨è§£æ https://github.com/miaolz123/vue-chart vue-music-master vue-music-master - vueæ‰‹æœºç«¯ç½‘é¡µéŸ³ä¹æ’­æ”¾å™¨ https://github.com/yunyi1895/vue-music-master handsontable handsontable - ç½‘é¡µè¡¨æ ¼ç»„ä»¶ https://github.com/vue-bulma/handsontable vue-simplemde vue-simplemde - VueJSçš„Markdownç¼–è¾‘å™¨ç»„ä»¶ https://github.com/F-loat/vue-simplemde vue-popup-mixin vue-popup-mixin - ç”¨äºç®¡ç†å¼¹å‡ºæ¡†çš„é®ç›–å±‚ https://github.com/myronliu347/vue-popup-mixin cubeex cubeex - åŒ…å«ä¸€å¥—å®Œæ•´çš„ç§»åŠ¨UI https://github.com/fangyongbao/cubeex vue-fullcalendar vue-fullcalendar - vue FullCalendarå°è£… https://github.com/CroudSupport/vue-fullcalendar vue-material-design vue-material-design - Vue MDé£æ ¼ç»„ä»¶ https://github.com/loujiayu/vue-material-design vue-morris vue-morris - Vuejsç»„ä»¶å°è£…Morrisjsåº“ https://github.com/bbonnin/vue-morris we-vue we-vue - Vue2åŠweui1å¼€å‘çš„ç»„ä»¶ https://github.com/tianyong90/we-vue vue-image-clip vue-image-clip - åŸºäºvueçš„å›¾åƒå‰ªè¾‘ç»„ä»¶ https://github.com/legeneek/vue-image-clip vue-bootstrap-table vue-bootstrap-table - å¯æ’åºå¯æ£€ç´¢çš„è¡¨æ ¼ https://github.com/jbaysolutions/vue-bootstrap-table vue-radial-progress vue-radial-progress - Vue.jsæ”¾å°„æ€§è¿›åº¦æ¡ç»„ä»¶ https://github.com/wyzant-dev/vue-radial-progress vue-slick vue-slick - å®ç°æµç•…è½®æ’­æ¡†çš„vueç»„ä»¶ https://github.com/staskjs/vue-slick vue-pull-to-refresh vue-pull-to-refresh - Vue2çš„ä¸Šæ‹‰ä¸‹æ‹‰ https://github.com/bajian/vue-pull-to-refresh vue-form-2 vue-form-2 - å…¨é¢çš„HTMLè¡¨å•ç®¡ç†çš„è§£å†³æ–¹æ¡ˆ https://github.com/matfish2/vue-form-2 vue-side-nav vue-side-nav - å“åº”å¼çš„ä¾§è¾¹å¯¼èˆª https://github.com/vue-comps/vue-side-nav mint-indicator mint-indicator - VueJSç§»åŠ¨åŠ è½½æŒ‡ç¤ºå™¨æ’ä»¶ https://github.com/mint-ui/mint-indicator chartjs chartjs - Vue Bulmaçš„chartjsç»„ä»¶ https://github.com/vue-bulma/chartjs vue-scroll vue-scroll - vueæ»šåŠ¨ https://github.com/suguangwen/vue-scroll vue-ripple vue-ripple - åˆ¶ä½œè°·æ­ŒMDé£æ ¼æ¶Ÿæ¼ªæ•ˆæœçš„Vueç»„ä»¶ https://github.com/BosNaufal/vue-ripple vue-touch-keyboard vue-touch-keyboard - VueJSè™šæ‹Ÿé”®ç›˜ç»„ä»¶ https://github.com/icebob/vue-touch-keyboard vue-chartkick vue-chartkick - VueJSä¸€è¡Œä»£ç å®ç°ä¼˜ç¾å›¾è¡¨ https://github.com/ankane/vue-chartkick vue-ztree vue-ztree - ç”¨ vue å†™çš„æ ‘å±‚çº§ç»„ä»¶ https://github.com/lisiyizu/vue-ztree vue-m-carousel vue-m-carousel - vue ç§»åŠ¨ç«¯è½®æ’­ç»„ä»¶ https://github.com/shiye515/vue-m-carousel vue-datepicker-simple vue-datepicker-simple - åŸºäºvueçš„æ—¥æœŸé€‰æ‹©å™¨ https://github.com/dai-siki/vue-datepicker-simple vue-tabs vue-tabs - å¤štabé¡µè½»å‹æ¡†æ¶ https://github.com/alexqdjay/vue-tabs vue-verify-pop vue-verify-pop - å¸¦æ°”æ³¡æç¤ºçš„vueæ ¡éªŒæ’ä»¶ https://github.com/aweiu/vue-verify-pop vue-parallax vue-parallax - æ•´æ´çš„è§†è§‰æ•ˆæœ https://github.com/vue-comps/vue-parallax vue-img-loader vue-img-loader - å›¾ç‰‡åŠ è½½UIç»„ä»¶ https://github.com/JackGit/vue-img-loader vue-typewriter vue-typewriter - vueç»„ä»¶ç±»å‹ https://github.com/eduardostuart/vue-typewriter vue-smoothscroll vue-smoothscroll - smoothscrollçš„VueJSç‰ˆæœ¬ https://github.com/Teddy-Zhu/vue-smoothscroll vue-city vue-city - åŸå¸‚é€‰æ‹©å™¨ https://github.com/xinxingyu/vue-city vue-tree vue-tree - vueæ ‘è§†å›¾ç»„ä»¶ https://github.com/weibangtuo/vue-tree vue-ios-alertview vue-ios-alertview - iOS7+ é£æ ¼çš„alertviewæœåŠ¡ https://github.com/Treri/vue-ios-alertview dd-vue-component dd-vue-component - è®¢å•æ¥äº†çš„å…¬å…±ç»„ä»¶åº“ https://github.com/ibufu/dd-vue-component paco-ui-vue paco-ui-vue - PACOUIçš„vueç»„ä»¶ https://github.com/yeseason/paco-ui-vue vue-cmap vue-cmap - Vue China mapå¯è§†åŒ–ç»„ä»¶ https://github.com/doodlewind/vue-cmap vue-button vue-button - VueæŒ‰é’®ç»„ä»¶ https://github.com/steven5538/vue-button vue.js vue.js - æµè¡Œçš„è½»é‡é«˜æ•ˆçš„å‰ç«¯ç»„ä»¶åŒ–æ–¹æ¡ˆ https://github.com/vuejs/vue vue-admin vue-admin - Vueç®¡ç†é¢æ¿æ¡†æ¶ https://github.com/fundon/vue-admin electron-vue electron-vue - ElectronåŠVueJSå¿«é€Ÿå¯åŠ¨æ ·æ¿ https://github.com/SimulatedGREG/electron-vue vue-2.0-boilerplate vue-2.0-boilerplate - Vue2å•é¡µåº”ç”¨æ ·æ¿ https://github.com/petervmeijgaard/vue-2.0-boilerplate vue-spa-template vue-spa-template - å‰åç«¯åˆ†ç¦»åçš„å•é¡µåº”ç”¨å¼€å‘ https://github.com/hanan198501/vue-spa-template Framework7-Vue Framework7-Vue - VueJSä¸Framework7ç»“åˆ https://github.com/nolimits4web/Framework7-Vue vue-bulma vue-bulma - è½»é‡çº§é«˜æ€§èƒ½MVVM Admin UIæ¡†æ¶ https://github.com/wangxg2016/vue-bulma vue-webgulp vue-webgulp - ä»¿VueJS Vue loaderç¤ºä¾‹ https://github.com/rodzzlessa24/vue-webgulp vue-element-starter vue-element-starter - vueå¯åŠ¨é¡µ https://github.com/Metnew/vue-element-starter vuex vuex - ä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ https://github.com/vuejs/vuex vuelidate vuelidate - ç®€å•è½»é‡çº§çš„åŸºäºæ¨¡å—çš„Vue.jséªŒè¯ https://github.com/monterail/vuelidate qingcheng qingcheng - qingchengä¸»é¢˜ https://github.com/zerqu/qingcheng vue-desktop vue-desktop - åˆ›å»ºç®¡ç†é¢æ¿ç½‘ç«™çš„UIåº“ https://github.com/ElemeFE/vue-desktop vue-meta vue-meta - ç®¡ç†appçš„metaä¿¡æ¯ https://github.com/declandewet/vue-meta vue-axios vue-axios - å°†axiosæ•´åˆåˆ°VueJSçš„å°è£… https://github.com/imcvampire/vue-axios vue-svg-icon vue-svg-icon - vue2çš„å¯å˜å½©è‰²svgå›¾æ ‡æ–¹æ¡ˆ https://github.com/cenkai88/vue-svg-icon avoriaz avoriaz - VueJSæµ‹è¯•å®ç”¨å·¥å…·åº“ https://github.com/eddyerburgh/avoriaz vue-framework7 vue-framework7 - ç»“åˆVueJSä½¿ç”¨çš„Framework7ç»„ä»¶ https://github.com/lmk123/vue-framework7 vue-bootstrap-modal vue-bootstrap-modal - vueçš„Bootstrapæ ·å¼ç»„ä»¶ https://github.com/Coffcer/vue-bootstrap-modal vuep vuep - ç”¨å®æ—¶ç¼–è¾‘å’Œé¢„è§ˆæ¥æ¸²æŸ“Vueç»„ä»¶ https://github.com/QingWei-Li/vuep vue-online vue-online - reactiveçš„åœ¨çº¿å’Œç¦»çº¿ç»„ä»¶ https://github.com/Sopamo/vue-online vue-lazy-render vue-lazy-render - ç”¨äºVueç»„ä»¶çš„å»¶è¿Ÿæ¸²æŸ“ https://github.com/yeyuqiudeng/vue-lazy-render vue-password-strength-meter vue-password-strength-meter - äº¤äº’å¼å¯†ç å¼ºåº¦è®¡ https://github.com/apertureless/vue-password-strength-meter element-admin element-admin - æ”¯æŒ vuecli çš„ Element UI çš„åå°æ¨¡æ¿ https://github.com/lynzz/element-admin vue-electron vue-electron - å°†é€‰æ‹©çš„APIå°è£…åˆ°Vueå¯¹è±¡ä¸­çš„æ’ä»¶ https://github.com/SimulatedGREG/vue-electron cleave cleave - åŸºäºcleave.jsçš„Cleaveç»„ä»¶ https://github.com/vue-bulma/cleave vue-events vue-events - ç®€åŒ–äº‹ä»¶çš„VueJSæ’ä»¶ https://github.com/cklmercer/vue-events vue-shortkey vue-shortkey - åº”ç”¨äºVue.jsçš„Vue-ShortKey æ’ä»¶ https://github.com/iFgR/vue-shortkey vue-cordova vue-cordova - Cordovaçš„VueJSæ’ä»¶ https://github.com/kartsims/vue-cordova vue-router-transition vue-router-transition - é¡µé¢è¿‡æ¸¡æ’ä»¶ https://github.com/weinot/vue-router-transition vue-gesture vue-gesture - VueJSçš„æ‰‹åŠ¿äº‹ä»¶æ’ä»¶ https://github.com/mlyknown/vue-gesture http-vue-loader http-vue-loader - ä»htmlåŠjsç¯å¢ƒåŠ è½½vueæ–‡ä»¶ https://github.com/FranckFreiburger/http-vue-loader vue-qart vue-qart - ç”¨äºqartjsçš„Vue2æŒ‡ä»¤ https://github.com/superman66/vue-qart vuemit vuemit - å¤„ç†VueJSäº‹ä»¶ https://github.com/gocanto/vuemit vue-websocket vue-websocket - VueJSçš„Websocketæ’ä»¶ https://github.com/icebob/vue-websocket vue-local-storage vue-local-storage - å…·æœ‰ç±»å‹æ”¯æŒçš„Vuejsæœ¬åœ°å‚¨å­˜æ’ä»¶ https://github.com/pinguinjkeke/vue-local-storage lazy-vue lazy-vue - æ‡’åŠ è½½å›¾ç‰‡ https://github.com/gocanto/lazy-vue vue-bus vue-bus - VueJSçš„äº‹ä»¶æ€»çº¿ https://github.com/yangmingshan/vue-bus vue-reactive-storage vue-reactive-storage - vueæ’ä»¶çš„Reactiveå±‚ https://github.com/ropbla9/vue-reactive-storage vue-notifications vue-notifications - éé˜»å¡é€šçŸ¥åº“ https://github.com/se-panfilov/vue-notifications vue-lazy-component vue-lazy-component - æ‡’åŠ è½½ç»„ä»¶æˆ–è€…å…ƒç´ çš„VueæŒ‡ä»¤ https://github.com/Coffcer/vue-lazy-component v-media-query v-media-query - vueä¸­æ·»åŠ ç”¨äºé…åˆåª’ä½“æŸ¥è¯¢çš„æ–¹æ³• https://github.com/AStaroverov/v-media-query vue-observe-visibility vue-observe-visibility - å½“å…ƒç´ åœ¨é¡µé¢ä¸Šå¯è§æˆ–éšè—æ—¶æ£€æµ‹ https://github.com/Akryum/vue-observe-visibility vue-ts-loader vue-ts-loader - åœ¨Vueè£…è½½æœºæ£€æŸ¥è„šæœ¬ https://github.com/HerringtonDarkholme/vue-ts-loader vue-pagination-2 vue-pagination-2 - ç®€å•é€šç”¨çš„åˆ†é¡µç»„ä»¶ https://github.com/matfish2/vue-pagination-2 vuex-i18n vuex-i18n - å®šä½æ’ä»¶ https://github.com/dkfbasel/vuex-i18n Vue.resize Vue.resize - æ£€æµ‹HTMLè°ƒæ•´å¤§å°äº‹ä»¶çš„vueæŒ‡ä»¤ https://github.com/David-Desmaisons/Vue.resize vuex-shared-mutations vuex-shared-mutations - åˆ†äº«æŸç§Vuex mutations https://github.com/xanf/vuex-shared-mutations vue-file-base64 vue-file-base64 - å°†æ–‡ä»¶è½¬æ¢ä¸ºBase64çš„vueç»„ä»¶ https://github.com/BosNaufal/vue-file-base64 modal modal - Vue Bulmaçš„modalç»„ä»¶ https://github.com/vue-bulma/modal Famous-Vue Famous-Vue - Famousåº“çš„vueç»„ä»¶ https://github.com/irwansyahwii/Famous-Vue leo-vue-validator leo-vue-validator - å¼‚æ­¥çš„è¡¨å•éªŒè¯ç»„ä»¶ https://github.com/LeoHuiyi/leo-vue-validator Vue-Easy-Validator Vue-Easy-Validator - ç®€å•çš„è¡¨å•éªŒè¯ https://github.com/MetinSeylan/Vue-Easy-Validator vue-truncate-filter vue-truncate-filter - æˆªæ–­å­—ç¬¦ä¸²çš„VueJSè¿‡æ»¤å™¨ https://github.com/imcvampire/vue-truncate-filter vue-zoombox vue-zoombox - ä¸€ä¸ªé«˜çº§zoombox https://github.com/vue-comps/vue-zoombox vue-input-autosize vue-input-autosize - åŸºäºå†…å®¹è‡ªåŠ¨è°ƒæ•´æ–‡æœ¬è¾“å…¥çš„å¤§å° https://github.com/syropian/vue-input-autosize vue-lazyloadImg vue-lazyloadImg - å›¾ç‰‡æ‡’åŠ è½½æ’ä»¶ https://github.com/yodfz/vue-lazyloadImg nuxt.js nuxt.js - ç”¨äºæœåŠ¡å™¨æ¸²æŸ“Vue appçš„æœ€å°åŒ–æ¡†æ¶ https://github.com/nuxt/nuxt.js express-vue express-vue - ç®€å•çš„ä½¿ç”¨æœåŠ¡å™¨ç«¯æ¸²æŸ“vue.js https://github.com/danmademe/express-vue vue-ssr vue-ssr - éå¸¸ç®€å•çš„VueJSæœåŠ¡å™¨ç«¯æ¸²æŸ“æ¨¡æ¿ https://github.com/ccforward/vue-ssr vue-ssr vue-ssr - ç»“åˆExpressä½¿ç”¨Vue2æœåŠ¡ç«¯æ¸²æŸ“ https://github.com/hilongjw/vue-ssr vue-easy-renderer vue-easy-renderer - NodejsæœåŠ¡ç«¯æ¸²æŸ“ https://github.com/leaves4j/vue-easy-renderer DejaVue DejaVue - Vuejså¯è§†åŒ–åŠå‹åŠ›æµ‹è¯• https://github.com/MiCottOn/DejaVue vue-play vue-play - å±•ç¤ºVueç»„ä»¶çš„æœ€å°åŒ–æ¡†æ¶ https://github.com/vue-play/vue-play vscode-VueHelper vscode-VueHelper - ç›®å‰vscodeæœ€å¥½çš„vueä»£ç æç¤ºæ’ä»¶ https://github.com/OYsun/vscode-VueHelper vue-generate-component vue-generate-component - è½»æ¾ç”ŸæˆVue jsç»„ä»¶çš„CLIå·¥å…· https://github.com/NetanelBasal/vue-generate-component vue-multipage-cli vue-multipage-cli - ç®€å•çš„å¤šé¡µCLI https://github.com/xwpongithub/vue-multipage-cli VuejsStarterKit VuejsStarterKit - vuejs starterå¥—ä»¶ https://github.com/MetinSeylan/VuejsStarterKit koel koel - åŸºäºç½‘ç»œçš„ä¸ªäººéŸ³é¢‘æµåª’ä½“æœåŠ¡ https://github.com/phanan/koel pagekit pagekit - è½»é‡çº§çš„CMSå»ºç«™ç³»ç»Ÿ https://github.com/pagekit/pagekit vuedo vuedo - åšå®¢å¹³å° https://github.com/Vuedo/vuedo jackblog-vue jackblog-vue - ä¸ªäººåšå®¢ç³»ç»Ÿ https://github.com/jackhutu/jackblog-vue vue-cnode vue-cnode - é‡å†™vueç‰ˆcnodeç¤¾åŒº https://github.com/lzxb/vue-cnode CMS-of-Blog CMS-of-Blog - åšå®¢å†…å®¹ç®¡ç†å™¨ https://github.com/ycwalker/CMS-of-Blog rss-reader rss-reader - ç®€å•çš„rssé˜…è¯»å™¨ https://github.com/mrgodhani/rss-reader vue-ghpages-blog vue-ghpages-blog - ä¾èµ–GitHub Pagesæ— éœ€æœ¬åœ°ç”Ÿæˆçš„é™æ€åšå®¢ https://github.com/viko16/vue-ghpages-blog swoole-vue-webim swoole-vue-webim - Webç‰ˆçš„èŠå¤©åº”ç”¨ https://github.com/wh469012917/swoole-vue-webim vue-dashing-js vue-dashing-js - nuvo-dashing-jsçš„fork https://github.com/thelinuxlich/vue-dashing-js fewords fewords - åŠŸèƒ½æå…¶ç®€å•çš„ç¬”è®°æœ¬ https://github.com/sapjax/fewords vue-blog vue-blog - ä½¿ç”¨Vue2.0 å’ŒVuexçš„vue-blog https://github.com/surmon-china/vue-blog Vue-cnodejs Vue-cnodejs - åŸºäºvueé‡å†™Cnodejs.orgçš„webapp https://github.com/shinygang/Vue-cnodejs NeteaseCloudWebApp NeteaseCloudWebApp - é«˜ä»¿ç½‘æ˜“äº‘éŸ³ä¹çš„webapp https://github.com/javaSwing/NeteaseCloudWebApp vue-zhihu-daily vue-zhihu-daily - çŸ¥ä¹æ—¥æŠ¥ with Vuejs https://github.com/hilongjw/vue-zhihu-daily vue-wechat vue-wechat - vue.jså¼€å‘å¾®ä¿¡appç•Œé¢ https://github.com/useryangtao/vue-wechat vue2-demo vue2-demo - ä»é›¶æ„å»ºvue2 + vue-router + vuex å¼€å‘ç¯å¢ƒ https://github.com/lzxb/vue2-demo eleme eleme - é«˜ä»¿é¥¿äº†ä¹ˆappå•†å®¶è¯¦æƒ… https://github.com/liangxiaojuan/eleme vue-demo vue-demo - vueç®€æ˜“ç•™è¨€æ¿ https://github.com/kenberkeley/vue-demo maizuo maizuo - vue/vuex/reduxä»¿å–åº§ç½‘ https://github.com/zhengguorong/maizuo spa-starter-kit spa-starter-kit - å•é¡µåº”ç”¨å¯åŠ¨å¥—ä»¶ https://github.com/codecasts/spa-starter-kit vue-music vue-music - Vue éŸ³ä¹æœç´¢æ’­æ”¾ https://github.com/Sioxas/vue-music douban douban - æ¨¡ä»¿è±†ç“£å‰ç«¯ https://github.com/jiakeqi/douban vue-Meizi vue-Meizi - vueæœ€æ–°å®æˆ˜é¡¹ç›® https://github.com/liangxiaojuan/vue-Meizi zhihudaily-vue zhihudaily-vue - çŸ¥ä¹æ—¥æŠ¥webç‰ˆ https://github.com/yatessss/zhihudaily-vue vue-demo-kugou vue-demo-kugou - vuejsä»¿å†™é…·ç‹—éŸ³ä¹webapp https://github.com/lavyun/vue-demo-kugou VueDemo_Sell_Eleme VueDemo_Sell_Eleme - Vue2é«˜ä»¿é¥¿äº†ä¹ˆå¤–å–å¹³å° https://github.com/SimonZhangITer/VueDemo_Sell_Eleme vue2.0-taopiaopiao vue2.0-taopiaopiao - vue2.0ä¸expressæ„å»ºæ·˜ç¥¨ç¥¨é¡µé¢ https://github.com/canfoo/vue2.0-taopiaopiao vue-leancloud-blog vue-leancloud-blog - ä¸€ä¸ªå‰åç«¯å®Œå…¨åˆ†ç¦»çš„å•é¡µåº”ç”¨ https://github.com/jiangjiu/vue-leancloud-blog node-vue-server-webpack node-vue-server-webpack - Node.js+Vue.js+webpackå¿«é€Ÿå¼€å‘æ¡†æ¶ https://github.com/yjj5855/node-vue-server-webpack mi-by-vue mi-by-vue - VueJSä»¿å°ç±³å®˜ç½‘ https://github.com/wendaosanshou/mi-by-vue vue-fis3 vue-fis3 - æµè¡Œå¼€æºå·¥å…·é›†æˆdemo https://github.com/okoala/vue-fis3 vue2.x-douban vue2.x-douban - Vue2å®ç°ç®€æ˜“è±†ç“£ç”µå½±webApp https://github.com/superman66/vue2.x-douban vue-demo-maizuo vue-demo-maizuo - ä½¿ç”¨Vue2å…¨å®¶æ¡¶ä»¿åˆ¶å–åº§ç”µå½± https://github.com/ChuckCZC/vue-demo-maizuo vue-zhihudaily vue-zhihudaily - çŸ¥ä¹æ—¥æŠ¥ Web ç‰ˆæœ¬ https://github.com/iHaPBoy/vue-zhihudaily vue-adminLte-vue-router vue-adminLte-vue-router - vueå’ŒadminLteæ•´åˆåº”ç”¨ https://github.com/liujians/vue-adminLte-vue-router vue-axios-github vue-axios-github - ç™»å½•æ‹¦æˆªç™»å‡ºåŠŸèƒ½ https://github.com/superman66/vue-axios-github Zhihu-Daily-Vue.js Zhihu-Daily-Vue.js - Vuejså•é¡µç½‘é¡µåº”ç”¨ https://github.com/pomelo-chuan/Zhihu-Daily-Vue.js hello-vue-django hello-vue-django - ä½¿ç”¨å¸¦æœ‰Djangoçš„vuejsçš„æ ·æ¿é¡¹ç›® https://github.com/rokups/hello-vue-django vue-cnode vue-cnode - vueå•é¡µåº”ç”¨demo https://github.com/wszgxa/vue-cnode x-blog x-blog - å¼€æºçš„ä¸ªäººblogé¡¹ç›® https://github.com/CommanderXL/x-blog vue-express-mongodb vue-express-mongodb - ç®€å•çš„å‰åç«¯åˆ†ç¦»æ¡ˆä¾‹ https://github.com/xrr2016/vue-express-mongodb websocket_chat websocket_chat - åŸºäºvueå’Œwebsocketçš„å¤šäººåœ¨çº¿èŠå¤©å®¤ https://github.com/secreter/websocket_chat photoShare photoShare - åŸºäºå›¾ç‰‡åˆ†äº«çš„ç¤¾äº¤å¹³å° https://github.com/beidan/photoShare vue-zhihudaily-2.0 vue-zhihudaily-2.0 - ä½¿ç”¨Vue2.0+vue-router+vuexåˆ›å»ºçš„zhihudaily https://github.com/cs1707/vue-zhihudaily-2.0 notepad notepad - æœ¬åœ°å­˜å‚¨çš„è®°äº‹æœ¬ https://github.com/lin-xin/notepad vueBlog vueBlog - å‰åç«¯åˆ†ç¦»åšå®¢ https://github.com/elva2596/vueBlog vue-ruby-china vue-ruby-china - VueJSæ¡†æ¶æ­å»ºçš„rubychinaå¹³å° https://github.com/hql123/vue-ruby-china Zhihu_Daily Zhihu_Daily - åŸºäºVueå’ŒNodejsçš„Webå•é¡µåº”ç”¨ https://github.com/littlewin-wang/Zhihu_Daily vue-koa-demo vue-koa-demo - ä½¿ç”¨Vue2å’ŒKoa1çš„å…¨æ ˆdemo https://github.com/Molunerfinn/vue-koa-demo vue2.x-Cnode vue2.x-Cnode - åŸºäºvueå…¨å®¶æ¡¶çš„Cnodeç¤¾åŒº https://github.com/vincentSea/vue2.x-Cnode life-app-vue life-app-vue - ä½¿ç”¨vue2å®Œæˆå¤šåŠŸèƒ½é›†åˆåˆ°å°webapp https://github.com/shaqihe/life-app-vue github-explorer github-explorer - å¯»æ‰¾æœ€æœ‰è¶£çš„GitHubåº“ https://github.com/SidKwok/github-explorer vue-trip vue-trip - vue2åšçš„å‡ºè¡Œwebapp https://github.com/wenye123/vue-trip vue-ssr-boilerplate vue-ssr-boilerplate - ç²¾ç®€ç‰ˆçš„ofvue-hackernews-2 https://github.com/albertchan/vue-ssr-boilerplate vue-bushishiren vue-bushishiren - ä¸æ˜¯è¯—äººåº”ç”¨ https://github.com/nswbmw/vue-bushishiren houtai houtai - åŸºäºvueå’ŒElementçš„åå°ç®¡ç†ç³»ç»Ÿ https://github.com/peng1992/houtai ios7-vue ios7-vue - ä½¿ç”¨vue2.0 vue-router vuexæ¨¡æ‹Ÿios7 https://github.com/QRL909109/ios7-vue Framework7-VueJS Framework7-VueJS - ä½¿ç”¨ç§»åŠ¨æ¡†æ¶çš„ç¤ºä¾‹ https://github.com/tyllo/Framework7-VueJS cnode-vue cnode-vue - åŸºäºvueå’Œvue-routeræ„å»ºçš„cnodejs webç½‘ç«™SPA https://github.com/BubblyPoker/cnode-vue vue-cli-multipage-bootstrap vue-cli-multipage-bootstrap - å°†vueå®˜æ–¹åœ¨çº¿ç¤ºä¾‹æ•´åˆåˆ°ç»„ä»¶ä¸­ https://github.com/zhoou/vue-cli-multipage-bootstrap vue-cnode vue-cnode - ç”¨ Vue åšçš„ CNode å®˜ç½‘ https://github.com/jiananle/vue-cnode HyaReader HyaReader - ç§»åŠ¨å‹å¥½çš„é˜…è¯»å™¨ https://github.com/GitaiQAQ/HyaReader zhihu-daily zhihu-daily - è½»æ¾æŸ¥çœ‹çŸ¥ä¹æ—¥æŠ¥å†…å®¹ https://github.com/xrr2016/zhihu-daily seeMusic seeMusic - è·¨å¹³å°äº‘éŸ³ä¹æ’­æ”¾å™¨ https://github.com/Alex-xd/seeMusic vue-cnode vue-cnode - ä½¿ç”¨cNodeç¤¾åŒºæä¾›çš„æ¥å£ https://github.com/Damonlw/vue-cnode zhihu-daily-vue zhihu-daily-vue - çŸ¥ä¹æ—¥æŠ¥ https://github.com/moonou/zhihu-daily-vue sls-vuex2-demo sls-vuex2-demo - vuex2å•†åŸè´­ç‰©è½¦demo https://github.com/sailengsi/sls-vuex2-demo vue-dropload vue-dropload - ç”¨ä»¥æµ‹è¯•ä¸‹æ‹‰åŠ è½½ä¸ç®€å•è·¯ç”± https://github.com/ITCNZ/vue-dropload vue-cnode-mobile vue-cnode-mobile - æ­å»ºcnodeç¤¾åŒº https://github.com/soulcm/vue-cnode-mobile Vuejs-SalePlatform Vuejs-SalePlatform - vuejsæ­å»ºçš„å”®å–å¹³å°demo https://github.com/fishenal/Vuejs-SalePlatform v-notes v-notes - ç®€å•ç¾è§‚çš„è®°äº‹æœ¬ https://github.com/Halfeld/v-notes vue-starter vue-starter - VueJsé¡¹ç›®çš„ç®€å•å¯åŠ¨é¡µ https://github.com/BosNaufal/vue-starter vue-memo vue-memo - ç”¨ vueå†™çš„è®°äº‹æœ¬åº”ç”¨ https://github.com/youknowznm/vue-memo","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://yangyfeng.github.io/blogpost/categories/å‰ç«¯/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://yangyfeng.github.io/blogpost/tags/Vue/"}]},{"title":"æ–‡ç« ç½®é¡¶","slug":"åšå®¢æ–‡æ¡£/æ–‡ç« ç½®é¡¶","date":"2018-12-29T16:00:00.000Z","updated":"2021-04-16T02:14:47.044Z","comments":true,"path":"/posts/7a527409.html","link":"","permalink":"https://yangyfeng.github.io/posts/7a527409.html","excerpt":"æ–‡ç« çš„Front-matterå¡«å†™top: trueå°±ç½®é¡¶äº†ã€‚1top: true è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹åšå®¢ã€‚æºç ç›®å½•ï¼šhttps://github.com/xaoxuu/blog-example","text":"æ–‡ç« çš„Front-matterå¡«å†™top: trueå°±ç½®é¡¶äº†ã€‚1top: true è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹åšå®¢ã€‚æºç ç›®å½•ï¼šhttps://github.com/xaoxuu/blog-example æ²¡æœ‰æ›´å¤šäº†å“¦ã€‚","categories":[{"name":"åšå®¢æ–‡æ¡£","slug":"åšå®¢æ–‡æ¡£","permalink":"https://yangyfeng.github.io/blogpost/categories/åšå®¢æ–‡æ¡£/"}],"tags":[]},{"title":"ç»™æ–‡ç« åŠ bgm","slug":"åšå®¢æ–‡æ¡£/ç»™æ–‡ç« åŠ bgm","date":"2018-12-29T16:00:00.000Z","updated":"2021-04-16T02:14:11.733Z","comments":true,"path":"/posts/3090f597.html","link":"","permalink":"https://yangyfeng.github.io/posts/3090f597.html","excerpt":"","text":"1234567---title: ç»™æ–‡ç« åŠ bgmdate: 2018-12-30music: type: song # song ï¼ˆå•æ›²ï¼‰ album ï¼ˆä¸“è¾‘ï¼‰ playlist ï¼ˆæ­Œå•ï¼‰ search ï¼ˆæœç´¢ï¼‰ id: 26664345 # æ­Œæ›²/ä¸“è¾‘/æ­Œå• ID---","categories":[{"name":"åšå®¢æ–‡æ¡£","slug":"åšå®¢æ–‡æ¡£","permalink":"https://yangyfeng.github.io/blogpost/categories/åšå®¢æ–‡æ¡£/"}],"tags":[]}]}